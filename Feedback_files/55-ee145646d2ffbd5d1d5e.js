(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"217T":function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="course.content.assessment.groupAlreadySubmitted.title"\n          analytics-id-tag-prefix="course.content.assessment.groupAlreadySubmitted">\n    <div name="modal-contents">\n        <p bb-translate>course.content.assessment.groupAlreadySubmitted.description</p>\n    </div>\n    <button name="modal-footer-button-primary" role="button" class="button js-primary-button" ng-click="$parent.$dismiss()"\n            bb-translate-attrs="{\'aria-label\':\'course.content.assessment.groupAlreadySubmitted.ok\'}" analytics-id="course.content.assessment.groupAlreadySubmitted.ok">\n      <bb-translate>course.content.assessment.groupAlreadySubmitted.ok</bb-translate>\n    </button>\n</bb-modal>\n'},"2MQt":function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-check-circle",use:"icon-medium-check-circle-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-check-circle"><circle cx="12" cy="12" r="11" stroke-width="2" /><path d="M7 12l4 4 7-8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},"2lxm":function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return d}));var n=s("D57K"),i=s("Llzl"),r=s("pjml"),a=s("aHpC"),o=s("IbyE"),l=s("9OUN");const c="ultra.service.gradable-item-user-option",d="gradableItemUserOptionService";let m=class{constructor(e,t,s){this.$rootScope=e,this.$q=t,this.$ngRedux=s,this.subscribeToRedux()}subscribeToRedux(){const e=this.$ngRedux.connect(null,(e=>Object(l.bindActionCreators)({persistGradableItemUserOption:o.actions.gradableItemUserOption.persistGradableItemUserOption,deleteGradableItemUserOption:o.actions.gradableItemUserOption.deleteGradableItemUserOption,fetchGradableItemUserOption:o.actions.gradableItemUserOption.fetchGradableItemUserOption,fetchGradableItemUserOptionCount:o.actions.gradableItemUserOption.fetchGradableItemUserOptionCount,fetchGradableItemUserOptionExceptions:o.actions.gradableItemUserOption.fetchGradableItemUserOptionExceptions},e)))(this);this.$rootScope.$on("$destroy",e)}updateGradableItemUserOption(e,t){return this.$q.when(this.persistGradableItemUserOption(e,t)).then((e=>e.item))}removeGradableItemUserOption(e){return this.$q.when(this.deleteGradableItemUserOption(e)).then((e=>e))}getGradableItemUserOption(e,t,s){const n={courseId:e,columnId:t},i={membershipIds:s};return this.$q.resolve(this.fetchGradableItemUserOption(n,i))}getGradableItemUserOptionExceptions(e,t,s){const n={courseId:e,membershipId:t},i={columnId:s};return this.$q.resolve(this.fetchGradableItemUserOptionExceptions(n,i))}getGradableItemUserOptionCount(e,t){const s={courseId:e,columnId:t};return this.$q.resolve(this.fetchGradableItemUserOptionCount(s,{}))}getGradableItemUserOptionByMembershipId(e,t){return o.select.gradableItemUserOption.getGradableItemUserOptionByColumnAndMembershipId(this.$ngRedux.getState(),e,t)}getGradableItemUserOptionByUserId(e,t,s){var n;const i=null===(n=o.select.courseMembership.getCourseMembershipsByUserIds(this.$ngRedux.getState(),t,[s])[0])||void 0===n?void 0:n.id;return o.select.gradableItemUserOption.getGradableItemUserOptionByColumnAndMembershipId(this.$ngRedux.getState(),e,i)}};m=Object(n.__decorate)([Object(n.__param)(0,Object(a.b)("$rootScope")),Object(n.__param)(1,Object(a.b)("$q")),Object(n.__param)(2,Object(a.b)("$ngRedux"))],m);i.module(c,[r.N]).service(d,m)},"4VOk":function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-privacy-policy",use:"icon-medium-privacy-policy-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-privacy-policy"><path d="M21 8V1H3v22h6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M13 16h9v7h-9zM7 5h8M7 9h10" /><path opacity=".9" d="M7 13h5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M7 17h3M15 16v-4h5v4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},"6ZXc":function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-download",use:"icon-medium-download-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-download"><path d="M12 15V1M8 11l4 4 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M1 7v16h22V7h-4M1 7h4-4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},"94SL":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("o5Lu"),i=s("pjml"),r=s("zGdY");class a{constructor(e,t,s,n,i,a){this.contentData=e,this.gradableItemUserOptionService=t,this.context=s,this.grade=n,this.schemaService=i,this.contextCourseMembership=a,this.currentAttempt=e.groupAttempt||e.attempt,this.highestPossibleScore=e.gradingColumn.possible,this.dueDate=e.gradingColumn.dueDate,this.gradableItemUserOptionService.getGradableItemUserOption(e.courseContent.courseId,e.gradingColumn.id,[a.courseMembership.id]).then((e=>{var t;this.studentHasDueDateException=!!e.byCourseMembershipId[a.courseMembership.id],this.studentHasDueDateException&&(this.dueDateException=e.byCourseMembershipId[a.courseMembership.id],this.studentHasNoDueDateAsException=(null===(t=this.dueDateException)||void 0===t?void 0:t.dueDateExceptionType)===r.LearnFetchGradableItemUserOptionTypes.Unlimited)}))}init(){this.dueDateException=this.gradableItemUserOptionService.getGradableItemUserOptionByMembershipId(this.contentData.gradingColumn.id,this.contextCourseMembership.courseMembership.id),this.studentHasDueDateException=!!this.dueDateException,this.setAttemptCountsAndDate()}get unsubmittedAttemptsLeft(){var e;if(!this.contentData.gradeDetail)return this.contentData.gradingColumn.multipleAttempts;let t=this.contentData.gradeDetail.attemptsLeft;return this.contentData.attempt&&(null===(e=this.currentAttempt)||void 0===e?void 0:e.isInProgress())&&t++,t}isUnlimitedAttempts(){return this.contentData.gradingColumn.isUnlimitedAttempts()}get isDueDateEnforced(){var e,t;return(null===(t=null===(e=this.contentData.courseContent.getDeployedAssessment())||void 0===e?void 0:e.deploymentSettings)||void 0===t?void 0:t.isDueDateEnforced)&&!this.contentData.courseContent.hasDueDateException()}get isLateAttemptCreationDisallowed(){var e;return(null===(e=this.contentData.courseContent.getDeployedAssessment())||void 0===e?void 0:e.deploymentSettings.isLateAttemptCreationDisallowed)&&!this.contentData.courseContent.hasDueDateException()}get isOverdue(){var e;const t=this.isDueDateEnforced&&(null===(e=this.currentAttempt)||void 0===e?void 0:e.isInProgress()),s=this.studentHasDueDateException?this.dueDateException.effectiveDueDate:this.dueDate;return s&&s.getTime()-this.context.getServerTime().getTime()<0&&!this.contentData.courseContent.hasDueDateException()&&!t}get noNewAttemptsAreAllowed(){const e=this.studentHasDueDateException?this.dueDateException.effectiveDueDate:this.dueDate;return e&&e.getTime()-this.context.getServerTime().getTime()<0&&this.isLateAttemptCreationDisallowed}get willDueDateOverrideTimeLimit(){var e;return!(!this.isDueDateEnforced||!this.timedTestAttemptDetail.hasTimeLimit)&&((null===(e=this.currentAttempt)||void 0===e?void 0:e.isInProgress())?this.timedTestAttemptDetail.withinDueDatelimit&&(this.dueDate.getTime()-this.currentAttempt.creationDate.getTime())/1e3<this.timedTestAttemptDetail.adaptedTime.softlimitSeconds:this.timedTestAttemptDetail.dueDateIsSoonerThanSoftTimeLimit)}isRubricAssociated(){return this.contentData.gradingColumn.hasRubricAssociation()}get rubric(){return this.contentData.gradingColumn.getAssociatedRubric()}isRubricScoreOverridden(){return this.contentData.gradeDetail&&this.contentData.gradeDetail.isOverrideGrade()}get rubricViewIsVisible(){return this.isRubricAssociated()&&!this.rubricEvaluationIsVisible}get rubricEvaluationIsVisible(){return this.isRubricAssociated()&&!this.isRubricScoreOverridden()&&angular.isDefined(this.currentAttempt)&&this.currentAttempt.isCompleted()&&angular.isDefined(this.currentAttempt.rubricEvaluation)}setAttemptCountsAndDate(){this.contentData.gradeDetail?this.contentData.gradingColumn.grades.$buildRaw(this.contentData.gradeDetail).attempts.$refresh({fields:"id,status,attemptDate"}).$then((e=>{this.attemptCount=e.length,this.attemptCountSubmitted=e.getNumAttemptsSubmitted(),this.attemptCountSubmittedLate=e.getNumAttemptsSubmittedLate(this.studentHasDueDateException?this.dueDateException.effectiveDueDate:this.dueDate),this.areAllAttemptsCompleted=e.isAllGradedAndPosted(),this.isAtLeastOneAttemptCompleted=e.isAtLeastOneGradedAndPosted();const t=i.C.parseAttemptAggregationModel(this.contentData.gradingColumn&&this.contentData.gradingColumn.aggregationModel),s=n.d.getDefaultAttemptIdToLoad(t,this.contentData.gradeDetail),r=e.find((e=>e.id===s));this.aggregationModelRelevantAttemptDate=r&&r.attemptDate,this.onAttemptCountComplete()})):this.attemptCount=0}get attemptsSubmittedDescriptionKey(){return"course.content.assessment.overview.attemptsSubmitted.status."+(this.isOverdue?"late":"onTime")}get attemptsRemainingDescriptionKey(){return"course.content.assessment.overview.attemptsRemaining."+(this.isUnlimitedAttempts()?"unlimited":"plural")}showAttemptDescription(){return this.contentData.gradingColumn&&angular.isDefined(this.attemptCount)}showAttemptsSubmittedDescription(){return this.contentData.gradingColumn&&this.contentData.gradingColumn.isMultipleAttempts()&&(this.currentAttempt&&this.currentAttempt.isSubmitted()||this.attemptCount>1)}}},"9G/E":function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-profile-user",use:"icon-medium-profile-user-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-profile-user"><path d="M12 13c3.3137 0 6-2.6863 6-6s-2.6863-6-6-6-6 2.6863-6 6 2.6863 6 6 6zM23 23c-.5-5-4.5-10-11-10S1.5 18 1 23" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},"9ah5":function(e,t){e.exports='<div class="tests assessment-overview" ng-class="{\'late-attempt\': assessmentOverview.shouldHaveLateAttemptClass}" bb-group-attempt-activities-peek="assessmentOverview.currentAttempt">\n  <div class="panel-wrap panel-wrap-flex"\n       ng-class="{\n         \'over-close-button\': assessmentOverview.hideOverview,\n         \'has-footer\': assessmentOverview.hasFooter,\n         \'has-extended-footer\': assessmentOverview.startPeerReviewsButtonVisible,\n         \'has-footer-password\': assessmentOverview.isAssessmentPasswordProtected && !assessmentOverview.shouldShowProctoringErrorMessage && !assessmentOverview.showAfterAttemptedFooter,\n         \'has-footer-password-error\': assessmentOverview.passwordErrorMessageKey,\n         \'has-footer-proctoring-error\': assessmentOverview.shouldShowProctoringErrorMessage\n        }">\n    <header class="black-panel-header" ng-show="!assessmentOverview.hideOverview">\n      <div class="black-header-contents">\n        <button class="left-off-canvas-toggle menu-toggle standard-button dark-background" type="button" analytics-id="course.content.assessment.overview.menu.button">\n          <bb-svg-icon class="assessment-overview-item__icon" size="small" icon="main-menu"></bb-svg-icon>\n          <span class="sr-only" bb-translate>course.content.assessment.overview.menu</span>\n        </button>\n        <h1 class="panel-title" bb-translate translate-values="{\'title\': assessmentOverview.customCategory}">{{::assessmentOverview.panelTitle}}</h1>\n        <a class="standard-button dark-background" ui-sref-active="active"\n           ng-if="assessmentOverview.content.ui.hasConversationAttached && assessmentOverview.content.attachedForumLink"\n           bb-peek-sref="conversations({courseId: assessmentOverview.content.courseId, contentId: assessmentOverview.content.id})"\n           bb-translate-attrs="{\'aria-label\':\'components.directives.header.openAria\'}" analytics-id="assessmentOverview.content.id.link">\n          <bb-svg-icon size="small" icon="conversation" ng-class="{\'has-indicator\': assessmentOverview.hasClassIndicator}"></bb-svg-icon>\n        </a>\n      </div>\n    </header>\n    <header class="row panel-header show-for-small-only">\n      <div class="goal-small-panel" ng-if="assessmentOverview.showGoalDetails">\n        <button class="button super-clear icon" ng-click="assessmentOverview.hideGoals()" analytics-id="assessmentOverview.hideGoals.button">\n          <bb-svg-icon class="assessment-overview-item__icon" size="small" icon="arrow-left"></bb-svg-icon>\n          <span class="sr-only" bb-translate>course.goal-alignment.goal.sr-only.closeGoals</span>\n        </button>\n        <div class="goal-head">\n          <span class="goal-title" bb-translate>course.goal-alignment.goal.header</span>\n        </div>\n      </div>\n      <div class="js-rubric-small-header slide-menu-small-panel" ng-if="assessmentOverview.showRubricDetails">\n        <div class="slide-menu-header">\n          <button class="button super-clear icon"  ng-click="assessmentOverview.hideRubricPanel()" analytics-id="assessmentOverview.hideRubricPanel.button">\n            <bb-svg-icon size="small" icon="arrow-left"></bb-svg-icon>\n            <span class="sr-only" bb-translate>global.close</span>\n          </button>\n          <span class="slide-menu-title" bb-translate>course.content.assessment.overview.rubricPanelHeader</span>\n        </div>\n      </div>\n    </header>\n    <div class="spinner bb-secondary-color-2" ng-if="assessmentOverview.isLoading" aria-hidden="true"></div>\n    <section class="panel-content has-slide-up-section" ng-class="{\'section-slide\': assessmentOverview.hideOverview}" bb-first-time-container>\n      <bb-panel-header\n        ng-class="{\'hide-header-small\': assessmentOverview.hideOverview, \'has-indicator\': assessmentOverview.hasClassIndicator}"\n        class="bb-panel-header"\n        show-course="true"\n        show-conversations="true"\n        content="assessmentOverview.content"\n        panel-title="assessmentOverview.content.title"\n        can-edit="false">\n      </bb-panel-header>\n      <bb-peer-review-has-been-deleted-banner\n        ng-if="assessmentOverview.showPeerReviewHasBeenDeletedBanner()"\n        assign-and-navigate-to-peer-review="assessmentOverview.assignAndNavigateToPeerReview"\n        dismiss-banner="assessmentOverview.dismissPeerReviewsDeletedBanner"\n        has-enough-submissions-for-peer-assessment="assessmentOverview.hasEnoughSubmissionsForPeerAssessment()"\n        can-retrieve-new-peer-review="assessmentOverview.canRetrieveNewPeerReview()"\n      ></bb-peer-review-has-been-deleted-banner>\n      <bb-time-limit-overridden-by-due-date-banner ng-if="assessmentOverview.showDueDateWarnings"></bb-time-limit-overridden-by-due-date-banner>\n      <bb-content-navigator content="assessmentOverview.content"></bb-content-navigator>\n      \x3c!--View class conversation FTUE--\x3e\n      <div ng-if="assessmentOverview.content.ui.hasConversationAttached && assessmentOverview.content.attachedForumLink" class="guidance-wrapper class-conversation-ftue">\n        <bb-guidance component-key="components.features.course.content.assessment.ftue.class-conversation" class="guidance-element-overlay">\n          <span bb-translate="{{::assessmentOverview.classConversationFtueKey}}" translate-values="{title: assessmentOverview.customCategory}"></span>\n        </bb-guidance>\n      </div>\n      <div class="panel-content-flex panel-content-inner assessment-overview-panel">\n        <div class="panel-content-info assessment-summary" ng-show="!assessmentOverview.hideOverview">\n          <bb-group-student-enrollment-asmt-banner  ng-if="assessmentOverview.content.userNeedsToSelfEnrollInGroup()"\n                                                    content="assessmentOverview.content"\n                                                    from-view="assessment.overview"></bb-group-student-enrollment-asmt-banner>\n          <div class="row collapse">\n            <div class="small-10 columns">\n              <h2 bb-translate>course.content.assessment.overview.detailsHeader</h2>\n            </div>\n          </div>\n          <ul class="row assessment-features" tabindex="-1" ng-show="!assessmentOverview.isLoading">\n            \x3c!--Due date--\x3e\n            <li class="js-due-date">\n              <bb-svg-icon class="assessment-overview-item__icon" size="medium" aria-hidden="true" icon="calendar" ng-class="{\'alert\': assessmentOverview.showPastDueForDueDate()}"></bb-svg-icon>\n              <div ng-switch="assessmentOverview.dueDate != null">\n                <span class="settings-label" bb-translate>course.content.assessment.overview.dueDate</span>\n                <span class="settings-link" ng-switch-when="true">\n                  <div class="alert vertical-bar" ng-if="assessmentOverview.showPastDueForDueDate()">\n                    <span class="alert-text" bb-translate ng-if="!assessmentOverview.isAssessmentSubmissionComplete">course.content.assessment.overview.pastDue</span>\n                    <span class="alert-text" bb-translate ng-if="assessmentOverview.isAssessmentSubmissionComplete">course.content.assessment.overview.late</span>\n                  </div>\n                  <bb-datetime ng-if="!assessmentOverview.studentHasDueDateException" value="::assessmentOverview.dueDate" format="Short"></bb-datetime>\n                  <bb-datetime ng-if="assessmentOverview.studentHasDueDateException" value="assessmentOverview.dueDateException.effectiveDueDate" format="Short"></bb-datetime>\n                  <span class="settings-link" ng-if="::assessmentOverview.studentHasNoDueDateAsException" bb-translate>course.content.assessment.overview.noDueDate</span>\n                </span>\n                <ul class="due-date-options" ng-switch-when="true">\n                  <li ng-if="::assessmentOverview.isDueDateEnforced">\n                    <span bb-translate="course.content.assessment.overview.enforceDueDate"></span>\n                  </li>\n                  <li ng-if="::assessmentOverview.isLateAttemptCreationDisallowed">\n                    <span bb-translate="course.content.assessment.overview.lateAttemptCreationDisallowed"></span>\n                  </li>\n                </ul>\n                <span class="settings-link" ng-switch-default bb-translate>course.content.assessment.overview.noDueDate</span>\n              </div>\n            </li>\n            \x3c!--Time Limit --\x3e\n            <li ng-if="assessmentOverview.hasTimeLimit" class="js-time-limit-type">\n              <bb-ui-icon-medium-no-time-limit ng-if="assessmentOverview.showDueDateWarnings" class="assessment-overview-item__icon time-limit-overridden grayed-out"></bb-ui-icon-medium-no-time-limit>\n              <bb-ui-icon-medium-time-limit ng-if="!assessmentOverview.showDueDateWarnings" class="assessment-overview-item__icon"></bb-ui-icon-medium-time-limit>\n              <div>\n                <span ng-class="{\'time-limit-overridden grayed-out\' : assessmentOverview.showDueDateWarnings }"\n                      class="settings-label"\n                      bb-translate>course.content.assessment.test.settings.timeLimit.label</span>\n                <span class="settings-link js-time-limit-auto-submission">\n                  <span ng-class="{\'time-limit-overridden grayed-out line-through\' : assessmentOverview.showDueDateWarnings }"\n                        class="js-time-limit-numerical"\n                        ng-bind-html="assessmentOverview.displayedTimeLimitSeconds | timeSpan: \'m\': this"></span>\n                  <span class="time-limit-description"\n                        ng-if="!assessmentOverview.canContinue"\n                        bb-translate>course.content.assessment.test.settings.timeLimit.autoSubmission</span>\n                </span>\n                <div ng-if="assessmentOverview.showRemainingTime">\n                  <span class="settings-label settings-link"\n                        bb-translate>course.content.assessment.test.settings.timeLimit.remainingTimeLabel</span>\n                  <span class="js-time-limit-overridden"\n                        ng-bind-html="assessmentOverview.remainingTimeInMinutesBeforeDueDateOverridesSoftTimeLimit * 60 | timeSpan: \'m\': this"></span>\n                </div>\n              </div>\n            </li>\n            \x3c!--Rubric--\x3e\n            <li class="js-rubric-overview" ng-if="assessmentOverview.rubricEvaluationIsVisible || assessmentOverview.rubricViewIsVisible">\n              <bb-svg-icon class="assessment-overview-item__icon" size="medium" icon="rubric"></bb-svg-icon>\n              <div class="tool-text">\n                <span class="settings-label" bb-translate>course.content.assessment.overview.rubric</span>\n                <span class="settings-link">\n                  <button class="button button--text" ng-click="assessmentOverview.showRubricPanel()" bb-click-focus=".rubric-evaluation-subpanel" bb-translate analytics-id="course.content.assessment.overview.gradedWithRubric">course.content.assessment.overview.gradedWithRubric</button>\n                </span>\n              </div>\n            </li>\n            \x3c!--Goals--\x3e\n            <li class="goal-alignment-li" ng-if="assessmentOverview.alignedGoalsCount">\n              <bb-svg-icon class="assessment-overview-item__icon" size="medium" icon="goal"></bb-svg-icon>\n              <div class="goal-text">\n                <span class="settings-label" bb-translate>course.goal-alignment.goal.header</span>\n                <span class="settings-link">\n                  <a href="javascript:void(0);" role="button" tabindex="{{assessmentOverview.hideOverview ? -1 : 0}}" class="js-view-goals"\n                     ng-click="assessmentOverview.showGoals()" bb-translate\n                     translate-values="{number: assessmentOverview.alignedGoalsCount}" analytics-id="course.goal-alignment.goal.alignedGoals.plural">\n                    course.goal-alignment.goal.alignedGoals.plural\n                  </a>\n                </span>\n              </div>\n            </li>\n            \x3c!--Number of attempts remaining and submitted--\x3e\n            <li>\n              <bb-svg-icon class="assessment-overview-item__icon" size="medium" icon="attempts"></bb-svg-icon>\n              <div ng-if="assessmentOverview.showAttemptDescription()">\n                <span class="settings-label" bb-translate>course.content.assessment.overview.attempts</span>\n                <span class="settings-link">\n                  <span ng-class="{\'vertical-bar\' : assessmentOverview.showAttemptsSubmittedDescription() }"\n                    bb-translate translate-values="{count: assessmentOverview.unsubmittedAttemptsLeft}">\n                    {{::assessmentOverview.attemptsRemainingDescriptionKey}}\n                  </span>\n                  <span ng-if="::assessmentOverview.showAttemptsSubmittedDescription()">\n                    <a ng-if="!assessmentOverview.detailsView" href="javascript:void(0);" ng-click="assessmentOverview.openAttemptReview()"\n                      bb-translate translate-values="{submitted: assessmentOverview.attemptCountSubmitted, late: assessmentOverview.attemptCountSubmittedLate}" analytics-id="{{::assessmentOverview.attemptsSubmittedDescriptionKey}}">\n                      {{::assessmentOverview.attemptsSubmittedDescriptionKey}}\n                    </a>\n                    <span ng-if="assessmentOverview.detailsView" bb-translate translate-values="{submitted: assessmentAttempt.attemptCountSubmitted, late: assessmentAttempt.attemptCountSubmittedLate}">\n                      {{::assessmentAttempt.attemptsSubmittedDescriptionKey}}\n                    </span>\n                  </span>\n                </span>\n              </div>\n            </li>\n            \x3c!--Peer review--\x3e\n            <li class="peer-grading-li" ng-if="assessmentOverview.isPeerGradingConfigured">\n              <bb-svg-icon class="assessment-overview-item__icon" ng-class="{\'alert\': assessmentOverview.isPeerReviewsLate()}" size="medium" icon="peer-review"></bb-svg-icon>\n              <div ng-if="assessmentOverview.showAttemptDescription()">\n                <span class="settings-label" bb-translate>course.content.assessment.test.settings.peerGrading.summary.label</span>\n                <span class="settings-link">\n                  <span class="peer-reviews-left vertical-bar" bb-translate translate-values="{ numOfPeersToReview: assessmentOverview.numOfPeerReviewsLeft }">\n                    course.content.assessment.test.settings.peerGrading.summary.peerReviewsLeft\n                  </span>\n                  <span class="alert" ng-if="assessmentOverview.isPeerReviewsLate()">\n                    <span class="alert-text" ng-if="!assessmentOverview.arePeerReviewsComplete()" bb-translate>course.content.assessment.overview.pastDue</span>\n                    <span class="alert-text" ng-if="assessmentOverview.arePeerReviewsComplete()" bb-translate translate-values="{numReviewsLate: assessmentOverview.numberOfLatePeerReviews()}">course.content.assessment.overview.assignedPeerReviews.numberOfReviewsLate</span>\n                  </span>\n                  <span ng-if="!assessmentOverview.isPeerReviewsLate()" class="peer-review-due-date" bb-translate translate-values="{ datetime: assessmentOverview.peerReviewDueDate }">\n                    course.content.assessment.test.settings.peerGrading.summary.reviewDueDate\n                  </span>\n                </span>\n                <span ng-if="assessmentOverview.isPeerReviewsLate()" class="peer-review-due-date" bb-translate translate-values="{ datetime: assessmentOverview.peerReviewDueDate }">\n                  course.content.assessment.test.settings.peerGrading.summary.reviewDueDate\n                </span>\n              </div>\n            </li>\n            \x3c!--Group information--\x3e\n            <li ng-if="assessmentOverview.content.isGroupContent">\n              <bb-svg-icon class="assessment-overview-item__icon" size="medium" icon="groups"></bb-svg-icon>\n              <div ng-if="assessmentOverview.content.userNeedsToSelfEnrollInGroup()">\n                <span class="settings-label" bb-translate="{{::assessmentOverview.groupAssessmentKey}}" translate-values="{\'title\': assessmentOverview.customCategory}"></span>\n                <bb-group-student-enrollment content="assessmentOverview.content" from-view="assessment.overview"></bb-group-student-enrollment>\n              </div>\n              <div ng-if="!assessmentOverview.content.userNeedsToSelfEnrollInGroup()">\n                <span class="settings-label" bb-translate="{{::assessmentOverview.groupAssessmentKey}}" translate-values="{\'title\': assessmentOverview.customCategory}"></span>\n                <span class="settings-link ellipsis" title="{{assessmentOverview.content.assignedGroups[0].groupTitle}}">{{assessmentOverview.content.assignedGroups[0].groupTitle}}</span>\n              </div>\n            </li>\n            \x3c!--Safe Assign--\x3e\n            <li ng-if="assessmentOverview.originalityReportService.isOriginalityReportEnabled() &&\n                       assessmentOverview.originalityReportService.isSafeAssignActiveOriginalityProvider()">\n              <bb-ui-icon-medium-safe-assign class="assessment-overview-item__icon"></bb-ui-icon-medium-safe-assign>\n              <div>\n                <span class="settings-label" bb-translate>course.content.originalityReport.settings.label</span>\n                <span class="settings-link" ng-if="assessmentOverview.detailsView">\n                  \x3c!-- htmlhint:analytics-id:disable --\x3e\n                  <button class="button button--text"\n                          ng-click="assessmentOverview.openSafeAssign()"\n                          analytics-id="course.content.assessment.test.settings.safeAssign.enabled">\n                            {{assessmentOverview.originalityReportService.getOriginalityReportLinkText(false)}}\n                  </button>\n                  \x3c!-- htmlhint:analytics-id:enable --\x3e\n                </span>\n                <span class="settings-link originality-enabled" ng-if="!assessmentOverview.detailsView && (!assessmentOverview.content.canStudentViewReports() || (!assessmentOverview.showScoreCard && !assessmentOverview.attemptCountSubmitted))">\n                  <span class="js-safeAssign-enabled">\n                    {{assessmentOverview.originalityReportService.getOriginalityReportLinkText(false)}}\n                  </span>\n                </span>\n                <span class="settings-link js-view-originality-report" ng-if="!assessmentOverview.detailsView && assessmentOverview.content.canStudentViewReports() && (assessmentOverview.showScoreCard || assessmentOverview.attemptCountSubmitted)">\n                  <ng-switch on="assessmentOverview.originalityReportAvailable">\n                    <span ng-switch-when="false" class="safe-assign-info" bb-translate="course.content.originalityReport.settings.originalityInProgress"></span>\n                    <span ng-switch-when="true">\n                      <button class="button--text"\n                                ng-click="assessmentOverview.openAttemptReview(true)"\n                                analytics-id="course.content.assessment.test.settings.safeAssign.available"\n                                bb-translate>\n                                course.content.originalityReport.settings.originalityAvailable\n                      </button>\n                    </span>\n                    <span ng-switch-when="null">\n                      {{assessmentOverview.originalityReportService.getOriginalityReportLinkText(false)}}\n                    </span>\n                    <span ng-switch-default class="safe-assign-info" bb-translate="course.content.originalityReport.settings.loadingLabel"></span>\n                  </ng-switch>\n                </span>\n              </div>\n            </li>\n            \x3c!--Originality Integration--\x3e\n            <li ng-if="assessmentOverview.originalityReportService.isOriginalityReportEnabled() &&\n                       assessmentOverview.originalityReportService.isIntegrationActiveOriginalityProvider()">\n              <bb-ui-icon-medium-safe-assign class="assessment-overview-item__icon"></bb-ui-icon-medium-safe-assign>\n              <div>\n                <span class="settings-label" bb-translate>course.content.originalityReport.settings.label</span>\n                <ng-switch on="!!assessmentOverview.attemptCountSubmitted">\n                  <span ng-switch-when="false" class="settings-link">\n                    <span class="js-safeAssign-enabled">\n                      {{assessmentOverview.originalityReportService.getOriginalityReportLinkText(false)}}\n                    </span>\n                  </span>\n                  <span ng-switch-when="true" class="settings-link">\n                    <button class="button--text"\n                          ng-click="assessmentOverview.openAttemptReview(true)"\n                          analytics-id="course.content.assessment.test.settings.integration.available"\n                          bb-translate\n                    >\n                      course.content.originalityReport.settings.originalityAvailable\n                    </button>\n                  </span>\n                </ng-switch>\n              </div>\n            </li>\n            \x3c!--Proctoring--\x3e\n            <ng-switch\n              ng-if="!!assessmentOverview.currentProctoringServiceType"\n              on="assessmentOverview.currentProctoringServiceType">\n              <li class="proctoring-summary" ng-switch-when="Respondus" ng-if="::assessmentOverview.content.isSecureBrowserRequiredToTake()">\n                <bb-ui-icon-medium-proctor-shield class="assessment-overview-item__icon"></bb-ui-icon-medium-proctor-shield>\n                <div class="proctoring-peek-container">\n                  <span class="settings-label" bb-translate>components.services.proctoring.overview.label</span>\n                  <span class="settings-link" ng-if="::assessmentOverview.getProctoringBrowserText()">\n                    <span bb-translate>{{assessmentOverview.getProctoringBrowserText()}}</span>\n                  </span>\n                  <span class="settings-link requirements" ng-if="::assessmentOverview.showBeforeAttemptedFooter && assessmentOverview.getProctoringRequirementsText()" bb-translate>{{assessmentOverview.getProctoringRequirementsText()}}</span>\n                  <span class="settings-link browser-download" ng-if="::assessmentOverview.showBeforeAttemptedFooter &&  assessmentOverview.getProctoringBrowserDownloadText()">\n                    <bb-svg-icon size="medium" icon="download"></bb-svg-icon>\n                    <a target="_blank" href="{{assessmentOverview.content.getProctoringDownloadUrl()}}" bb-translate analytics-id="{{assessmentOverview.getProctoringBrowserDownloadText()}}">{{assessmentOverview.getProctoringBrowserDownloadText()}}</a>\n                  </span>\n                </div>\n              </li>\n              <li class="ims-proctoring-overview-summary" ng-switch-when="IMS">\n                <bb-ui-icon-medium-proctor-shield class="assessment-overview-item__icon"></bb-ui-icon-medium-proctor-shield>\n                <div class="ims-proctoring-overview-summary__content">\n                  <span class="settings-label" bb-translate>course.content.assessment.overview.proctoring.sectionTitle</span>\n                  <span class="ims-proctoring-overview-summary__requirements" bb-translate>course.content.assessment.overview.proctoring.requirements</span>\n                </div>\n              </li>\n            </ng-switch>\n          </ul>\n          \x3c!--Grading section--\x3e\n          <div ng-if="assessmentOverview.isScorm" ng-show="!assessmentOverview.isLoading" class="scorm-overview-grades" ui-view="scorm-grading-section@"></div>\n          <div ng-if="!assessmentOverview.isScorm" class="row">\n            <span class="settings-label" bb-translate>course.content.assessment.overview.gradingHeader</span>\n            <div class="alert grading-notice"\n                 ng-if="assessmentOverview.showPastDueForDueDate() && !assessmentOverview.currentAttempt.isSubmitted() && !assessmentOverview.isLateAttemptCreationDisallowed">\n              <bb-svg-icon class="alert-icon assessment-overview-item__icon" icon="attention" size="small" status="alert"></bb-svg-icon>\n              <span class="notice-text" bb-translate>course.content.assessment.overview.pastDueZero.submitNowToUpdate</span>\n            </div>\n\n            \x3c!--Past-due-zero grade card (ie. "Your grade 0")--\x3e\n            \x3c!-- this shows when past due and no attempt has been made or a draft has been saved (no previous attempts submitted)--\x3e\n            <div class="submission-card" ng-if="!assessmentOverview.showScoreCard && assessmentOverview.showPastDueForDueDate()">\n              <span bb-content-item-icon content-column="assessmentOverview.contentData.gradingColumn" show-alert-icon="true"></span>\n\n              <div class="card-text">\n                <span class="submission-label" bb-translate>course.content.assessment.overview.scoreCard.yourScore</span>\n                <span ng-if="!assessmentOverview.isLateAttemptCreationDisallowed"\n                      class="submission-subtext"\n                      bb-translate>course.content.assessment.overview.pastDueZero.pastDueAndNotSubmitted</span>\n                <span ng-if="assessmentOverview.isLateAttemptCreationDisallowed"\n                      class="submission-subtext"\n                      bb-translate>course.content.assessment.overview.pastDueZero.pastDueAndNoNewAttemptsAllowed</span>\n              </div>\n              <div class="card-grade">\n                <bb-display-grade-pill grade="assessmentOverview.contentData.gradeDetail"\n                                       column="assessmentOverview.contentData.gradingColumn"></bb-display-grade-pill>\n              </div>\n            </div>\n\n            \x3c!--Pre-submission-grade-override grade card (ie. "Your grade 0")--\x3e\n            \x3c!-- this shows only when no attempt has been made or a draft has been saved and grade overridden (no previous attempts submitted)--\x3e\n            <div class="submission-card" ng-if="!assessmentOverview.attemptCountSubmitted && !assessmentOverview.showPastDueForDueDate() && assessmentOverview.contentData.gradeDetail.isPosted()">\n              <span bb-content-item-icon content-column="assessmentOverview.contentData.gradingColumn" show-alert-icon="true"></span>\n\n              <div class="card-text">\n                <span class="submission-label" bb-translate="course.content.assessment.overview.scoreCard.yourScore"></span>\n              </div>\n              <div class="card-grade">\n                <bb-display-grade-pill grade="assessmentOverview.contentData.gradeDetail"\n                                       column="assessmentOverview.contentData.gradingColumn"></bb-display-grade-pill>\n              </div>\n            </div>\n\n            \x3c!--Pre-submission grade card (ie. "Maximum score")--\x3e\n            \x3c!-- this shows only when no attempt has been made or a draft has been saved and grade not overridden (no previous attempts submitted)--\x3e\n            <div class="no-submission-card" ng-if="!assessmentOverview.showScoreCard && !assessmentOverview.attemptCountSubmitted && !assessmentOverview.showPastDueForDueDate() && !assessmentOverview.contentData.gradeDetail.isPosted()">\n              <span class="no-submission-icon" bb-content-item-icon content-column="assessmentOverview.contentData.gradingColumn" show-alert-icon="assessmentOverview.isOverdue"></span>\n              <div class="no-submission-text">\n                <span class="no-submission-label" bb-translate>course.content.assessment.overview.highestPossible</span>\n                <span class="no-submission-subtext" ng-if="assessmentOverview.currentAttempt.isInProgress()"\n                      bb-translate="course.content.assessment.overview.startedAt" translate-values="{ datetime: assessmentOverview.currentAttempt.modifiedDate }"></span>\n                <span class="no-submission-subtext" ng-if="!assessmentOverview.currentAttempt.isInProgress() && assessmentOverview.contentData.gradingColumn.isMultipleAttempts()"\n                      bb-translate="{{assessmentOverview.aggregationModelDescriptionKey}}"></span>\n              </div>\n              <div class="no-submission-value" bb-translate translate-values="{point: assessmentOverview.highestPossibleScore}">course.content.assessment.overview.maxPoint.plural</div>\n            </div>\n            \x3c!--Pre-submission grade card (ie. "Maximum score")--\x3e\n            \x3c!-- this shows when the current attempt is in progress and previous attempts have already been submitted --\x3e\n            <a class="has-link js-attempt-submitted" href="javascript:void(0);"\n               ng-if="!assessmentOverview.showScoreCard && (assessmentOverview.attemptCountSubmitted > 0)"\n               ng-click="assessmentOverview.openAttemptReview()"\n               analytics-id="course.content.assessment.overview.highestPossible.link">\n              <div class="no-submission-card">\n                <span class="no-submission-icon" bb-content-item-icon content-column="assessmentOverview.contentData.gradingColumn" show-alert-icon="assessmentOverview.isSubmittedLate()"></span>\n                <div class="no-submission-text">\n                  <span class="no-submission-label" bb-translate>course.content.assessment.overview.highestPossible</span>\n                  <span class="no-submission-subtext" ng-if="assessmentOverview.currentAttempt.isInProgress()"\n                        bb-translate="course.content.assessment.overview.startedAt" translate-values="{ datetime: assessmentOverview.currentAttempt.modifiedDate }"></span>\n                  <span class="no-submission-subtext" ng-if="!assessmentOverview.currentAttempt.isInProgress() && assessmentOverview.contentData.gradingColumn.isMultipleAttempts()"\n                        bb-translate="{{assessmentOverview.aggregationModelDescriptionKey}}"></span>\n                </div>\n                <div class="no-submission-value" bb-translate translate-values="{point: assessmentOverview.highestPossibleScore}">course.content.assessment.overview.maxPoint.plural</div>\n              </div>\n            </a>\n            \x3c!--Post-submission, pre-graded-and-posted grade card (ie. "Submission"/"Late Submission")--\x3e\n            \x3c!-- this shows only when an attempt has been submitted but not yet graded and posted by the instructor --\x3e\n            <a class="has-link js-attempt-submitted" href="javascript:void(0);" ng-if="assessmentOverview.showScoreCard && !assessmentOverview.contentData.gradeDetail.isPosted()" ng-click="assessmentOverview.openAttemptReview()" analytics-id="course.content.assessment.overview.scoreCard.submitted.link">\n              <div class="submission-card">\n                <span bb-content-item-icon content-column="assessmentOverview.contentData.gradingColumn" show-alert-icon="assessmentOverview.isSubmittedLate()" class="img-wrapper"></span>\n                <div class="card-text">\n                  <ng-switch on="assessmentOverview.isSubmittedLate()">\n                    <span ng-switch-when="true" class="submission-label late-submission" bb-translate="course.content.assessment.overview.scoreCard.lateSubmission"></span>\n                    <span ng-switch-default class="submission-label" bb-translate="course.content.assessment.overview.scoreCard.submission"></span>\n                  </ng-switch>\n                  <div class="card-text-attempt">\n                    <span bb-translate\n                          translate-values="{\'attemptDate\': assessmentOverview.latestAttemptDate}">course.content.assessment.overview.scoreCard.submitted</span>\n                  </div>\n                </div>\n                <div class="card-grade">\n                  <bb-display-grade-pill grade="assessmentOverview.contentData.gradeDetail"\n                                         column="assessmentOverview.contentData.gradingColumn"></bb-display-grade-pill>\n                </div>\n              </div>\n            </a>\n            \x3c!--Post-submission, graded-and-posted grade card (ie. "Your Score")--\x3e\n            \x3c!-- this shows only when an attempt has been submitted and graded then posted by the instructor --\x3e\n            <div class="js-attempt-posted" ng-if="assessmentOverview.showScoreCard && assessmentOverview.contentData.gradeDetail.isPosted()">\n                <div class="submission-card">\n                  <a href="javascript:void(0);" class="has-link sub-submission-card" bb-translate-attrs="{\'aria-label\': \'course.content.assessment.overview.externalSubmissionsFtue\'}" ng-click="assessmentOverview.openAttemptReview()" analytics-id="course.content.assessment.overview.scoreCard.yourScore.link">\n                    <span bb-content-item-icon content-column="assessmentOverview.contentData.gradingColumn" show-alert-icon="assessmentOverview.isSubmittedLate()"\n                          class="img-wrapper"></span>\n                    <div class="card-text">\n                      <span class="submission-label" bb-translate="course.content.assessment.overview.scoreCard.yourScore"></span>\n                      <span class="submission-subtext" ng-if="assessmentOverview.contentData.gradingColumn.isMultipleAttempts()"\n                            bb-translate="{{assessmentOverview.aggregationModelDescriptionKey}}"></span>\n                    </div>\n                    <div class="card-grade">\n                      <bb-display-grade-pill grade="assessmentOverview.contentData.gradeDetail" column="assessmentOverview.contentData.gradingColumn"></bb-display-grade-pill>\n                    </div>\n                  </a>\n                  <a href="javascript:void(0);" class="assessment-feedback-button" bb-translate-attrs="{\'aria-label\': \'course.content.assessment.overview.externalSubmissionsFtue\'}" ng-if="assessmentOverview.hasFeedback()" analytics-id="course.content.assessment.overview.assessmentResults.feedback.link" ng-click="assessmentOverview.openAttemptFeedback()" >\n                    <bb-svg-icon class="assessment-feedback-icon" size="medium" icon="feedback" role="presentation" aria-hidden="true" status="active"></bb-svg-icon>\n                  </a>\n                </div>\n            </div>\n          </div>\n          \x3c!--Assessment Results--\x3e\n          <div class="assessment-result-info" ng-if="assessmentOverview.showAssessmentResults">\n            <div class="row collapse">\n              <div class="small-10 columns assessment-result-info__header">\n                <h2 bb-translate>course.content.assessment.overview.assessmentResults.header</h2>\n                <button\n                  class="center-tooltip js-assessment-results-info-tooltip"\n                  bb-tooltip enhanced-tooltip="true"\n                  bb-translate-attrs="{\'aria-label\': \'course.content.assessment.overview.assessmentResults.info\',\n                                        title: \'course.content.assessment.overview.assessmentResults.info\'}"\n                  analytics-id="course.content.assessment.overview.assessmentResults.information.button">\n                  <bb-svg-icon aria-hidden="true" role="presentation" size="small" icon="information"></bb-svg-icon>\n                </button>\n              </div>\n            </div>\n            <ul class="row assessment-features">\n              <li class="assessment-result-options" ng-repeat="option in ::assessmentOverview.assessmentResultOptions">\n                <ng-switch on="assessmentOverview.isOptionAvailable(option.visible)">\n                  <bb-svg-icon ng-switch-when="true" size="medium" icon="{{::option.icon}}" status="active"></bb-svg-icon>\n                  <bb-svg-icon ng-switch-default size="medium" icon="{{::option.icon}}"></bb-svg-icon>\n                </ng-switch>\n\n                <div>\n                  <span class="settings-label">{{::option.optionLabel}}</span>\n                  <span class="settings-link" ng-bind-html="option.modeLabel"></span>\n                </div>\n\n                <span class="assessment-result-options__warning" aria-hidden="false" ng-if="assessmentOverview.shouldDisplayAssessmentResultsWarning(option) && !option.visible" bb-translate>\n                  course.content.assessment.overview.assessmentResults.availabilityCondition\n                </span>\n              </li>\n            </ul>\n          </div>\n          \x3c!--Assigned Peer Reviews--\x3e\n          <bb-assigned-peer-grading ng-if="assessmentOverview.isPeerGradingConfigured"\n                                    submission-due-date="::assessmentOverview.dueDate"\n                                    peer-review-due-date="::assessmentOverview.peerReviewDueDate"\n                                    peer-reviews-per-student="::assessmentOverview.numOfPeerReviewsToComplete"\n                                    allow-late-peer-reviews="::assessmentOverview.allowLatePeerReviews"\n                                    has-due-date-accommodation="::assessmentOverview.hasDueDateAccommodation"\n                                    is-submission-complete="assessmentOverview.isAssessmentSubmissionComplete"\n                                    is-submission-late="assessmentOverview.isSubmissionLate"\n                                    content="assessmentOverview.content"\n                                    component-updated-callback="assessmentOverview.peerReviewsComponentUpdatedCallback">\n          </bb-assigned-peer-grading>\n          \x3c!--Description--\x3e\n          <div class="row" ng-if="assessmentOverview.content.description">\n            <span class="settings-label" bb-translate>course.content.assessment.overview.descriptionHeader</span>\n            <span class="desc-content">\n              {{assessmentOverview.content.description}}\n            </span>\n          </div>\n          \x3c!--Proctoring Additional Notes --\x3e\n          <div class="proctoring-additional-notes" ng-if="::assessmentOverview.showProctoringAdditionalNotes() && assessmentOverview.content.isSecureBrowserRequiredToTake()">\n            <span class="settings-label" bb-translate>components.services.proctoring.overview.additionalNotes.label</span>\n            <span class="desc-content details-view" ng-if="::assessmentOverview.detailsView" bb-translate>components.services.proctoring.delivery.attempt.additionalNotes.description</span>\n            <span class="desc-content non-details-view" ng-if="::!assessmentOverview.detailsView" bb-translate>components.services.proctoring.overview.additionalNotes.description</span>\n          </div>\n          <div class="row group-assessment-members" ng-if="assessmentOverview.content.isGroupContent && !assessmentOverview.content.userNeedsToSelfEnrollInGroup()">\n            <h2 class="peek-title-h2">\n              <bb-translate translate-values="{number: assessmentOverview.groupUsers.length}">course.content.assessment.test.group.assignmentGroupMembers.plural</bb-translate>\n              <div class="group-buttons" bb-guidance-target component-key="components.features.course.content.assessment.ftue.group-conversation" keep-guidance-when-focusout="true">\n                <button ng-show="assessmentOverview.shouldShowCollabLink" ng-click="assessmentOverview.launchCollabSession()"\n                        bb-translate-attrs="{\'aria-label\':\'course.content.conversation.collaborate\', \'title\': \'course.content.conversation.collaborate\'}"\n                        class="button super-clear icon" aria-describedby="collab-icon-assessment" analytics-id="course.content.conversation.collobrate.button">\n                  <bb-collab-session-icon id="collab-icon-assessment" running-session-flag="assessmentOverview.runningSessionFlag"></bb-collab-session-icon>\n                </button>\n                <button ng-if="assessmentOverview.content.ui.hasConversationAttached && assessmentOverview.content.attachedForumLink"\n                        ng-click="assessmentOverview.gotoConversation(assessmentOverview.content.assignedGroups[0].groupId)"\n                        bb-translate-attrs="{\'aria-label\':\'components.directives.header.openAriaGroup\', \'title\': \'components.directives.header.openAriaGroup\'}"\n                        class="button super-clear icon" analytics-id="components.directives.header.openAriaGroup.button">\n                  <bb-svg-icon ng-class="{\'has-indicator\': assessmentOverview.hasGroupIndicator}" size="medium" icon="group-conversation"></bb-svg-icon>\n                </button>\n              </div>\n              \x3c!--View group conversation FTUE--\x3e\n              <div ng-if="assessmentOverview.content.ui.hasConversationAttached && assessmentOverview.content.attachedForumLink" class="guidance-wrapper group-conversation-ftue">\n                <bb-guidance component-key="components.features.course.content.assessment.ftue.group-conversation" class="guidance-element-overlay">\n                  <span bb-translate="{{::assessmentOverview.groupConversationFtueKey}}" translate-values="{title: assessmentOverview.customCategory}"></span>\n                </bb-guidance>\n              </div>\n            </h2>\n            <div class="member-container">\n              <div class="member js-member-{{::member.id}}" ng-repeat="member in assessmentOverview.groupUsers track by member.id"\n                ng-class="{\'is-owner\': member.id === groupAttemptOwnerId}">\n                <bb-usercard usercard-show="avatar"\n                             user="member" course-id="{{assessmentOverview.course.id}}"\n                             course-role="assessmentOverview.getCourseRole(member)"\n                             can-send-message="assessmentOverview.canSendMessage(member)"\n                             inactive="assessmentOverview.isInactive(member)">\n                </bb-usercard>\n                <bb-username class="member-name" user="member" format="short" has-title-attr="false" show-pronouns="true" show-pronunciation="true"></bb-username>\n                <span ng-if="member.id === groupAttemptOwnerId" bb-tooltip\n                      enhanced-tooltip="true"\n                      tooltip-position="bottom-right"\n                      bb-translate-attrs="{title: \'course.content.assessment.overview.currentEditingLabel\'}"\n                      translate-attrs-values="{user:{givenName: member.givenName, familyName: member.familyName}}">\n                  <bb-svg-icon class="draw" size="small" icon="draw"></bb-svg-icon>\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="goals-panel slide-small-container slide-animation" ng-class="{slideUp: assessmentOverview.showGoalDetails}">\n        <div ng-show="assessmentOverview.showGoalDetails">\n          <bb-goal-alignment contents="assessmentOverview.goalAlignedContents"\n                             hide-goals="assessmentOverview.hideGoals()"\n                             class="angular-animate content-assessment-goal-peek"\n                             analytics-id="course.content.assessment.goalAlignedContents.goalAlignment">\n          </bb-goal-alignment>\n        </div>\n      </div>\n      <div class="subpanel rubric-evaluation-subpanel slide-small-container slide-animation"\n           ng-class="{slideUp: assessmentOverview.showRubricDetails, slideDown: !assessmentOverview.showRubricDetails, opened: assessmentOverview.showRubricDetails}"\n           bb-translate-attrs="{\'aria-label\': \'course.content.assignmentRubricDetails\'}"\n           tabindex="-1">\n        <div ng-if="assessmentOverview.showRubricDetails">\n          <div class="panel-section-header">\n            <div class="panel-section-header-icon">\n              <bb-svg-icon size="medium" icon="rubric"></bb-svg-icon>\n            </div>\n            <div class="panel-section-header-text">\n              <h2 bb-translate>course.content.assessment.overview.rubricPanelHeader</h2>\n            </div>\n            <button class="button super-clear icon" bb-translate-attrs="{\'aria-label\': \'global.close\'}" ng-click="assessmentOverview.hideRubricPanel()" analytics-id="course.content.assessment.closeRubricPanel.button">\n              <bb-svg-icon size="small" icon="close"></bb-svg-icon>\n            </button>\n          </div>\n          <div class="panel-section-body row">\n            <bb-rubric-view\n              ng-if="assessmentOverview.contentData != null"\n              criteria="assessmentOverview.rubricViewPayload.criteria"\n              analytics-id="assessmentOverview.rubricViewPayload.analyticsId"\n              decimals-length="assessmentOverview.rubricViewPayload.decimalsLength"\n              rubric-type="assessmentOverview.rubricViewPayload.rubricType"\n              max-score="assessmentOverview.rubricViewPayload.maxScore"\n            >\n            </bb-rubric-view>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n  \x3c!-- A footer to display after the user has submitted. Includes a \'start reviews\' button for peer review assessments --\x3e\n  <footer id="after-attempt-footer"\n          class="panel-footer after-attempt-footer"\n          ng-show="!assessmentOverview.isLoading"\n          ng-if="assessmentOverview.showAfterAttemptedFooter && assessmentOverview.isCourseOpen">\n    \x3c!-- Button for peer assessments only for navigating to assigned peer reviews --\x3e\n    <div ng-if="assessmentOverview.startPeerReviewsButtonVisible"\n         class="start-peer-review-button-container">\n      <button class="button button-start-peer-review"\n              ng-click="assessmentOverview.startNextPeerReview()"\n              ng-disabled="!assessmentOverview.startPeerReviewsButtonEnabled"\n              analytics-id="course.content.assessment.overview.peer.start-review.button" bb-translate>\n              {{assessmentOverview.startNextPeerReviewButtonKey}}\n      </button>\n    </div>\n    \x3c!-- Button to view attempt --\x3e\n    <a href="javascript:void(0);"\n       class="button button-attempt"\n       ng-class="{\'button--secondary\': assessmentOverview.startPeerReviewsButtonVisible}"\n       ng-click="assessmentOverview.openAttemptReview()"\n       analytics-id="assessmentOverview.viewSubmittedAttempt.link">\n      <span class="label-button-attempt" bb-translate="{{assessmentOverview.viewAttemptButtonLabelKey}}"></span>\n    </a>\n  </footer>\n  <footer id="start-attempt-footer"\n        class="panel-footer start-attempt-footer"\n        ng-class="{\'has-footer-extension\': assessmentOverview.isAssessmentPasswordProtected || assessmentOverview.shouldShowProctoringErrorMessage}"\n        ng-show="!assessmentOverview.isLoading"\n        ng-if="assessmentOverview.showBeforeAttemptedFooter && assessmentOverview.isCourseOpen">\n    <div class="footer-extension-container" ng-if="assessmentOverview.isAssessmentPasswordProtected && !assessmentOverview.shouldShowProctoringErrorMessage">\n      <div class="attempt-password-header row">\n        <span class="attempt-password-header-text" bb-translate>course.content.assessment.overview.passwordProtected.heading</span>\n        <div\n          bb-tooltip\n          bb-translate-attrs="{\'title\':\'course.content.assessment.overview.passwordProtected.tooltip\'}"\n          enhanced-tooltip="true"\n          tooltip-position="top-center">\n          <div class="info-icon"><bb-svg-icon size="small" icon="information"></bb-svg-icon></div>\n        </div>\n      </div>\n      <input type="text"\n            inputmode="numeric"\n            bb-translate-attrs="{\'placeholder\':\'course.content.assessment.overview.passwordProtected.placeholder\',\n                                \'aria-label\':\'course.content.assessment.overview.passwordProtected.errors.empty\'}"\n            class="attempt-password-entry"\n            ng-class="{\'attempt-password-entry-error\': assessmentOverview.passwordErrorMessageKey}"\n            aria-describedby="{{assessmentOverview.passwordErrorMessageKey ? \'footer-extension-error-message\': null }}"\n            aria-invalid="{{!!assessmentOverview.passwordErrorMessageKey}}"\n            id="assessment-password"\n            ng-model="assessmentOverview.givenPassword"\n            ng-change="assessmentOverview.onPasswordChange()"\n            analytics-id="course.content.assessment.overview.password.input.text"\n            bb-keyboard-enter="assessmentOverview.navigateAttempt()" />\n      <div class="footer-extension-error-message"\n        id="footer-extension-error-message"\n        role="alert"\n        ng-if="assessmentOverview.passwordErrorMessageKey">\n        <span bb-translate ng-if="assessmentOverview.passwordErrorMessageKey">\n          {{assessmentOverview.passwordErrorMessageKey}}\n        </span>\n      </div>\n    </div>\n\n    <div class="footer-extension-container" ng-if="assessmentOverview.shouldShowProctoringErrorMessage">\n      <div class="footer-extension-error-message"\n        id="footer-extension-error-message"\n        role="alert"\n      >\n        <span bb-translate>course.content.assessment.overview.proctoring.viewAssessmentDisabled</span>\n      </div>\n    </div>\n\n    <div\n      class="attempt-button-container"\n      ng-class="{\'has-footer-extension\': assessmentOverview.hasFooterExtension}"\n    >\n      <p ng-if="assessmentOverview.isOverdue" class="late-button-super-text">\n        <span bb-translate="course.content.assessment.overview.markedLateNotice"></span>\n      </p>\n\n      \x3c!-- Disabled view assessment button --\x3e\n      <div\n        ng-if="assessmentOverview.shouldShowProctoringErrorMessage"\n        class="button button-attempt"\n        ng-disabled="true"\n      >\n        <span\n          class="label-button-attempt"\n          bb-translate="{{assessmentOverview.attemptButtonLabelKey}}"\n          translate-values="{count: assessmentOverview.currentAttemptNumber}">\n        </span>\n      </div>\n\n      \x3c!-- Start/continue non-timed attempt--\x3e\n      <a\n        href="javascript:void(0);"\n        ng-if="assessmentOverview.shouldShowNonTimedAttemptStartContinueButton"\n        ng-click="assessmentOverview.navigateAttempt()"\n        ng-disabled="assessmentOverview.content.userNeedsToSelfEnrollInGroup()"\n        ng-class="{\'js-multiple\': assessmentOverview.allowMultipleAttempts, \'js-continue\': assessmentOverview.attemptIsInProgress}"\n        class="button button-attempt"\n        analytics-id="course.content.assessment.overview.allowMultipleAttempts.link"\n      >\n        <span class="label-button-attempt"\n              bb-translate="{{assessmentOverview.attemptButtonLabelKey}}"\n              translate-values="{count: assessmentOverview.currentAttemptNumber}"></span>\n        <span class="label-button-group-control"\n              bb-load-bundle="features/course/content/assessment/group-attempt/activities/group-attempt-activities"\n              bb-translate="features.course.content.assessment.group-attempt.activities.takecontrol"></span>\n      </a>\n\n      \x3c!-- Start timed attempt--\x3e\n      <a href="javascript:void(0);"\n         ng-if="assessmentOverview.shouldShowTimedAttemptStartButton"\n         class="button button-attempt"\n         ng-class="{\'js-multiple\': assessmentOverview.allowMultipleAttempts, \'js-continue\': assessmentOverview.attemptIsInProgress}"\n         ng-click="assessmentOverview.createAttemptWithTimer()"\n         analytics-id="assessmentOverview.navigateAttempt.link">\n        <span class="label-button-attempt"\n              bb-translate="{{assessmentOverview.attemptButtonLabelKey}}"\n              translate-values="{count: assessmentOverview.currentAttemptNumber}"></span>\n      </a>\n\n      \x3c!-- Continue timed attempt--\x3e\n      <a href="javascript:void(0);"\n         ng-if="assessmentOverview.shouldShowTimedAttemptContinueButton"\n         ng-click="assessmentOverview.navigateAttempt()"\n         ng-class="{\'js-multiple\': assessmentOverview.allowMultipleAttempts, \'js-continue\': assessmentOverview.attemptIsInProgress}"\n         class="button button-attempt"\n         analytics-id="assessmentOverview.allowMultipleAttempts.link">\n        <span class="label-button-attempt"\n              bb-translate="{{assessmentOverview.attemptButtonLabelKey}}"\n              translate-values="{count: assessmentOverview.currentAttemptNumber}"></span>\n        <span class="label-button-group-control"\n              bb-load-bundle="features/course/content/assessment/group-attempt/activities/group-attempt-activities"\n              bb-translate="features.course.content.assessment.group-attempt.activities.takecontrol"></span>\n      </a>\n    </div>\n  </footer>\n  <footer id="start-attempt-closed-course-footer" class="panel-footer course-closed-footer" ng-if="assessmentOverview.showBeforeAttemptedFooter && !assessmentOverview.isCourseOpen">\n    <p class="course-closed-text">\n      <span class="js-course-closed-msg" bb-translate="{{::assessmentOverview.completedCourseKey}}" translate-values="{\'title\': assessmentOverview.customCategory}"></span>\n    </p>\n  </footer>\n  <div ui-view="assessment-overview-peek@"></div>\n</div>\n'},"9hUw":function(e,t,s){"use strict";s.d(t,"a",(function(){return D})),s.d(t,"b",(function(){return S}));var n=s("D57K"),i=s("VdDF"),r=s("DN+C"),a=s("Llzl"),o=s("VAMW"),l=s("6fZB"),c=s("IbyE"),d=s("zGdY"),m=s("nsO7"),u=s("9OUN"),v=s("aHpC"),p=s("nmzr"),b=s("TnpK"),h=s("fYJU"),g=s("12mu"),w=s("0JpG"),O=s("Fvsw"),A=s("U50L"),f=s("aPUy");const D="ultra.components.services.assessment.peerReview",S="peerReview";let C=class{constructor(e,t,s,n,i,r,a,o,l,c,d){this.$rootScope=e,this.$ngRedux=t,this.localizeService=s,this.contextUser=n,this.modal=i,this.ultraState=r,this.context=a,this.$q=o,this.courseId=l,this.contentId=c,this.columnId=d,this.reviewableAttemptsOnly=[],this.deletedAttemptsOnly=[],this.hasLoadedReviewableAttempts=!1}initPeerContentObject(){this.subscribeToReduxStore();const{courseId:e,contentId:t,columnId:s}=this,n=[];return this.content||n.push(this.loadContents({courseId:e,contentId:t}).then((()=>this))),this.column||n.push(this.loadGradebookColumn({courseId:e,columnId:s}).then((()=>this))),this.$q.all(n).then((()=>this))}subscribeToReduxStore(){this.unsubscribeFromReduxStore=this.$ngRedux.connect((e=>{var t;const s=this.courseId,n=this.columnId,i=this.contextUser.userId;return{reviewableAttemptsOnly:Object(m.sortBy)(c.select.gradebookAttempt.getReviewableGradebookAttempts(e,s,n,i),["delegatedGraderOrder"]),deletedAttemptsOnly:c.select.gradebookAttempt.getDeletedReviewableGradebookAttempts(e,n),content:c.select.content.getContentById(e,this.contentId),column:c.select.gradebookColumn.getGradebookColumnById(e,n),assessmentHasEnoughSubmissions:null===(t=c.select.assessment.getAssessmentByContentId(e,this.contentId))||void 0===t?void 0:t.hasEnoughPeerSubmissions}}),(e=>Object(u.bindActionCreators)({assignNewAttemptForPeerReview:c.actions.gradebookAttempt.assignNewAttemptForPeerReview,loadGradebookAttemptsByColumnId:c.actions.gradebookAttempt.loadGradebookAttemptsByColumnId,loadGradebookColumn:c.actions.gradebookColumn.loadGradebookColumn,loadContents:c.actions.content.loadContents},e)))(this)}canPeerViewAttempt(e,t){if(!this.peerGrading||!t)return!1;const s=this.reviewableAttempts.some((e=>e.id===t.id)),n=this.contextUser.userId===t.userId;return!!(s||n)}canDelegatedReconcileAttempt(e){return e.delegatedGrading&&e.isUserReconciler(this.contextUser.userId)}canPeerReviewAttempt(e,t){return this.canPeerViewAttempt(e,t)&&t.userId!==this.contextUser.userId&&!this.canDelegatedReconcileAttempt(e)}canPeerAddFeedbackToAttempt(e,t){return this.canPeerReviewAttempt(e,t)&&!t.isReconciled()&&d.AttemptStatus.Completed!==t.status}get completedPeerReviews(){return this.peerGrading?this.reviewableAttempts.filter((e=>d.AttemptStatus.Completed===(null==e?void 0:e.status))).length:0}openNotEnoughStudentSubmissionsModal(){const e=this.$rootScope.$new();e.translateOpts={title:{key:"components.services.peer-review.modal.error-not-enough-submissions.title"}},e.descriptionKey="components.services.peer-review.modal.error-not-enough-submissions.description";const t={scope:e,template:A,resolve:{translations:[w.serviceName,e=>e.loadBundle("components/services/peer-review")]}};this.modal.open(t)}getReviewableAttemptByDelegatedGraderOrder(e){return this.reviewableAttempts.find((t=>t.delegatedGraderOrder===e))}assignNewPeerReview(){if(!this.peerGrading||this.reviewableAttempts.length===this.numOfPeerReviewsToComplete)return this.$q.resolve(null);const e=this.hasDeletedAttempts?this.deletedAttempts[0].delegatedGraderOrder:null;return this.$q.when(this.assignNewAttemptForPeerReview({courseId:this.column.courseId,columnId:this.column.id,userId:this.contextUser.userId})).then((()=>{const t=null!=e?e:this.reviewableAttempts.length-1;return Object(f.a)(this.$rootScope,{listIndex:t,reviewableAttempt:this.reviewableAttempts[t]}),this.reviewableAttempts[t]})).catch((e=>{throw e instanceof c.AssessmentConflictNotEnoughPeerReviews&&this.openNotEnoughStudentSubmissionsModal(),e}))}navigateToPeerReview(e){if(!this.peerGrading)return this.$q.resolve();if(null===this.getReviewableAttemptByDelegatedGraderOrder(e))return this.$q.reject(new Error("Cannot navigate to a row that does not exist"));const t=this.getReviewableAttemptByDelegatedGraderOrder(e),s={courseId:this.column.courseId,columnId:this.column.id,userId:this.contextUser.userId,attemptId:null==t?void 0:t.id,gradeId:null==t?void 0:t.gradeId,initialPeerIndex:e};return this.ultraState.goPeekState(`${p.AssessmentRoutes.ASSESSMENT_PEER_GRADING}`,s)}loadReviewableAttempts(){var e;return!this.peerGrading||this.loadReviewableAttemptsPromise||this.hasLoadedReviewableAttempts?null!==(e=this.loadReviewableAttemptsPromise)&&void 0!==e?e:this.$q.resolve(this):(this.loadReviewableAttemptsPromise=this.$q.when(this.loadGradebookAttemptsByColumnId({courseId:this.column.courseId,columnId:this.column.id,reviewableAttemptsOnly:!0})).then((()=>(this.hasLoadedReviewableAttempts=!0,this))),this.loadReviewableAttemptsPromise)}get reviewableAttempts(){var e;return this.peerGrading&&null!==(e=this.reviewableAttemptsOnly)&&void 0!==e?e:[]}get deletedAttempts(){var e;return this.peerGrading&&null!==(e=this.deletedAttemptsOnly)&&void 0!==e?e:[]}get hasEnoughSubmissionsForPeerAssessment(){var e;return null!==(e=this.assessmentHasEnoughSubmissions)&&void 0!==e&&e}get hasDeletedAttempts(){return this.deletedAttempts.length>0}get numberOfLatePeerReviews(){return this.peerGrading?this.reviewableAttempts.filter((e=>this.isAfterPeerReviewDueDate(e.attemptLastGradedDate)&&d.AttemptStatus.Completed===e.status)).length:null}get numberOfStartedPeerReviews(){if(!this.peerGrading)return null;return this.reviewableAttempts.filter((e=>d.AttemptStatus.NeedsGrading===e.status)).length+this.deletedAttempts.length}get peerGrading(){var e;return!!(null===(e=this.column)||void 0===e?void 0:e.peerGrading)}get numOfPeerReviewsToComplete(){var e;return this.peerGrading?null===(e=this.content.peerSettings)||void 0===e?void 0:e.peerReviewsPerStudent:null}parseCurrentStringToDateAndMemoize(e){return i.a.parseStringToDate(e)}get peerSubmissionDueDate(){return this.peerGrading?this.parseCurrentStringToDateAndMemoize(this.column.dueDate):null}get peerReviewDueDate(){var e;return this.peerGrading?this.parseCurrentStringToDateAndMemoize(null===(e=this.content.peerSettings)||void 0===e?void 0:e.peerReviewDueDate):null}get allowLatePeerReviews(){return!!this.peerGrading&&!!this.content.peerSettings.allowLatePeerReviews}get isPeerGradingConfigured(){return!!this.peerGrading&&(null!=this.numOfPeerReviewsToComplete&&null!=this.peerReviewDueDate)}get isInPeerReviewWindow(){return!this.isAfterPeerReviewDueDate()&&this.isAfterPeerSubmissionDueDate()}get isAfterPeerReviewWindow(){return this.isAfterPeerReviewDueDate()}isAfterPeerReviewDueDate(e){var t;if(!this.peerGrading)return!1;const s=null!==(t=i.a.parseStringToDate(e))&&void 0!==t?t:new Date;return i.a.isWithinDateRange(s,{end:null,start:this.peerReviewDueDate},!1)}isAfterPeerSubmissionDueDate(e){var t;if(!this.peerGrading)return!1;const s=null!==(t=i.a.parseStringToDate(e))&&void 0!==t?t:new Date;return i.a.isWithinDateRange(s,{end:null,start:this.peerSubmissionDueDate},!1)}};Object(n.__decorate)([Object(r.LRUMemoize)()],C.prototype,"parseCurrentStringToDateAndMemoize",null),C=Object(n.__decorate)([Object(n.__param)(0,Object(v.b)("$rootScope")),Object(n.__param)(1,Object(v.b)("$ngRedux")),Object(n.__param)(2,Object(v.b)(w.serviceName)),Object(n.__param)(3,Object(v.b)(h.b)),Object(n.__param)(4,Object(v.b)(g.b)),Object(n.__param)(5,Object(v.b)(b.d)),Object(n.__param)(6,Object(v.b)(O.b)),Object(n.__param)(7,Object(v.b)("$q")),Object(n.__param)(8,Object(v.b)("courseId")),Object(n.__param)(9,Object(v.b)("contentId")),Object(n.__param)(10,Object(v.b)("columnId"))],C);class y{constructor(e){this.service=e,this.key=o.TransitService.PeerReview}getOrCreatePeerContentFromContent(e){return Object(l.a)(this.service.getOrCreatePeerContentFromContent(e))}}let P=class{constructor(e,t,s){this.$injector=e,this.$q=t,this.localizeService=s,this.peerContentMap=new Map,Object(o.registerService)(new y(this))}getPeerContent(e){return this.peerContentMap.get(e)}createPeerContent(e,t,s){const n=this.$injector.instantiate(C,{courseId:e,contentId:t,columnId:s});return this.peerContentMap.set(t,n),n.initPeerContentObject()}getOrCreatePeerContent(e,t,s){const n=this.getPeerContent(t);return n?this.$q.resolve(n):this.createPeerContent(e,t,s)}getDeployedAssessment(e){return(null==e?void 0:e.contentDetail)&&e.getDeployedAssessment()}getOrCreatePeerContentFromContent(e){var t,s;if(!e)return this.$q.resolve(null);const{courseId:n,id:i}=e,r=null===(s=null===(t=this.getDeployedAssessment(e))||void 0===t?void 0:t.gradingColumn)||void 0===s?void 0:s.id;return n&&i&&r?this.getOrCreatePeerContent(n,i,r):this.$q.resolve(null)}getOrCreatePeerContentWithAttemptsFromContent(e){return this.getOrCreatePeerContentFromContent(e).then((e=>null==e?void 0:e.loadReviewableAttempts()))}getOrCreatePeerContentFromColumn(e){if(!e)return this.$q.resolve(null);const{courseId:t,contentId:s,id:n}=e;return t&&s&&n?this.getOrCreatePeerContent(t,s,n):this.$q.resolve(null)}getOrCreatePeerContentWithAttemptsFromColumn(e){return this.getOrCreatePeerContentFromColumn(e).then((e=>null==e?void 0:e.loadReviewableAttempts()))}isPeerEvaluationItem(e){return c.ScoreProviderHandle.PeerEvaluationTest.isEqualTo(e)}wrapPeerEvaluationItemTitle(e,t){return this.localizeService.translateSync({locale:t,key:"components.services.peer-review.peerEvaluationTitleWrapper",params:{itemTitle:e},noWrap:!0,noEscape:!0})}};P=Object(n.__decorate)([Object(n.__param)(0,Object(v.b)("$injector")),Object(n.__param)(1,Object(v.b)("$q")),Object(n.__param)(2,Object(v.b)(w.serviceName))],P);a.module(D,[w.moduleName,h.a,g.a,b.b,O.a]).service(S,P)},D1Wg:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-calendar",use:"icon-medium-calendar-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-calendar"><path d="M4 3H1v20h22V3h-3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M4 1h5v4H4zM15 1h5v4h-5z" /><path d="M1 9h22" stroke-width="2" /><path d="M5 14v-1h2v1H5zM11 14v-1h2v1h-2zM17 14v-1h2v1h-2zM5 19v-1h2v1H5zM11 19v-1h2v1h-2zM17 19v-1h2v1h-2zM9 3h6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},Fv8s:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="{{assessmentOverview.currentProctoringService ?\n            \'components.directives.confirmation-needed.title-x-bb-time-limit-assessment-attempt-proctored\'\n            : \'components.directives.confirmation-needed.title-x-bb-time-limit-assessment-attempt\'}}"\n          bb-focus="true"\n          analytics-id-tag-prefix="components.directives.confirmationNeeded">\n  <div name="modal-contents">\n    <p bb-translate="{{assessmentOverview.canContinue && !assessmentOverview.willDueDateOverrideTimeLimit ?\n                        \'components.directives.confirmation-needed.instructions-x-bb-time-limit-assessment-attempt-can-continue\'\n                        : \'components.directives.confirmation-needed.instructions-x-bb-time-limit-assessment-attempt\'}}"\n       translate-values="{\'totalTimeLimit\': assessmentOverview.startModalTranslateOptions.instructions.params.totalTimeLimit}">\n    </p>\n    <p bb-translate="components.directives.confirmation-needed.instructions-x-bb-time-limit-assessment-attempt-proctored"\n       ng-if="assessmentOverview.currentProctoringService">\n    </p>\n  </div>\n  <button name="modal-footer-button-primary"\n          class="button confirm-ok js-primary-button"\n          ng-click="assessmentOverview.closeModal(true)"\n          analytics-id="primary.button.okAction.button"\n          bb-translate="{{assessmentOverview.currentProctoringService ?\n            \'components.directives.confirmation-needed.ok-x-bb-time-limit-assessment-attempt-proctored\'\n            : \'components.directives.confirmation-needed.ok-x-bb-time-limit-assessment-attempt-can-continue\'}}">\n  </button>\n  <button name="modal-footer-button-secondary"\n          class="button button--secondary confirm-cancel js-secondary-button"\n          ng-click="assessmentOverview.closeModal(false)"\n          analytics-id="secondary.button.cancelAction.button"\n          bb-translate>\n    components.directives.confirmation-needed.cancel-x-bb-time-limit-assessment-attempt-can-continue\n  </button>\n</bb-modal>\n'},GkCm:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-small-main-menu",use:"icon-small-main-menu-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-main-menu"><path d="M1 3h14M15 8H1M1 13h14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},"H/8/":function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-peer-review",use:"icon-medium-peer-review-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-peer-review"><path d="M1 23c1.096-4.3157 4.5473-7 9-7M10 16c2.7614 0 5-2.2386 5-5s-2.2386-5-5-5-5 2.2386-5 5 2.2386 5 5 5zM18.5 8C20.433 8 22 6.433 22 4.5S20.433 1 18.5 1 15 2.567 15 4.5 16.567 8 18.5 8zM18.5 8c1.3031 0 2.7189.8549 3.6122 2M15 20l3 3 5-8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},HApu:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-rubric",use:"icon-medium-rubric-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-rubric"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M19 5h4v4h-4zM11 5h4v4h-4zM19 12h4v4h-4zM11 12h4v4h-4zM19 19h4v4h-4zM11 19h4v4h-4zM19 1h4M11 1h4M1 8h4M1 15h4M1 22h4M1 5h6M1 12h6M1 19h6" /></symbol>'});i.add(r);e.exports=r},IiJs:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a}));var n=s("Llzl"),i=s("pjml");const r="ultra.services.collabUltra",a="collabUltra";class o{constructor(e,t,s,n,i,r,a){this.$q=e,this.$compile=t,this.$rootScope=s,this.$timeout=n,this.CourseModel=i,this.CollabUltraModel=r,this.$sce=a}getCollabB2Info(){return this.collabB2InfoPromise=this.collabB2InfoPromise||this.CollabUltraModel.$build().getCollabUltraInfo()}getAllCollabSessions(e){return this.CourseModel.$new(e).collabUltra.getAllCollabSessions()}enableCourseRoom(e,t){return this.CourseModel.$new(e).collabUltra.enableCourseRoom(t)}disableCourseRoom(e,t){return this.CourseModel.$new(e).collabUltra.disableCourseRoom(t)}getLaunchUrl(e,t){return this.CourseModel.$new(e).collabUltra.sessions.$new(t).getLaunchUrl()}getCourseCollab(e){return this.CourseModel.$new(e).collabUltra.getCourseCollabInfo()}launchDiscussionSession(e,t,s){return this.CourseModel.$new(e).collabUltra.launchDiscussionSession(t,s)}getCollabSessionStatus(e,t){return this.getCollabB2Info().then((t=>200===t.$response.status?this.CourseModel.$new(e).collabUltra.sessions.$fetch().$allow([403,500,504]).$asPromise():this.$q.reject())).then((s=>200===s.$response.status?this.CourseModel.$new(e).groups.$new(t).collabSession.$fetch({expand:"sessionInstances"}).$allow(["400-599"]).$asPromise().then((e=>e.filter((e=>e.sessionInstances&&e.sessionInstances.length>0)).length>0)):this.$q.when(null)),(()=>this.$q.when(null)))}}o.$inject=["$q","$compile","$rootScope","$timeout",i.m.serviceName,i.j.serviceName,"$sce"];n.module(r,[i.N]).service(a,o)},KXuk:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-small-complete",use:"icon-small-complete-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-complete"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 8l2 3 4-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},Mak1:function(e,t,s){},QhTW:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-group-conversation",use:"icon-medium-group-conversation-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-group-conversation"><g clip-path="url(#icon-medium-group-conversation_clip0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 20C6.433 20 8 18.433 8 16.5S6.433 13 4.5 13 1 14.567 1 16.5 2.567 20 4.5 20zM19.522 20c-1.933 0-3.5-1.567-3.5-3.5s1.567-3.5 3.5-3.5 3.5 1.567 3.5 3.5-1.567 3.5-3.5 3.5zM15 23c.5-2 2-3 4.522-3M9.022 23c-.5-2-2-3-4.522-3M14 5.5c0 2.4853-2.0147 4.5-4.5 4.5A4.4927 4.4927 0 018 9.744L6 11V8.3287A4.4812 4.4812 0 015 5.5C5 3.0147 7.0147 1 9.5 1S14 3.0147 14 5.5zM14.5 1C16.9853 1 19 3.0147 19 5.5a4.4812 4.4812 0 01-1 2.8287V11l-2-1.256c-.3184.1125-.6533.2177-1 .256" /></g><defs><clipPath id="icon-medium-group-conversation_clip0"><path fill="#fff" d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});i.add(r);e.exports=r},SMOU:function(e,t,s){},TuNX:function(e,t){e.exports='<bb-modal class="notification proctoring-modal" analytics-id-tag-prefix="components.services.proctoring">\n  <div name="modal-contents">\n    <p bb-translate>{{::requirementsText}}</p>\n    <p ng-bind-html="::downloadText"></p>\n    <p bb-translate>{{::browserText}}</p>\n  </div>\n  \x3c!-- htmlhint:analytics-id:disable --\x3e\n  <button name="modal-footer-button-primary"\n          role="button"\n          class="button js-primary-button proctoring-modal-button"\n          ng-click="$parent.$dismiss()"\n          bb-translate-attrs="{\'aria-label\':\'components.services.proctoring.modal.continue\'}"\n          analytics-id="components.services.proctoring.modal.continue.button"\n  >\n  \x3c!-- htmlhint:analytics-id:enable --\x3e\n    <bb-translate>components.services.proctoring.modal.continue</bb-translate>\n  </button>\n</bb-modal>\n'},U50L:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-aria-type="alertdialog"\n          modal-translate-options="translateOpts"\n          analytics-id-tag-prefix="components.services.error-modal.error-not-enough-submissions">\n  <div name="modal-contents">\n    <p bb-translate>{{::descriptionKey}}</p>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          bb-translate\n          analytics-id="components.services.error-modal.dismiss">components.services.error-modal.dismiss</button>\n</bb-modal>\n'},Xcx3:function(e,t,s){"use strict";s.r(t),s.d(t,"controllerName",(function(){return z})),s.d(t,"INCORRECT_PASSWORD_ENTERED",(function(){return V})),s.d(t,"BLANK_PASSWORD_KEY",(function(){return K})),s.d(t,"INCORRECT_PASSWORD_KEY",(function(){return H})),s.d(t,"TOO_MANY_ATTEMPTS_KEY",(function(){return q})),s.d(t,"START_PEER_REVIEW_BUTTON_KEY",(function(){return W})),s.d(t,"START_NEXT_PEER_REVIEW_BUTTON_KEY",(function(){return J})),s.d(t,"AssessmentOverviewController",(function(){return Y})),s.d(t,"Controller",(function(){return Z}));var n=s("D57K"),i=(s("SMOU"),s("Mak1"),s("s5UK"),s("6BRP"),s("67oV"),s("l+9M"),s("GkCm"),s("ZKRZ"),s("KXuk"),s("yCl+"),s("dpCN"),s("D1Wg"),s("2MQt"),s("JbSi"),s("TR8k"),s("6ZXc"),s("xoIb"),s("dcnw"),s("sZYy"),s("v0wN"),s("QhTW"),s("H/8/"),s("Ycix"),s("4VOk"),s("9G/E"),s("HApu"),s("zIKm"),s("nfUd"),s("nsO7")),r=s("Llzl"),a=s("8N5j"),o=s("IiJs"),l=s("vdfi"),c=s("nYZ0"),d=s("Fvsw"),m=s("bF8R"),u=s("X455"),v=s("fYJU"),p=s("k9iv"),b=s("oi1r"),h=s("o5Lu"),g=s("vhkR"),w=s("2lxm"),O=s("0JpG"),A=s("p7NW"),f=s("pjml"),D=s("12mu"),S=s("YHe3"),C=s("TnpK"),y=s("+O05"),P=s("IbyE"),R=s("zGdY"),x=s("94SL"),k=s("Kpdw"),T=s("aHpC"),I=s("nmzr"),M=s("9hUw"),j=s("0+Qs"),E=s("lEL+"),_=s("5uPl"),L=s("DU7P"),G=s("9ah5");s.d(t,"template",(function(){return G}));var $=s("0B2D");s.d(t,"alreadySubmittedTemplate",(function(){return $}));var B=s("kirn"),U=s("217T");s.d(t,"groupAlreadySubmittedTemplate",(function(){return U}));var F=s("Fv8s");s.d(t,"assessmentTimerModalTemplate",(function(){return F}));var N=s("Y+9S");const z="ultra.features.course.content.assessmentOverview.controller",V="bb-assessment-password-incorrect",K="course.content.assessment.overview.passwordProtected.errors.empty",H="course.content.assessment.overview.passwordProtected.errors.incorrect",q="course.content.assessment.overview.passwordProtected.errors.tooManyAttempts",W="course.content.assessment.overview.assignedPeerReviews.startPeerReviews",J="course.content.assessment.overview.assignedPeerReviews.startNextReview";let Y=class extends x.a{constructor(e,t,s,n,i,r,a,o,l,c,d,m,u,v,p,b,g,w,O,A,f,D,S,C,y,P,R,x,k,T,I){var M,j;super(e,I,l,c,O,y),this.contentData=e,this.course=t,this.$injector=s,this.$ngRedux=n,this.$scope=i,this.$q=r,this.$window=a,this.contentService=o,this.context=l,this.grade=c,this.ultraState=d,this.contentGoalAlignmentPeekStateService=m,this.AttemptModel=u,this.GroupAttemptModel=v,this.errorModalService=p,this.modal=b,this.ltiService=g,this.courseContent=w,this.schemaService=O,this.bbLocalize=A,this.proctoring=f,this.rubricService=D,this.collabUltra=S,this.contextUser=C,this.contextCourseMembership=y,this.assessmentService=P,this.originalityReportService=R,this.peerService=x,this.bbInterval=k,this.bbTimeout=T,this.gradableItemUserOptionService=I,this.alignedGoalsCount=0,this.currentProctoringServiceType=L.a.None,this.customCategory="",this.detailsView=!1,this.goalAlignedContents=[],this.groupUsers=[],this.hideOverview=!1,this.showGoalDetails=!1,this.showRubricDetails=!1,this.showCollabLink=!1,this.hasGroupIndicator=!1,this.hasClassIndicator=!1,this.collabUltraEnabled=!1,this.isAssessmentPasswordProtected=!1,this.givenPassword="",this.passwordErrorMessageKey="",this.isPasswordCheckInProgress=!1,this.remainingTimeInSecondsBeforeDueDateOverridesSoftTimeLimit=Number.NEGATIVE_INFINITY,this.startPeerReviewsButtonVisible=!1,this.startPeerReviewsButtonEnabled=!1,this.startNextPeerReviewButtonKey="",this.assignAndGoToNewPeerReview=null,this.localizedCourseRoles={},this.dismissPeerDeletedBanner=!1,this.assignAndNavigateToPeerReview=()=>{var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.assignNewPeerReview().then((e=>{var t;return null===(t=this.peerReviewContentObject)||void 0===t?void 0:t.navigateToPeerReview(e.delegatedGraderOrder)}))},this.dismissPeerReviewsDeletedBanner=()=>{this.dismissPeerDeletedBanner=!0},this.peerReviewsComponentUpdatedCallback=(e,t,s,n,i)=>{this.startPeerReviewsButtonEnabled=t,this.startPeerReviewsButtonVisible=(e||t)&&!n,this.startNextPeerReviewButtonKey=s?J:W,this.assignAndGoToNewPeerReview=i},i.assessmentOverview=this,this.content=e.courseContent,this.init(),this.peerService.getOrCreatePeerContentWithAttemptsFromContent(this.content).then((e=>this.peerReviewContentObject=e)),this.content.ui.hasConversationAttached=!!this.content.attachedForumLink,this.groupUsers=e.groupMembers,this.isAssessmentPasswordProtected=null===(j=null===(M=this.content.getDeployedAssessment())||void 0===M?void 0:M.deploymentSettings)||void 0===j?void 0:j.isPasswordRequired,this.timedTestAttemptDetail=this.getTimedTestAttemptDetail(),this.startModalTranslateOptions={instructions:{pluralize:!0,params:{totalTimeLimit:Math.floor(this.displayedTimeLimitSeconds/60)},noWrap:!0,noEscape:!0}},this.registerHandlers(),this.content.$fetchIfNotExpanded({expand:"alignedGoals,assignedGroups"}).$then((s=>{m.resolveGoalAlignableContentsForStudent(t,e,this.currentAttempt).then((([e,t])=>{this.goalAlignedContents=e,this.alignedGoalsCount=t})),this.content.courseId&&this.content.assignedGroups&&this.content.assignedGroups[0]&&this.collabUltra.getCollabSessionStatus(this.content.courseId,this.content.assignedGroups[0].groupId).then((e=>{this.runningSessionFlag=e,null!==e&&(this.collabUltraEnabled=!0)}))})),this.detailsView=!!this.ultraState.params.detailsView,this.detailsView&&(this.submitToGRD=!!this.ultraState.params.submitToGRD),this.calculateKeysAndIconsBasedOnCategory(),this.safeAssignEnabled&&this.content.canStudentViewReports()&&this.getOriginalityReportStatus(),this.content.isGroupContent&&this.content.ui.hasConversationAttached&&this.content.attachedForumLink&&this.loadCollabConfig(),this.content.ui.hasConversationAttached&&this.content.attachedForumLink&&this.updateIndicators();const E=this.contentService.indicatorCacheService.$onClassConversationIndicatorRemoved(((e,t,s)=>{t===this.content.courseId&&s===this.content.id&&(this.hasClassIndicator=!1)})),_=this.contentService.indicatorCacheService.$onGroupConversationIndicatorRemoved(((e,t,s)=>{t===this.content.courseId&&s===this.content.id&&(this.hasGroupIndicator=!1)}));i.$on("$destroy",(()=>{E(),_()})),this.contentData.gradingColumn.getAssociatedRubric()&&(this.rubricViewPayload={analyticsId:"assessmentOverview",criteria:D.getCriteriaPayload(this.contentData.gradingColumn),decimalsLength:h.d.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL,rubricType:this.contentData.gradingColumn.getAssociatedRubric().rubricType,maxScore:this.contentData.gradingColumn.possible}),this.fetchOriginalityReportProviderType(),this.fetchProctoringService(),Object(N.isInMobileApp)()&&this.notifyMobileApp(),this.initializeRemainingTimeTimer()}notifyMobileApp(e){var t,s,n;let i,r;if(e)r={type:e,status:N.MessageStatus.Success};else{i=this.showBeforeAttemptedFooter?N.MessageType.AssessmentOverviewOpened:N.MessageType.AssessmentDetailOpened;const e=null!==(s=null===(t=this.contentData.gradingColumn.gradebookCategory)||void 0===t?void 0:t.title)&&void 0!==s?s:null;r={type:i,status:N.MessageStatus.Success,contentId:this.content.id,contentTitle:this.content.title,pageTitle:e,prevState:Object(N.fetchState)(null===(n=this.ultraState.prev)||void 0===n?void 0:n.name)}}Object(N.sendMessageToMobile)(r)}fetchOriginalityReportProviderType(){return this.originalityReportService.retrieveOriginalityIntegration(this.content)}fetchProctoringService(){return this.currentProctoringServiceType=this.proctoring.getCurrentProctoringProviderType(this.proctoringHandle),this.proctoring.getProctoringServiceByHandle(this.proctoringHandle).then((e=>{this.currentProctoringService=e}))}get proctoringHandle(){var e;return null===(e=this.content.getDeployedAssessment())||void 0===e?void 0:e.deploymentSettings.proctoringServiceHandle}get latestAttemptDate(){return this.currentAttempt&&this.currentAttempt.attemptDate}getMembershipByUser(e){return i.find(this.course.memberships,(t=>t.user.id===e.id))}getCourseRole(e){return this.getLocalizedRoleNameByCourseRole(this.getMembershipByUser(e).courseRole)}canSendMessage(e){const t=this.getMembershipByUser(e);return!(this.course.isPrivate()||this.course.isComplete())&&t.isAvailable&&t.user.isAvailable}gotoConversation(e){this.ultraState.goPeekState("conversations",{courseId:this.content.courseId,contentId:this.content.id,groupId:e||"default"})}startNextPeerReview(){this.startPeerReviewsButtonEnabled&&this.assignAndGoToNewPeerReview()}isInactive(e){const t=this.getMembershipByUser(e);return!t.isAvailable||!t.user.isAvailable}getLocalizedRoleNameByCourseRole(e){const t=e.identifier.toString();if(this.localizedCourseRoles[t])return this.localizedCourseRoles[t];if(t in f.w.toBeLocalizedRoleLabels){const e=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:f.w.toBeLocalizedRoleLabels[t]});return this.localizedCourseRoles[t]=e,e}return e.courseName.rawValue}registerHandlers(){this.$scope.$on("bb-assessment-attempt-save",((e,t,s,n=!1)=>{var i;this.refreshAttempt(t),this.refreshGrade(),(null===(i=this.peerReviewContentObject)||void 0===i?void 0:i.peerGrading)&&this.peerReviewContentObject.loadReviewableAttempts(),this.setAttemptCountsAndDate()}))}get panelTitle(){const e=this.content.getAssociatedGradingColumn().gradebookCategory,t=e&&!e.isUserDefined;return this.detailsView?"course.content.assessment.panelHeader.details."+(t?e.title:"custom"):"course.content.assessment.type."+(t?e.title:"custom")}getOriginalityReportStatus(){const e=new Array;if(this.contentData.gradeDetail){let t;return t=this.content.isGroupContent?this.contentData.gradingColumn.groupAssociations.$new(this.content.assignedGroups[0].groupAssociationId).groupAttempts.$fetch({excludeUnavailableMembers:!0}):this.contentData.gradingColumn.grades.$buildRaw(this.contentData.gradeDetail).attempts.$fetch({fields:"id,status"}),t.$then((t=>{const s=[];return i.forEach(t,(t=>{if(t.isSubmitted()){const n=t.originality.$fetch().$asPromise().then((t=>{t.hasAttachments()?e.push(t.overallOriginalityProcessed):e.push(void 0)}));s.push(n)}})),this.$q.all(s)})).$then((()=>{e.every((e=>r.isUndefined(e)))?this.originalityReportAvailable=null:this.originalityReportAvailable=e.every((e=>r.isUndefined(e)||!0===e))}))}}calculateKeysAndIconsBasedOnCategory(){const e=this.content.getAssociatedGradingColumn().gradebookCategory,t=this.course.isOrganization?"organization":"course";e&&!e.isUserDefined?(this.completedCourseKey=`${t}.content.assessment.overview.completedCourseNotice.${e.title}`,this.groupAssessmentKey="course.content.assessment.overview.group.groupAssessment."+e.title,this.classConversationFtueKey=`${t}.content.assessment.overview.classConversationFtue.${e.title}`,this.groupConversationFtueKey="course.content.assessment.overview.groupConversationFtue."+e.title):(this.customCategory=e&&e.title||this.content.isScorm()&&this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"Scorm.name"}),this.completedCourseKey=`${t}.content.assessment.overview.completedCourseNotice.custom`,this.groupAssessmentKey="course.content.assessment.overview.group.groupAssessment.custom",this.classConversationFtueKey=`${t}.content.assessment.overview.classConversationFtue.custom`,this.groupConversationFtueKey="course.content.assessment.overview.groupConversationFtue.custom"),this.content.isGroupContent&&this.content.ui.hasConversationAttached&&this.content.attachedForumLink&&(e&&!e.isUserDefined?(this.classConversationFtueKey=`${t}.content.assessment.overview.classConversationFtue.${e.title}`,this.groupConversationFtueKey="course.content.assessment.overview.groupConversationFtue."+e.title):(this.classConversationFtueKey=`${t}.content.assessment.overview.classConversationFtue.custom`,this.groupConversationFtueKey="course.content.assessment.overview.groupConversationFtue.custom"))}refreshAttempt(e){this.currentAttempt=e,f.A.isGroupAttempt(e)&&(this.contentData.groupAttempt=e)}refreshGrade(){this.grade.loadGrade({courseId:this.course.id,userId:this.contextUser.userId,column:this.contentData.gradingColumn,gradeQueryParams:{expand:"attemptsLeft"}},!1).then((e=>{e.ui.attempt=this.currentAttempt,this.contentData.gradeDetail=e}))}get showScoreCard(){return!this.detailsView&&this.currentAttempt&&this.currentAttempt.isSubmitted()}get showDueDateWarnings(){return this.willDueDateOverrideTimeLimit&&this.showBeforeAttemptedFooter}get showRemainingTime(){return this.showDueDateWarnings&&this.remainingTimeInSecondsBeforeDueDateOverridesSoftTimeLimit>0}get remainingTimeInMinutesBeforeDueDateOverridesSoftTimeLimit(){return Math.ceil(this.remainingTimeInSecondsBeforeDueDateOverridesSoftTimeLimit/60)}initializeRemainingTimeTimer(){var e;if(!this.isDueDateEnforced||!this.timedTestAttemptDetail.hasTimeLimit||!this.showBeforeAttemptedFooter)return;if((null===(e=this.currentAttempt)||void 0===e?void 0:e.isInProgress())&&!this.willDueDateOverrideTimeLimit)return;let t=this.studentHasDueDateException?this.dueDateException.effectiveDueDate:this.dueDate;const s=()=>(t.getTime()-this.context.getServerTime().getTime())/1e3,n=()=>this.timedTestAttemptDetail.adaptedTime.softlimitSeconds;if(s()<0||n()<0)return;const i=()=>Math.max(0,s()-n());if(i()>28800)return;let r;const a=(e,t)=>{const s=((new Date).getTime()-e.getTime())/1e3;this.remainingTimeInSecondsBeforeDueDateOverridesSoftTimeLimit=t-s,this.remainingTimeInSecondsBeforeDueDateOverridesSoftTimeLimit<0&&this.bbInterval.cancel(r)},o=()=>{this.willDueDateOverrideTimeLimit?this.gradableItemUserOptionService.getGradableItemUserOption(this.contentData.courseContent.courseId,this.contentData.gradingColumn.id,[this.contextCourseMembership.courseMembership.id]).then((e=>{this.studentHasDueDateException=!!(null==e?void 0:e.byCourseMembershipId[this.contextCourseMembership.courseMembership.id]),this.studentHasDueDateException&&(this.dueDateException=e.byCourseMembershipId[this.contextCourseMembership.courseMembership.id]),t=this.studentHasDueDateException?this.dueDateException.effectiveDueDate:this.dueDate,this.remainingTimeInSecondsBeforeDueDateOverridesSoftTimeLimit=s(),r=this.bbInterval(a.bind(this,new Date,s()),this.$scope,1e4)})):this.bbTimeout(o,this.$scope,1e3*i())};this.bbTimeout(o,this.$scope,1e3*i())}get showAfterAttemptedFooter(){if(this.showBeforeAttemptedFooter)return!1;if(!this.hideOverview&&!this.detailsView){const e=this.allowMultipleAttempts&&0===this.unsubmittedAttemptsLeft,t=!this.allowMultipleAttempts&&this.showScoreCard,s=this.noNewAttemptsAreAllowed&&this.currentAttempt&&!this.currentAttempt.isInProgress();return e||t||this.startPeerReviewsButtonVisible||s}return!1}get showBeforeAttemptedFooter(){var e,t;return!this.hideOverview&&!this.detailsView&&(this.contentData.gradingColumn.isSingleAttempt()?(null===(e=this.currentAttempt)||void 0===e?void 0:e.isInProgress())||!this.currentAttempt&&!this.noNewAttemptsAreAllowed:(!this.contentData.gradeDetail||this.unsubmittedAttemptsLeft>0||this.isUnlimitedAttempts())&&((null===(t=this.currentAttempt)||void 0===t?void 0:t.isInProgress())||!this.noNewAttemptsAreAllowed))}get shouldShowProctoringErrorMessage(){return this.proctoring.isProctoringPlacementUnavailable(this.proctoringHandle,this.currentProctoringService)}get hasFooterExtension(){return this.isAssessmentPasswordProtected||this.shouldShowProctoringErrorMessage}get shouldShowNonTimedAttemptStartContinueButton(){return!this.hasTimeLimit&&void 0!==this.attemptCount&&!this.shouldShowProctoringErrorMessage}get shouldShowTimedAttemptStartButton(){return this.hasTimeLimit&&(!this.currentAttempt||!this.currentAttempt.isInProgress())&&!this.shouldShowProctoringErrorMessage}get shouldShowTimedAttemptContinueButton(){var e;return this.hasTimeLimit&&(null===(e=this.currentAttempt)||void 0===e?void 0:e.isInProgress())&&!this.shouldShowProctoringErrorMessage}get hasFooter(){return this.showBeforeAttemptedFooter||this.showAfterAttemptedFooter}showProctoringAdditionalNotes(){return this.contentData.gradingColumn.isSingleAttempt()?!this.currentAttempt||this.currentAttempt.isInProgress():!this.contentData.gradeDetail||this.unsubmittedAttemptsLeft>0||this.isUnlimitedAttempts()}get isCourseOpen(){return(!0===this.course.effectiveAvailability||!0===this.course.isAvailable)&&!1===this.course.isClosed}get allowMultipleAttempts(){return this.contentData.gradingColumn.isMultipleAttempts()}get currentAttemptNumber(){var e;return this.attemptCount>this.attemptCountSubmitted?this.attemptCountSubmitted+1:(null===(e=this.currentAttempt)||void 0===e?void 0:e.isInProgress())?this.attemptCount:this.attemptCount+1}getTimedTestAttemptDetail(){var e;return(null===(e=this.currentAttempt)||void 0===e?void 0:e.getTimedTestAttemptDetail())?this.isDueDateEnforced?this.currentAttempt.getTimedTestAttemptDetailWithDueDate(this.dueDate):this.currentAttempt.getTimedTestAttemptDetail():this.contentData.courseContent.getTimedTestDetail()}get hasTimeLimit(){var e;return null===(e=this.timedTestAttemptDetail)||void 0===e?void 0:e.hasTimeLimit}get displayedTimeLimitSeconds(){var e;return null===(e=this.timedTestAttemptDetail)||void 0===e?void 0:e.displayedTimeLimitSeconds}get canContinue(){var e;return null===(e=this.timedTestAttemptDetail)||void 0===e?void 0:e.hasExtraTime}createAttemptWithTimer(){if(!this.navigationPreCheck())return this.$q.resolve();return this.retrievePasswordCheckPromise().then((({result:e})=>{e?(this.willDueDateOverrideTimeLimit&&(this.startModalTranslateOptions.instructions.params.totalTimeLimit=this.remainingTimeInMinutesBeforeDueDateOverridesSoftTimeLimit),this.confirmTimerModal=this.modal.open({template:F,scope:this.$scope})):this.passwordErrorMessageKey=H})).catch((e=>{var t;(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.status)===R.HttpStatus.TooManyRequests?this.passwordErrorMessageKey=q:this.errorModalService.handleApiError(e.error)})).finally((()=>{this.isPasswordCheckInProgress=!1}))}retrievePasswordCheckPromise(){var e,t;return this.isAssessmentPasswordProtected?(this.isPasswordCheckInProgress=!0,this.$q.when(Object(P.checkPassword)(this.course.id,null===(t=null===(e=this.content.getDeployedAssessment())||void 0===e?void 0:e.assessment)||void 0===t?void 0:t.id,(new a).update(this.givenPassword).digest("hex")))):this.$q.when(Promise.resolve({result:!0}))}closeModal(e){this.confirmTimerModal.close(),e&&this.navigateAttempt()}navigateAttempt(){if(!this.navigationPreCheck())return;if(y.a.isExternalSubmissionsAssessment(this.content)&&this.content.id)return void this.ultraState.goPeekState(I.AssessmentRoutes.ASSESSMENT_EXTERNAL_OVERVIEW,{contentId:this.content.id});const e=this.content.isGroupContent;if(e&&this.content.assignedGroups&&0===this.content.assignedGroups.length)return void this.modal.open({scope:this.$scope,template:U});const t={type:R.AssessmentType.Test};if(this.isAssessmentPasswordProtected){const e=this.bbLocalize.parseNumberSync(this.givenPassword,this.$scope).toString().padStart(6,"0");this.isPasswordCheckInProgress=!0,t.password=(new a).update(e).digest("hex")}if(this.currentProctoringServiceType===L.a.IMS||this.content.isSecureBrowserRequiredToTake())return this.navigateProctoredAttempt(t.password),void(this.isPasswordCheckInProgress=!1);const s=this.$q.defer(),n={scoreProviderHandle:P.ScoreProviderHandle.Test,status:R.AttemptStatus.InProgress,toolAttemptDetail:{"resource/x-bb-assessment":{...t}}},i=e?this.GroupAttemptModel.$build(n):this.AttemptModel.$build(n);this.contentData.attempt=i,e&&(this.contentData.groupAttempt=i),this.contentData.gradingColumn.launchAttempt(i,{},e,e?this.content.assignedGroups[0].groupId:null).then((t=>{var n,i,r,a;if((null===(n=t.$response)||void 0===n?void 0:n.status)===R.HttpStatus.Forbidden&&t.$response.data){const e=t.$response;switch(null===(i=e.data)||void 0===i?void 0:i.code){case"bb-rest-max-group-attempt-reached":this.courseContent.loadContentAndGrades({course:this.course,content:this.contentData.courseContent}).then((e=>{this.currentAttempt=e.groupAttempt,s.resolve(this.currentAttempt.id)}));break;case"bb-rest-max-group-attempt-reached-and-all-group-attempts-submitted":this.showGroupAlreadySubmittedDialog();break;case R.AttemptApiErrors.AttemptCompletedOrForceCompletion:this.showAlreadySubmittedDialog();break;case R.AttemptApiErrors.AttemptPastDue:this.showAttemptCreationDisallowedDialog();break;default:this.errorModalService.handleApiError(e)}}else if((null===(r=t.$response)||void 0===r?void 0:r.status)===R.HttpStatus.Unauthorized&&t.$response.data){const e=t.$response;e.data.code===V?this.passwordErrorMessageKey=H:this.errorModalService.handleApiError(e)}else(null===(a=t.$response)||void 0===a?void 0:a.status)===R.HttpStatus.TooManyRequests?this.passwordErrorMessageKey=q:(s.resolve(t.id),this.$scope.$root.$broadcast("bb-assessment-attempt-save",t,this.contentData.gradingColumn.id,e));this.isPasswordCheckInProgress=!1})),s.promise.then((e=>{this.ultraState.goPeekState(I.AssessmentRoutes.ASSESSMENT_ATTEMPT,{attemptId:e})}))}navigateProctoredAttempt(e){const t={password:e,attemptId:null};this.content.getProctoringLaunchLink(t).then((e=>{this.currentProctoringServiceType===L.a.IMS?this.ltiService.launch(e):this.content.isSecureBrowserRequiredToTake()&&(this.openSecureLaunchLink(e),this.ultraState.goPeekState(I.AssessmentRoutes.ASSESSMENT_ATTEMPT_RESPONDUS_REQUIREMENT,{courseId:this.content.courseId,contentId:this.content.id}))})).catch((e=>{var t,s;(null===(t=e.data)||void 0===t?void 0:t.status)===R.HttpStatus.Unauthorized?this.passwordErrorMessageKey=H:(null===(s=e.data)||void 0===s?void 0:s.status)===R.HttpStatus.TooManyRequests?this.passwordErrorMessageKey=q:this.errorModalService.handleApiError(e)}))}openSecureLaunchLink(e){this.proctoring.openRespondusProctoringLaunchLink(e)}navigateAttemptReview(){this.courseContent.loadContentAndGrades({course:this.course,content:this.contentData.courseContent}).then((e=>{this.currentAttempt=e.groupAttempt,this.openAttemptReview()}))}navigationPreCheck(){return!this.isPasswordCheckInProgress&&(this.passwordErrorMessageKey="",!this.isAssessmentPasswordProtected||!this.isGivenPasswordBlank||(this.passwordErrorMessageKey=K,!1))}showGroupAlreadySubmittedDialog(){return this.modal.open({scope:this.$scope,template:U})}showAlreadySubmittedDialog(){const e=this.$scope.$new();return e.customClose=()=>{this.navigateAttemptReview()},this.modal.open({scope:e,template:$})}showAttemptCreationDisallowedDialog(){return this.modal.open({scope:this.$scope,template:B})}get viewAttemptButtonLabelKey(){let e="course.content.assessment.overview.viewSubmittedAttemptButton";return e+=this.allowMultipleAttempts?".multiple":".single",e}get attemptButtonLabelKey(){let e="course.content.assessment.overview.openAttemptButton.";e+=this.hasTimeLimit?"timed.":"notTimed.",e+=this.attemptIsInProgress?"continue":"start";return e+=this.allowMultipleAttempts&&(this.hasTimeLimit||this.isAssessmentSubmissionComplete)?".multiple":"",e}get safeAssignEnabled(){return this.content.isSafeAssignEnabled()}get attemptIsInProgress(){var e;return(null===(e=this.currentAttempt)||void 0===e?void 0:e.isInProgress())||this.attemptCount>this.attemptCountSubmitted}showGoals(){this.hideOverview=!0,this.showGoalDetails=!0}hideGoals(){this.hideOverview=!1,this.showGoalDetails=!1}showRubricPanel(){this.showRubricDetails=!0,this.hideOverview=!0,this.notifyMobileApp(N.MessageType.AssessmentStudentRubricOpened)}hideRubricPanel(){this.showRubricDetails=!1,this.hideOverview=!1,this.notifyMobileApp(N.MessageType.AssessmentStudentRubricClosed)}openAttemptReview(e=!1){this.currentAttempt&&(this.contentData.gradingColumn.isMultipleAttempts()?this.ultraState.goPeekState(I.AssessmentRoutes.ASSESSMENT_MULTIPLE_ATTEMPTS_TAB,{columnId:this.contentData.gradingColumn.id,gradeId:this.contentData.gradeDetail.id,viewOriginalityReport:e,forceOpenFeedbackPanel:!e&&this.hasFeedback()}):this.ultraState.goPeekState(I.AssessmentRoutes.ASSESSMENT_ATTEMPT_REVIEW,{attemptId:this.currentAttempt.id,columnId:this.contentData.gradingColumn.id,viewOriginalityReport:e,forceOpenFeedbackPanel:!e&&this.hasFeedback()}))}openAttemptFeedback(e=!1){this.currentAttempt&&(this.contentData.gradingColumn.isMultipleAttempts()?this.ultraState.goPeekState(I.AssessmentRoutes.ASSESSMENT_MULTIPLE_ATTEMPTS_TAB,{columnId:this.contentData.gradingColumn.id,gradeId:this.contentData.gradeDetail.id,viewOriginalityReport:e,forceOpenFeedbackPanel:!e&&this.hasFeedback()}):this.ultraState.goPeekState(I.AssessmentRoutes.ASSESSMENT_ATTEMPT_REVIEW_FEEDBACK_TAB,{attemptId:this.currentAttempt.id,columnId:this.contentData.gradingColumn.id,viewOriginalityReport:e,forceOpenFeedbackPanel:!e&&this.hasFeedback()}))}openSafeAssign(){this.ultraState.goPeekState("attempt-safe-assign-setting",{submitToGRD:this.submitToGRD})}loadCollabConfig(){this.collabUltra.getCollabB2Info().then((e=>{200===e.$response.status?this.showCollabLink=!0:this.showCollabLink=!1}),(e=>{this.showCollabLink=!1})),!this.forumId&&this.content.attachedForumLink&&this.content.attachedForumLink["resource/x-bb-courselink"]&&this.course.contents.$find(this.content.attachedForumLink["resource/x-bb-courselink"].courseContent).$then((e=>{this.forumId=e.contentDetail["resource/x-bb-forumlink"].id}))}get shouldShowCollabLink(){return this.showCollabLink&&r.isDefined(this.forumId)&&this.collabUltraEnabled}launchCollabSession(){const e=window.open();this.collabUltra.launchDiscussionSession(this.content.courseId,this.forumId,this.content.assignedGroups[0].groupId).then((t=>{e.location.href=t.url}),(t=>{e.close(),t.$response.status=null}))}isSubmittedLate(){let e=this.latestAttemptDate;this.aggregationModelRelevantAttemptDate&&(e=this.contentData.gradeDetail&&!this.contentData.gradeDetail.isPosted()?this.latestAttemptDate:this.aggregationModelRelevantAttemptDate);const t=this.studentHasDueDateException?this.dueDateException.fixedDueDate:this.dueDate;return t&&e&&t.getTime()-e.getTime()<0&&!this.contentData.courseContent.hasDueDateException()}hasPastDueZero(){return this.contentData.gradeDetail&&this.contentData.gradeDetail.isPastDueZero()}showPastDueForDueDate(){return this.isSubmissionLate}hasFeedback(){return y.a.attemptHasFeedback(this.currentAttempt)||this.hasGroupIndividualFeedback()}hasGroupIndividualFeedback(){return!(!this.content.isGroupContent||!y.a.groupAttemptHasIndividualFeedback(this.currentAttempt))}get aggregationModelDescriptionKey(){const e=this.contentData.gradingColumn,t=Object(k.parseAttemptAggregationModel)(null==e?void 0:e.aggregationModel);return t?Object(k.getAttemptAggregationModelStudentLabelKey)(t):null}updateIndicators(){this.content&&this.contentService.fetchIndicators(this.content.courseId).then((()=>{const e=this.contentService.getCourseContentCache(this.content.courseId,this.content.id);e&&(this.hasClassIndicator=e.classConversationHasIndicator,this.hasGroupIndicator=!!e.groupIds)}))}getProctoringBrowserText(){return this.proctoring.getProctoringOverviewBrowserText(this.content)}getProctoringRequirementsText(){return this.proctoring.getProctoringOverviewRequirementsText(this.content)}getProctoringBrowserDownloadText(){return this.proctoring.getProctoringOverviewDownloadText(this.content)}get isPeerGrading(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.peerGrading}get numOfPeerReviewsToComplete(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.numOfPeerReviewsToComplete}get numOfPeerReviewsLeft(){return this.numOfPeerReviewsToComplete-this.completedPeerReviews}showPeerReviewHasBeenDeletedBanner(){return this.hasDeletedPeerReviews()&&!this.dismissPeerDeletedBanner}hasDeletedPeerReviews(){var e;return!!this.isPeerGrading&&(null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.hasDeletedAttempts)}numberOfLatePeerReviews(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.numberOfLatePeerReviews}hasEnoughSubmissionsForPeerAssessment(){var e,t;return null!==(t=null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.hasEnoughSubmissionsForPeerAssessment)&&void 0!==t&&t}canRetrieveNewPeerReview(){var e;return this.isAssessmentSubmissionComplete&&this.hasEnoughSubmissionsForPeerAssessment()&&(null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.isAfterPeerSubmissionDueDate())}get completedPeerReviews(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.completedPeerReviews}get peerReviewDueDate(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.peerReviewDueDate}get isAssessmentSubmissionComplete(){return!!(this.attemptCount&&this.attemptCount>0&&this.attemptCountSubmitted&&this.attemptCountSubmitted>0)}get shouldHaveLateAttemptClass(){return this.isOverdue&&this.showBeforeAttemptedFooter}get isSubmissionLate(){return!this.isAssessmentSubmissionComplete&&this.isOverdue||this.isSubmittedLate()}get allowLatePeerReviews(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.allowLatePeerReviews}get isPeerGradingConfigured(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.isPeerGradingConfigured}get hasDueDateAccommodation(){return this.contextCourseMembership.isDueDateExcepted()}arePeerReviewsComplete(){return this.completedPeerReviews===this.numOfPeerReviewsToComplete}isPeerReviewsLate(){const e=this.context.getServerTime().getTime()>this.peerReviewDueDate.getTime();return!(!this.isPeerGrading||!e||this.hasDueDateAccommodation)&&(!this.arePeerReviewsComplete()||!(0===this.numberOfLatePeerReviews()))}get isGivenPasswordBlank(){return 0===this.givenPassword.length}onPasswordChange(){this.passwordErrorMessageKey=""}get deployedAssessment(){return this.content.getDeployedAssessment()}initAssessmentResultOptions(){this.initAssessmentResultOptionsVisibility();const e=this.getFeedbackOptionsToDisplay(),t=e.filter((e=>!1===this.assessmentResultOptionsVisibilityMap[e]||e===R.AssessmentFeedbackOption.UserAnswers));this.assessmentService.getFeedbackModeLabels(t,this.deployedAssessment.deploymentSettings.feedbackSettings).then((s=>{this.assessmentResultOptions=e.map((e=>{const n=this.bbLocalize.getLocale(this.$scope),i=this.bbLocalize.translateSync({key:`${y.f}.${e}`,locale:n}),r=!0===this.assessmentResultOptionsVisibilityMap[e];let a,o=y.e[e].visible;if(r)if(this.isUserAnswersVisible())a=this.isOptionAvailableForGradedAttempts(e)?this.bbLocalize.translateSync({key:"course.content.assessment.overview.assessmentResults.availableForGradedAttempts",locale:n}):this.bbLocalize.translateSync({key:"course.content.assessment.overview.assessmentResults.availableNow",locale:n});else{const e=t.indexOf(R.AssessmentFeedbackOption.UserAnswers);a=s[e]}else{o=y.e[e].invisible;const i=t.indexOf(e);a=s[i],null===a&&(a=this.bbLocalize.translateSync({key:y.c,locale:n}))}return{icon:o,modeLabel:a,option:e,optionLabel:i,visible:r}}))}))}getFeedbackOptionsToDisplay(){var e,t;const s=null===(t=null===(e=this.deployedAssessment)||void 0===e?void 0:e.deploymentSettings)||void 0===t?void 0:t.feedbackSettings;return y.d.filter((e=>{if(e===R.AssessmentFeedbackOption.UserAnswers)return!0;const t=y.a.isFeedbackOptionEnabled(e,s),n=e===R.AssessmentFeedbackOption.InstructorFeedback&&this.deployedAssessment.assessment.hasAutomatedQuestionFeedback;return t&&(e!==R.AssessmentFeedbackOption.InstructorFeedback||n)}))}initAssessmentResultOptionsVisibility(){var e;const t=this.contentData.gradingColumn.scoreProviderHandle,s=this.currentAttempt.getToolAttemptDetailItem(t),n=null==s?void 0:s.questionAttempts[0];this.assessmentResultOptionsVisibilityMap={[R.AssessmentFeedbackOption.UserAnswers]:this.getOptionVisibility(null==n?void 0:n.isResultVisible,R.AssessmentFeedbackOption.UserAnswers),[R.AssessmentFeedbackOption.InstructorFeedback]:null!==(e=null==n?void 0:n.isFeedbackVisible)&&void 0!==e&&e,[R.AssessmentFeedbackOption.Score]:this.getOptionVisibility(null==n?void 0:n.isScoreVisible,R.AssessmentFeedbackOption.Score),[R.AssessmentFeedbackOption.CorrectAnswers]:this.getOptionVisibility(null==n?void 0:n.isCorrectAnswersVisible,R.AssessmentFeedbackOption.CorrectAnswers)}}getOptionVisibility(e,t){return e?t!==R.AssessmentFeedbackOption.Score&&t!==R.AssessmentFeedbackOption.CorrectAnswers||this.isAtLeastOneAttemptCompleted:this.assessmentService.isAfterIndividualGradeIsPostedFeedbackMode(t,this.deployedAssessment.deploymentSettings.feedbackSettings)&&this.isAtLeastOneAttemptCompleted}shouldDisplayAssessmentResultsWarning(e){return this.assessmentService.isUserAnswersOption(e.option)&&this.isUserAnswersEnabled()&&this.getFeedbackOptionsToDisplay().length>1}isUserAnswersEnabled(){return y.a.isFeedbackOptionEnabled(R.AssessmentFeedbackOption.UserAnswers,this.deployedAssessment.deploymentSettings.feedbackSettings)}isUserAnswersVisible(){return!0===this.assessmentResultOptionsVisibilityMap[R.AssessmentFeedbackOption.UserAnswers]}isOptionAvailable(e){return e&&this.isUserAnswersVisible()}isOptionAvailableForGradedAttempts(e){return!(!this.allowMultipleAttempts||e===R.AssessmentFeedbackOption.InstructorFeedback||this.areAllAttemptsCompleted)&&(e===R.AssessmentFeedbackOption.UserAnswers?this.assessmentService.isAfterIndividualGradeIsPostedFeedbackMode(e,this.deployedAssessment.deploymentSettings.feedbackSettings):!this.assessmentService.isAfterAllGradesArePostedFeedbackMode(e,this.deployedAssessment.deploymentSettings.feedbackSettings))}get showAssessmentResults(){var e,t,s;const n=null===(t=null===(e=this.deployedAssessment)||void 0===e?void 0:e.assessment)||void 0===t?void 0:t.hasAnswerableQuestions;return(null===(s=this.currentAttempt)||void 0===s?void 0:s.isSubmitted())&&n}onAttemptCountComplete(){this.showAssessmentResults&&this.initAssessmentResultOptions()}};Y=Object(n.__decorate)([Object(n.__param)(0,Object(T.b)("contentData")),Object(n.__param)(1,Object(T.b)("currentCourse")),Object(n.__param)(2,Object(T.b)("$injector")),Object(n.__param)(3,Object(T.b)("$ngRedux")),Object(n.__param)(4,Object(T.b)("$scope")),Object(n.__param)(5,Object(T.b)("$q")),Object(n.__param)(6,Object(T.b)("$window")),Object(n.__param)(7,Object(T.b)(c.f)),Object(n.__param)(8,Object(T.b)(d.b)),Object(n.__param)(9,Object(T.b)(h.k)),Object(n.__param)(10,Object(T.b)(C.d)),Object(n.__param)(11,Object(T.b)(l.d)),Object(n.__param)(12,Object(T.b)(f.A.serviceName)),Object(n.__param)(13,Object(T.b)(f.E.serviceName)),Object(n.__param)(14,Object(T.b)(p.d)),Object(n.__param)(15,Object(T.b)(D.b)),Object(n.__param)(16,Object(T.b)(g.b)),Object(n.__param)(17,Object(T.b)(m.b)),Object(n.__param)(18,Object(T.b)(b.b)),Object(n.__param)(19,Object(T.b)(O.serviceName)),Object(n.__param)(20,Object(T.b)(S.b)),Object(n.__param)(21,Object(T.b)(A.g)),Object(n.__param)(22,Object(T.b)(o.b)),Object(n.__param)(23,Object(T.b)(v.b)),Object(n.__param)(24,Object(T.b)(u.d)),Object(n.__param)(25,Object(T.b)(y.h)),Object(n.__param)(26,Object(T.b)(_.b)),Object(n.__param)(27,Object(T.b)(M.b)),Object(n.__param)(28,Object(T.b)(j.b)),Object(n.__param)(29,Object(T.b)(E.b)),Object(n.__param)(30,Object(T.b)(w.b))],Y);class Z extends Y{}},YHe3:function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return A})),s.d(t,"b",(function(){return f}));var n=s("D57K"),i=s("Llzl"),r=s("pjml"),a=s("TnpK"),o=s("Q/M7"),l=s("12mu"),c=s("0JpG"),d=s("nYZ0"),m=s("Qbdf"),u=s("vhkR"),v=s("zJP2"),p=s("IbyE"),b=s("zGdY"),h=s("CY5M"),g=s("nmzr"),w=s("DU7P"),O=s("aHpC");s("TuNX");const A="ultra.components.services.proctoring",f="proctoring",D={Respondus:"respondus"},S="components.services.proctoring.overview.",C="components.services.proctoring.delivery.",y="components.services.proctoring.settings.",P="components.services.proctoring.page.";let R=class{constructor(e,t,s,n,i,r,a,o,l,c,d,m,u){this.$q=e,this.$rootScope=t,this.$sce=s,this.$window=n,this.CourseModel=i,this.CourseContentModel=r,this.ProctoringServicesModel=a,this.modal=o,this.contentService=l,this.contextCourse=c,this.localize=d,this.ultraState=m,this.ltiService=u}getBooksAndToolsDescription(e){return"components.services.proctoring.booksAndTools."+D[e.vendor]+".description"}getProctoringServices(){const e=this.$q.defer();return this.ProctoringServicesModel.$search({"availability.available":"Yes"}).$allow(["400-599"]).$asPromise().then((t=>{t.$response&&t.$response.status>=400?e.resolve([]):e.resolve(t)}),(()=>e.resolve([]))),e.promise}getProctoringAssessmentSettingsText(e){return y+D[e]+".toolLink"}getProctoringAssessmentSettingsRequirementsText(e){const t=y;return e.getProctoringServiceHandle()&&e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+D[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+D[e.getProctoringServiceVendor()]+".secureBrowserRequired":null}getProctoringOverviewBrowserText(e){return e.isSecureBrowserRequiredToTake()?"components.services.proctoring.overview."+D[e.getProctoringServiceVendor()]+".browser":null}getProctoringOverviewRequirementsText(e){const t=S;return e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+D[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+D[e.getProctoringServiceVendor()]+".secureBrowserRequired":null}getProctoringOverviewDownloadText(e){return e.getProctoringDownloadUrl()?"components.services.proctoring.overview."+D[e.getProctoringServiceVendor()]+".downloadBrowser":null}openProctoringLTITool(e,t){let s="/webapps/assessment/controller/proctoring/launchProctoringSettings?proctoring_svc_id="+e.id+"&course_id="+this.contextCourse.courseId;t&&(s+="&content_id="+t.id);const n={toolHref:o.c(s)};t&&t.title&&t.title.length>0&&(n.toolSubtitle=t.title),this.ultraState.goPeekState("proctoring-lti-tool",n)}getProctoringReviewButtonText(e){return C+"review."+D[e]+".reviewResults"}getProctoringReviewDownloadText(e){return C+"review."+D[e]+".download"}getProctoringPageRequirementsText(e){return P+D[e]+".requirements"}getProctoringPageDownloadText(e){return P+D[e]+".download"}getProctoringPageBrowserText(e){return P+D[e]+".browser"}getSecureBbEditorOptions(e){return this.ultraState.current.name===g.BaseRoutes.BASE_PROCTORING_ATTEMPT&&(e.attachment=!1,e.image=!1,e.youtubeVideo=!1,e.video=!1,e.contentMarket=!1),e}handleProctoredAssessmentClose(e,t){if("Respondus"===e.getProctoringServiceVendor())o.p(o.c("/ultra/proctoring/close?rldbsm=1&rldbxb=1"));else if(t){const t={handle:e.getProctoringServiceHandle(),linkType:p.ContentHandler.LtiPlacement};let s=Object(h.getLaunchLinkFromLinkRef)(t);s=o.a(s,"custom_proctoring_end_assessment_return","true"),s=o.a(s,"course_id",e.courseId),s=o.a(s,"content_id",e.id),s=o.a(s,"from_ultra","true"),this.ultraState.leavePeekState().then((()=>{this.ltiService.launch(s)}))}else this.ultraState.goPeekState(g.AssessmentRoutes.ASSESSMENT_OVERVIEW,{contentId:e.id})}getProctoringServiceByHandle(e){return this.$q.resolve(v.a.loadProctoringService(e))}fetchProctoringServices(){return this.$q.resolve(v.a.loadAvailableProctoringServices())}fetchProctoringServiceIntegrations(){return this.$q.resolve(v.a.loadAvailableProctoringServicesWithIntegration())}getCurrentProctoringProviderType(e){return e?e===w.b?w.a.Respondus:w.a.IMS:w.a.None}isRespondusProctoringServiceProvider(e){return this.getCurrentProctoringProviderType(e.handle)===w.a.Respondus}isIMSProctoringServiceProvider(e){return this.getCurrentProctoringProviderType(e.handle)===w.a.IMS}isProctoringServiceUnavailable(e,t){return this.isProctoringPlacementUnavailable(e,t)||this.isProctoringUEFUnavailable(e,t)}isProctoringPlacementUnavailable(e,t){return!!e&&(null==t||t.availability.available===b.PublicAvailability.No)}isProctoringUEFUnavailable(e,t){if(!!e){return!this.isRespondusProctoringServiceProvider(t)&&!this.getProctoringServiceIntegrationId(t)}return!1}getProctoringServiceIntegrationId(e){var t;if(e)return null===(t=v.a.getProctoringIntegration(e.handle))||void 0===t?void 0:t.integrationId}promptIntegrationToSave(e,t,s,n){return this.$q.resolve(v.a.promptIntegrationToSaveSettings(e,t,s,n))}openRespondusProctoringLaunchLink(t){const s="data:text/plain,";if(e("#respondus-iframe").remove(),t.startsWith(s)){const e=`<iframe src="data://text/plain,${t.substring(s.length)}" id="respondus-iframe" style="display:none"></iframe>`;this.createRespondusIFrameAndSetLocation(e)}else this.setRespondusWindowLocation(t)}createRespondusIFrameAndSetLocation(t){document.body.appendChild(e(t)[0])}setRespondusWindowLocation(e){this.$window.location.assign(e)}};R=Object(n.__decorate)([Object(n.__param)(0,Object(O.b)("$q")),Object(n.__param)(1,Object(O.b)("$rootScope")),Object(n.__param)(2,Object(O.b)("$sce")),Object(n.__param)(3,Object(O.b)("$window")),Object(n.__param)(4,Object(O.b)(r.m.serviceName)),Object(n.__param)(5,Object(O.b)(r.p.serviceName)),Object(n.__param)(6,Object(O.b)(r.kb.serviceName)),Object(n.__param)(7,Object(O.b)(l.b)),Object(n.__param)(8,Object(O.b)(d.f)),Object(n.__param)(9,Object(O.b)(m.e)),Object(n.__param)(10,Object(O.b)(c.serviceName)),Object(n.__param)(11,Object(O.b)(a.d)),Object(n.__param)(12,Object(O.b)(u.b))],R);i.module(A,["ngSanitize",d.d,c.moduleName,l.a,a.b,m.b,u.a]).service(f,R)}).call(this,s("71td"))},aPUy:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return r}));const n="peer-review-assigned";function i(e,t){return e.$broadcast(n,t.listIndex,t.reviewableAttempt)}function r(e,t){return e.$on(n,t)}},dcnw:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-grade",use:"icon-medium-grade-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-grade"><path d="M21 11V1H3v22h8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M17.5 12l1.2348 3.8004h3.996l-3.2328 2.3488 1.2348 3.8004L17.5 19.6008l-3.2328 2.3488 1.2348-3.8004-3.2328-2.3488h3.996L17.5 12zM7 5h8M7 9h10M7 13h3M7 17h2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},dpCN:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-attempts",use:"icon-medium-attempts-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-attempts"><rect x="1" y="4" width="19" height="19" rx="2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M20 20h1c1.1046 0 2-.8954 2-2V3c0-1.1046-.8954-2-2-2H6c-1.1046 0-2 .8954-2 2v1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 14l4 4 7-8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},nfUd:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-visible",use:"icon-medium-visible-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-visible"><circle cx="12" cy="12" r="2" stroke-width="2" /><path d="M12 6C7.1067 6 1 12 1 12s6.1067 6 11 6 11-6 11-6-6.1067-6-11-6z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},s5UK:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-small-arrow-left",use:"icon-small-arrow-left-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-arrow-left"><path d="M11 1L4 8l7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},sZYy:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-goal",use:"icon-medium-goal-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-goal"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M1 1h22v4H1zM6 20h12v3H6z" /><path d="M10 14v6M14 14v6" stroke-width="2" /><path d="M4 5c0 6 3 9 8 9s8-3 8-9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M4 8H1c0 9.5 9 9 9 9M20 8h3c0 9.5-9 9-9 9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},xoIb:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-feedback",use:"icon-medium-feedback-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-feedback"><path d="M1 1h22v19h-8l-3 3-3-3H1V1zM6 6h12M6 9h12M6 12h12M6 15h7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r},zIKm:function(e,t,s){var n=s("ziER"),i=s("5JeM"),r=new n({id:"icon-medium-time-limit",use:"icon-medium-time-limit-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-time-limit"><path d="M5 1l6 11-6 11M19 1l-6 11 6 11M4 1h16M4 23h16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(r);e.exports=r}}]);