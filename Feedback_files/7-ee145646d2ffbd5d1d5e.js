(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+1kD":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OneQuestionAtATimeOption=t.OneQuestionAtATimeOptionBase=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("FS8K"),a=s("IbyE"),o=s("uDfI"),l=s("tN4z"),r=s("AuQm"),u=s("yz5x"),c=s("/RQb");t.OneQuestionAtATimeOptionBase=({assessmentId:e,checked:t,disabled:s,onCheckedChanged:r,openModal:u,analyticsId:d})=>{const m=`${d}.input.checkbox`,p=(0,i.useTranslate)(),f=(0,o.useDispatch)(),h=(0,o.useSelector)((t=>a.select.question.getPageBreakQuestionsByAssessmentId(t,e))),{rootClass:g}=(0,c.useStyles)(),y=(0,n.useCallback)((async e=>{if(!e.target.checked)return void r(!1);if(0===h.length)return void r(!0);const{confirmed:t}=await u();if(!t)return void r(!1);const s=await f(a.actions.question.deleteQuestions(h));s.results&&Object.keys(s.results).every((e=>s.results[e].isOk))?r(!0):r(!1)}),[r,h,u,f]);return n.default.createElement(l.AnalyticsFormControlLabel,{analyticsId:m,label:p("assessmentSettings.displayOneAtATime"),htmlFor:"display-one-question-at-a-time",classes:{root:g},control:n.default.createElement(l.AnalyticsCheckbox,{checked:t,disabled:s,onChange:y,analyticsId:m,id:"display-one-question-at-a-time"})})},t.OneQuestionAtATimeOption=(0,r.withModal)((e=>({titleKey:e.titleKey,subTextKey:e.subtextKey,analyticsId:e.analyticsId})))(t.OneQuestionAtATimeOptionBase,u.RemovePageBreaksConfirmationDialog)},"+JSZ":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((()=>(0,n.createStyles)({progressBarClass:{height:10}})))},"+fsM":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentCanvasControls=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("0x+l"),a=s("MKHq"),o=s("i7qc"),l=s("yz5x");t.AssessmentCanvasControls=e=>{const{canEditAssessment:t,hasPageBreaks:s,deletePageBreaks:r}=e,u=(0,a.useStyles)(),[c,d]=(0,n.useState)(!1),m=(0,n.useRef)(null),p=[{key:"combine",icon:n.default.createElement(i.Collapse,{className:u.combineButtonIcon}),onClick:()=>{d(!0)},subAnalyticsId:"assessments.canvas.controls.menuOptions.combine",translationKey:"assessments.canvas.controls.menuOptions.combine"}],f=(0,n.useMemo)((()=>p.filter((e=>"combine"!==e.key||t))),[p,t]),h=t&&s;return n.default.createElement(n.default.Fragment,null,h?n.default.createElement("div",{className:u.assessmentCanvasControls},n.default.createElement("div",{className:u.assessmentCanvasControlsActions},n.default.createElement("div",{ref:m},!!f.length&&n.default.createElement(o.AssessmentCanvasControlsMenuButton,{controlsMenuItems:f})))):null,c&&n.default.createElement(l.RemovePageBreaksConfirmationDialog,{titleKey:"assessments.canvas.controls.combineConfirmation.title.pageBreak",subTextKey:"assessments.canvas.controls.combineConfirmation.subText.pageBreak",analyticsId:"assessment-canvas-controls",exitCallback:e=>{d(!1),e&&r(),m.current&&m.current.focus()}}))}},"+rnX":function(e,t,s){"use strict";s.r(t)},"/RQb":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((()=>(0,n.createStyles)({rootClass:{marginLeft:"-5px"}})))},"/Wj3":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=s("FS8K"),o=n.__importDefault(s("vQ80"));s("+rnX");const l=n.__importDefault(s("Fr0Y"));t.default=(0,a.localizedComponentWrapper)((({localize:e})=>i.default.createElement("div",{className:"question-pools-empty-state"},i.default.createElement(o.default,{image:l.default,passedClass:"question-pools-empty-state__image",presentationOnly:!0}),i.default.createElement("h3",{className:"question-pools-empty-state__title"},e.translate("questionPools.emptyState.dueToDeletion.header")),i.default.createElement("div",{className:"question-pools-empty-state__message"},e.translate("questionPools.emptyState.dueToDeletion.message")))))},"/uX9":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreventBacktrackingAttemptView=void 0;const n=s("IbyE"),i=s("kEh4"),a=s("QQVi");class o extends i.BaseQuestionAttemptView{constructor(){super(...arguments),this.isMovingOn=!1}replaceQuestionAttempts(e){var t;const s=null===(t=this.questionAttempts[this.questionAttempts.length-1])||void 0===t?void 0:t.id,n=e[0].id;this.initializeQuestionAttempts(e),s!==n&&this.onAfterAsyncViewAction((()=>{this.questionStatusesById={}}))}initializeQuestionAttempts(e){var t,s,n,i;this.questionAttempts=[],this.questionAttemptPages=[];const a=e[e.length-1],o=this.augmentCurrentQuestionAttempt(a,e.length-1,this.questionAttemptPages.length);this.totalPageCount=null!==(t=a.totalQuestionPages)&&void 0!==t?t:0,this.currentPageCount=null!==(s=a.visibleQuestionPage)&&void 0!==s?s:0,this.answerableQuestionCount=null!==(n=a.totalAnswerableQuestions)&&void 0!==n?n:0,this.unansweredQuestionCount=null!==(i=a.unansweredAnswerableQuestions)&&void 0!==i?i:0,this.questionAttempts.push(o),this.questionAttemptPages.push([o]),this.currentPageIndex=o.pageIndex,this.setCurrentVisibleQuestionAttemptsPage(),this.calculateNavigationState()}calculateNavigationState(){this.canNavigateBackward=!1,this.isLastPage()?this.canNavigateForward=!1:this.canNavigateForward=!0}navigateFirst(){throw new Error("Navigating to the first questions is not supported when prevent backtracking.")}navigatePrevious(){throw new Error("Navigating to the previous questions is not supported when prevent backtracking.")}async navigateNext(e){var t;if(!this.isMovingOn)if(this.currentPageHasUnsavedAnswers())this.queuedNavigation=i.NavigationOptions.Next;else if(this.isAnswerable(this.currentQuestionAttempt)&&(0,a.isUnansweredQuestion)(this.currentQuestionAttempt)&&!e)this.showSkipQuestionDialog(null!==(t=this.currentQuestionAttempt.visibleQuestionNumber)&&void 0!==t?t:1);else try{this.isMovingOn=!0,await this.markQuestionAttemptMovedOn(),await this.loadNextQuestion(),this.onNavigationOrFilterChanged()}finally{this.isMovingOn=!1}}navigateLast(){throw new Error("Navigating to the last question is not supported when prevent backtracking.")}isLastPage(){return this.currentPageCount===this.totalPageCount}markQuestionAttemptMovedOn(){return this.dispatch(n.actions.questionAttempt.markQuestionAttemptMovedOn(this.currentQuestionAttempt.id,this.courseId))}loadNextQuestion(){return this.dispatch(n.actions.questionAttempt.loadQuestionAttemptsByAttemptId(this.attemptId,this.courseId))}isPageable(){return!0}isFilterable(){return!1}calculateUnansweredQuestionCount(){this.unansweredQuestionCount=this.currentQuestionAttempt.unansweredAnswerableQuestions}get currentQuestionAttempt(){return this.questionAttempts[this.questionAttempts.length-1]}}t.PreventBacktrackingAttemptView=o},"0d+/":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionAnswerStatus=t.QuestionAnswerResult=void 0;var n=s("Qycl");Object.defineProperty(t,"QuestionAnswerResult",{enumerable:!0,get:function(){return n.QuestionAnswerResult}}),Object.defineProperty(t,"QuestionAnswerStatus",{enumerable:!0,get:function(){return n.QuestionAnswerStatus}})},"0pYo":function(e,t,s){"use strict";s.r(t)},"0txJ":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((()=>(0,n.createStyles)({rootClass:{marginLeft:"-5px"}})))},"1WkJ":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllAtOnceQuestionAttemptView=void 0;const n=s("kEh4");class i extends n.BaseQuestionAttemptView{initializeQuestionAttempts(e){this.answerableQuestionCount=0,this.questionAttempts=e.map(((e,t)=>{const s=this.augmentCurrentQuestionAttempt(e,t,0);return this.answerableQuestionCount+=this.isAnswerable(e)?1:0,s})),this.initializeQuestionTypes(),this.questionAttemptPages=[this.questionAttempts],this.questionsMatchingFilterCount=this.answerableQuestionCount,this.calculateUnansweredQuestionCount(),this.setCurrentVisibleQuestionAttemptsPage(),this.calculateNavigationState()}calculateNavigationState(){this.canNavigateBackward=!1,this.canNavigateForward=!1}navigateFirst(){throw new Error("Navigation is not supported when all questions at once.")}navigatePrevious(){throw new Error("Navigation is not supported when all questions at once.")}navigateNext(){throw new Error("Navigation is not supported when all questions at once.")}navigateLast(){throw new Error("Navigation is not supported when all questions at once.")}isLastPage(){return!0}}t.AllAtOnceQuestionAttemptView=i},2561:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HotspotCanvasToolbarSecondaryInstructions=void 0;const n=s("D57K").__importDefault(s("ERkP")),i=s("kSg6");t.HotspotCanvasToolbarSecondaryInstructions=e=>{const t=(0,i.useStyles)();return n.default.createElement("div",{className:t.root},e.children)}},"2WjX":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRegularHotspotPin=t.createHotspotCorrectnessPin=t.HotspotPin=void 0;const n=s("D57K"),i=s("031P"),a=s("/VhE"),o=n.__importDefault(s("ihlUh")),l=n.__importDefault(s("izYA")),r=n.__importDefault(s("DiuX")),u=n.__importDefault(s("eYvb"));var c;!function(e){e[e.Pin=o.default]="Pin",e[e.PinDrag=l.default]="PinDrag",e[e.CorrectPin=r.default]="CorrectPin",e[e.IncorrectPin=u.default]="IncorrectPin"}(c||(c={})),t.HotspotPin=i.fabric.util.createClass(i.fabric.Group,{type:a.FabricJSObjectType.HotspotPin,primaryPin:i.fabric.Group,dragPin:i.fabric.Group,initialize(e,t,s,n){const i=[s,...n?[n]:[]];i.forEach((e=>{e.set({originX:"center",originY:"center"})}));const a={id:e,originX:"center",originY:"center",selectable:t,lockMovementX:!t,lockMovementY:!t,hasBorders:!1,hasControls:!1,hoverCursor:t?"move":"default"};this.callSuper("initialize",i,a),this.set("id",e),this.primaryPin=s,this.dragPin=n,this.showPrimaryPin(),this.registerHotspotPinEventHandlers(t)},toObject(){return i.fabric.util.object.extend(this.callSuper("toObject"),{id:this.get("id")})},registerHotspotPinEventHandlers(e){e&&this.dragPin&&(this.on("selected",(()=>{this.showDragPin()})),this.on("deselected",(()=>{this.showPrimaryPin()})))},resize(e){const t=(0,a.calculateScaledFabricJSCanvasValue)(this.width,e),s=(0,a.calculateScaledFabricJSCanvasValue)(this.height,e);this.set({scaleX:t/this.width,scaleY:s/this.height}),this.setCoords()},showPrimaryPin(){var e;this.primaryPin.set({visible:!0}),null===(e=this.dragPin)||void 0===e||e.set({visible:!1})},showDragPin(){var e;this.primaryPin.set({visible:!1}),null===(e=this.dragPin)||void 0===e||e.set({visible:!0})}});const d=e=>{const{pinId:s,pinIcon:n,pinDragIcon:a,isPinMovable:o,creationCallback:l}=e,r=(e,n)=>{const i=new t.HotspotPin(s,o,e,n);l(i)};i.fabric.loadSVGFromString(n.toString(),(e=>{const t=i.fabric.util.groupSVGElements(e);o&&a?i.fabric.loadSVGFromString(a.toString(),(e=>{const s=i.fabric.util.groupSVGElements(e);r(t,s)})):r(t)}))};t.createHotspotCorrectnessPin=e=>d({...e,pinIcon:e.isCorrectAnswer?c.CorrectPin:c.IncorrectPin});t.createRegularHotspotPin=e=>d({...e,pinIcon:c.Pin,pinDragIcon:c.PinDrag})},"2uJK":function(e,t,s){"use strict";s.r(t)},"3UAS":function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPickerPanel=t.default=void 0;var i=s("lDRh");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}}),Object.defineProperty(t,"QuestionPickerPanel",{enumerable:!0,get:function(){return i.QuestionPickerPanel}})},"3jit":function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("/Wj3");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},"3pwD":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HotspotCanvasAttemptReview=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("Rco2"),a=s("KfeN"),o=s("eqO1"),l=s("/VhE"),r=s("j7BF"),u=s("nsO7"),c=s("+1G9"),d=s("mLY0"),m=s("tN4z"),p=s("FS8K");t.HotspotCanvasAttemptReview=e=>{const{question:t,givenAnswers:s,isCorrectAnswersVisible:f}=e,h=(0,o.useTheme)(),g=(0,a.useStyles)(h),y=(0,l.getCanvasBackgroundOptionsFromQuestion)(t,h),[v,b]=(0,n.useState)(!1),{onReady:P,onResizeCanvas:_,canvasEditor:C}=(0,r.useHotspotCanvasAttemptEditor)(y,(()=>b(!0)),u.noop),S=(0,p.useTranslate)(),A=(0,n.useCallback)((({coordinates:e,isCorrectAnswer:t})=>{C&&(f&&(0,u.isBoolean)(t)?C.addCorrectnessHotspotPin(e,Boolean(t)):C.addReadonlyHotspotPin(e))}),[C,f]);return(0,c.useDrawExistingHotspots)({shouldDrawHotspots:Boolean(C)&&v&&(f||t.displayShapesToStudents),answers:t.answers||[],shouldDrawLabels:f,addHotspot:(null==C?void 0:C.addReadonlyHotspot.bind(C))||u.noop}),(0,d.useDrawExistingPins)({addPin:A,givenAnswers:s||[],shouldDrawPins:Boolean(C)&&v}),n.default.createElement("div",null,n.default.createElement("div",{className:g.canvasDiv},n.default.createElement(i.FabricJSCanvas,{onResizeCanvas:_,onReady:P}),!v&&n.default.createElement("div",{className:g.spinner},n.default.createElement(m.AnalyticsCircularProgress,{ariaLabel:S("global.loading"),size:"medium"}))))}},"557W":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("ekqz"));s("2uJK");const o=s("FS8K");t.default=(0,o.localizedComponentWrapper)((e=>{const{localize:t,question:s,questionTextClassName:n}=e;return i.default.createElement("div",{className:"readonly-essay-question"},i.default.createElement("div",{className:n},i.default.createElement(a.default,{id:s.id,bbml:s.questionText.rawText,isReadOnly:!0,refreshBbml:!0})),i.default.createElement("div",{className:"readonly-answer__container"},i.default.createElement("div",{className:"readonly-essay-question__instructions readonly-answer__instructions readonly-answer__main"},t.translate("assessments.canvas.question.essay.instructions"))))}))},"56RL":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentFilterPopover=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=s("FS8K"),o=s("tN4z"),l=s("IRTu"),r=s("zGdY"),u=s("kEh4"),c=n.__importDefault(s("7O4Y"));t.AssessmentFilterPopover=({questionTypes:e,onFilterChanged:t,filter:s,analyticsId:n})=>{const d=(0,l.useStyles)(),m=(0,a.useTranslate)(),p=m("filterDropdown.navigate"),f=m("filterDropdown.allQuestions"),h=m("filterDropdown.unansweredQuestions"),g=m("filterDropdown.filterQuestionTypes"),y=m("filterDropdown.resetAll"),v=i.useCallback((e=>{if(e===r.QuestionType.Essay)return m("filterDropdown.questionTypes.essay")}),[m]),b=Object.values(e).map((e=>({questionType:e,label:v(e)}))),P=i.useCallback((e=>{t({...s,status:parseInt(e.target.value,10)})}),[t,s]),_=i.useCallback(((e,n)=>{var i;const a=null!==(i=s.types)&&void 0!==i?i:[],o=n?[...a,e.target.value]:a.filter((t=>t!==e.target.value)),l={status:s.status};o.length>0&&(l.types=o),t(l)}),[t,s]),C=i.useCallback((e=>{var t,n;return null!==(n=null===(t=s.types)||void 0===t?void 0:t.some((t=>t===e)))&&void 0!==n&&n}),[s]);return i.createElement("div",{className:(0,c.default)(d.container,"js-assessment-filter-popover-container")},i.createElement("div",{className:d.row},i.createElement("fieldset",{className:d.fieldset},i.createElement("legend",{className:d.legend},p),i.createElement(o.AnalyticsRadioGroup,{analyticsId:`${n}.answer-status.radio-group`,defaultValue:u.QuestionStatusFilter.All,name:"assessment-filter-popover-radio-buttons-group",hasCustomLegend:!0,className:d.formGroup,value:s.status,onChange:P},i.createElement(o.AnalyticsFormControlLabel,{className:(0,c.default)(d.formLabel,"js-assessment-filter-all-questions"),analyticsId:`${n}.attempt-status.all.radio.form-control-label`,value:u.QuestionStatusFilter.All,control:i.createElement(o.AnalyticsRadio,{analyticsId:`${n}.attempt-status.all.radio`}),label:f}),i.createElement(o.AnalyticsFormControlLabel,{className:(0,c.default)(d.formLabel,"js-assessment-filter-unanswered-questions"),analyticsId:`${n}.attempt-status.unanswered.radio.form-control-label`,value:u.QuestionStatusFilter.Unanswered,control:i.createElement(o.AnalyticsRadio,{analyticsId:`${n}.attempt-status.unanswered.radio`}),label:h})))),e.length>0&&i.createElement("div",{className:d.row},i.createElement("fieldset",{className:d.fieldset},i.createElement("legend",{className:d.legend},g),i.createElement("div",{className:d.formGroup},b.map((e=>{const{label:t,questionType:s}=e,a=`${s}-filter-control`,l=i.createElement(o.AnalyticsSwitch,{analyticsId:`${n}.${s}.switch`,id:a,checked:C(s),onChange:e=>_(e,!C(s)),name:s});return i.createElement(o.AnalyticsFormControlLabel,{key:s,analyticsId:`${n}.${s}.checkbox.form-control-label`,value:s,control:l,htmlFor:a,label:t,labelPlacement:"end",className:(0,c.default)(d.formLabel,"js-assessment-filter-essay-checkbox")})}))))),i.createElement(o.AnalyticsLink,{component:"button",analyticsId:`${n}.reset-all-button`,className:(0,c.default)(d.resetButton,"js-assessment-filter-reset-all-button"),onClick:()=>t({status:u.QuestionStatusFilter.All})},y))}},"5iKm":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((()=>(0,n.createStyles)({buttonClass:{minHeight:"inherit",minWidth:"inherit"}})))},"5v5j":function(e,t,s){"use strict";s.r(t)},"6zd3":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K").__importDefault(s("ERkP"));s("rmaN");t.default=e=>{const{text:t}=e;return n.default.createElement("div",{className:"divider-text-container"},n.default.createElement("span",null,t))}},"83QM":function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("Y3gu");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},"8PZd":function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("9vdA");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},"97eZ":function(e,t,s){"use strict";s.r(t)},"9Y6G":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({containerClass:{paddingBottom:"15px",marginBottom:"15px",borderBottom:`solid 1px ${e.palette.border.main}`}})))},"9vdA":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolQuestion=void 0;const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=s("FS8K"),o=s("6Nff"),l=n.__importDefault(s("WS8J")),r=n.__importDefault(s("l4Sq")),u=s("+VgB");s("SS/S");t.QuestionPoolQuestion=e=>{const{courseId:t,question:s,localize:n,deleteQuestion:a,hasSubmissions:c,focusTitle:d,isAnyQuestionDirty:m,questionBeingEditedId:p,onQuestionEdit:f,onQuestionMadeDirty:h,persistQuestion:g,hasAssessmentModifyPermissions:y,localizationPrefix:v,supportsInlineDocumentRender:b}=e;return i.default.createElement("div",{className:"question-pool-question"},i.default.createElement(o.AssessmentCanvasQuestion,{courseId:t,focusTitle:d,question:s,deleteQuestion:a,hasSubmissions:c,questionBeingEditedId:p,questionTitle:n.translate(`question.typeLabels.${s.questionType}`),onQuestionEdit:f,onQuestionMadeDirty:h,isAnyQuestionDirty:m,persistQuestion:g,openGoals:()=>{},pluginsConfig:{},showQuestionControls:!1,localizationPrefix:v,supportsInlineDocumentRender:b,customQuestionHeader:e=>{return i.default.createElement(l.default,{...e,questionSourceName:s.sourceInfo.name,hasAssessmentModifyPermissions:y,hasSubmissions:c,deleteQuestion:a,overflowMenuButtonLabelData:(t=e.questionTitle,(0,r.default)("overflow",s,t,(0,u.getTagPlaceholders)(n.translate)))});var t}}))},t.default=(0,a.localizedComponentWrapper)(t.QuestionPoolQuestion)},AnUm:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({rowClass:{display:"flex",flexDirection:"row",gap:"5px",alignItems:"center"},chipContainerClass:{listStyle:"none",margin:0,display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"5px"},paperClass:{width:"100%",[e.breakpoints.up("sm")]:{width:"300px"}}})))},BY2p:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedAssessmentProgressBar=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("ALQB"),a=s("FS8K"),o=s("+JSZ");t.LocalizedAssessmentProgressBar=(0,a.localizedComponentWrapper)((({descriptionId:e,answerableQuestionCount:t,unansweredQuestionCount:s,localize:a})=>{const{progressBarClass:l}=(0,o.useStyles)(),r=a.translate("assessmentProgress.progressBar.ariaLabel"),u=0===t?0:(t-s)/t*100;return n.createElement(i.AnalyticsLinearProgress,{"aria-hidden":!0,ariaLabel:r,"aria-describedby":e,variant:"determinate",value:u,classes:{root:l}})}))},CXVp:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K").__importDefault(s("ERkP")),i=s("AuQm"),a=s("IbyE"),o=s("FS8K"),l=s("PCui");s("p5Yg");t.default=(0,o.localizedComponentWrapper)((e=>n.default.createElement("div",{className:"dnd-question-preview"},(()=>{const{question:t,questionTitle:s,localize:o}=e,r=a.Questions.isFileAttachment(t),u=a.Questions.isQuestionBlock(t),c=u?t.pointsPerQuestion:t.points,d="assessments.canvas.question.header."+(u?"pointsEach":"points");return r?n.default.createElement("div",{className:"dnd-question-preview__file"},n.default.createElement(i.FileViewer,{...(0,l.getFileViewerPropsArray)(t)[0],analyticsId:"assessment.canvas.question.preview.fileViewer",supportsInlineDocumentRender:e.supportsInlineDocumentRender})):n.default.createElement("div",{className:"dnd-question-preview__question"},n.default.createElement("div",{className:"dnd-question-preview__question-header"},s&&n.default.createElement("div",{className:"dnd-question-preview__question-header-inner"},n.default.createElement("h3",{className:"dnd-question-preview__title"},s),n.default.createElement("div",{className:"dnd-question-preview__pill"},o.translate(d,{points:c}))),t.questionText&&n.default.createElement("div",{className:"dnd-question-preview__question-text",dangerouslySetInnerHTML:{__html:t.questionText.rawText}})))})())))},Ctdr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>({accessCodeClass:{fontSize:e.typography.fontSizeXXLarge,fontWeight:e.typography.fontWeightLight,letterSpacing:"6px"},highlightClass:{color:e.palette.focus.main},noHighlightClass:{color:e.palette.text.primary,transition:"color 1s"}})))},DNn3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentFilterDropdown=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=s("FS8K"),o=s("56RL"),l=s("tN4z"),r=s("U7v+"),u=s("SFuT"),c=s("eqO1"),d=s("z3so"),m=s("kEh4"),p=s("zGdY"),f=n.__importDefault(s("7O4Y"));t.AssessmentFilterDropdown=({questionsMatchingFilterCount:e,questionTypes:t,filter:s,onFilterAvailable:n,onFilterChanged:h,renderFullWidth:g})=>{const y=i.useRef(null),[v,b]=i.useState(!1),P=(0,a.useTranslate)(),{isRtl:_}=(0,a.useLocalize)(),C=(0,d.useStyles)(),S=(0,c.useTheme)(),A=(0,c.useMediaQuery)(S.breakpoints.up("md")),Q=()=>{!1!==(null==n?void 0:n())&&b(!v)},E=P("filterDropdown.ariaLabel"),w=i.useMemo((()=>{var t,n;const i="filterDropdown.filterStatus";if(0===e)return P(i+".noQuestionsListed");if(s.status===m.QuestionStatusFilter.All&&0===(null!==(t=s.types)&&void 0!==t?t:[]).length)return P(i+".allQuestionsListed");let a="";const o=null===(n=s.types)||void 0===n?void 0:n.some((e=>e===p.QuestionType.Essay));switch(s.status){case m.QuestionStatusFilter.All:a=".allWithEssayAndCount";break;case m.QuestionStatusFilter.Unanswered:a=o?".unansweredWithEssayAndCount":".unansweredWithCount";break;case m.QuestionStatusFilter.Answered:a=o?".answeredWithEssayAndCount":".answeredWithCount"}return P(i+a,{count:e})}),[P,e,s]);return i.createElement(i.Fragment,null,i.createElement(l.AnalyticsIconButton,{name:"assessment-footer-question-filter-button","aria-label":E,className:(0,f.default)(C.filterButton,"js-assessment-filter-dropdown-button"),analyticsId:"assessments.filter-dropdown.button",ref:y,onClick:Q,id:"assessment-footer-question-filter-button","aria-controls":"assessment-footer-question-filter-region","aria-expanded":v},(()=>{if(A||g)return i.createElement(i.Fragment,null,i.createElement("span",{className:C.filterButtonText},P("filterDropdown.filter",{count:e})),i.createElement(r.TriangleDown,{className:C.filterButtonIcon}));const t=e>99?`(${P("filterDropdown.moreThan99")})`:`(${e})`;return i.createElement(i.Fragment,null,i.createElement(u.PersonalSettings,{className:C.filterButtonIcon}),i.createElement("span",{className:C.filterButtonText},t))})()),i.createElement("span",{className:"sr-only","aria-live":"polite",role:"status"},w),i.createElement(l.AnalyticsPopover,{analyticsId:"assessments.filter-dropdown.popover",anchorEl:y.current,open:v,onClose:Q,anchorOrigin:{vertical:"top",horizontal:_()?"right":"left"},transformOrigin:{vertical:"bottom",horizontal:_()?"right":"left"},PaperProps:{className:C.paperClass},role:"region",id:"assessment-footer-question-filter-region","aria-labelledby":"assessment-footer-question-filter-button",tabIndex:-1},i.createElement(o.AssessmentFilterPopover,{analyticsId:"assessments.filter-dropdown.popover",questionTypes:t,filter:s,onFilterChanged:h})))}},DiuX:function(e,t){e.exports='<svg width="38" height="38" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="19" cy="19" r="18" fill="#007D2C" stroke="#fff" stroke-width="2"/><path d="M11 21.125 16.6 26 27 13" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>'},Drkl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importStar(s("ERkP")),a=n.__importDefault(s("x5Qg")),o=n.__importDefault(s("q1gl")),l=s("NFeI"),r=s("es/t"),u=s("GIU+");t.default=({accessCode:e,onAccessCodeChanged:t})=>{const[s,n]=i.useState(e),[c,d]=i.useState(!1),{containerClass:m}=(0,r.useStyles)(),p=i.useCallback((()=>{const e=(0,l.generateAccessCode)();n(e),t(e),d(!0),setTimeout((()=>d(!1)),1500)}),[t]),f=i.useCallback((()=>{e&&(0,u.writeText)(e)}),[e]);return s||p(),i.createElement("div",{className:m},i.createElement(a.default,{code:null!=s?s:"",isNew:c}),i.createElement(o.default,{onCodeCopy:f,onCodeRefresh:p}))}},ENpl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=s("rQu3"),o=n.__importDefault(s("ekqz")),l=s("Mo+z"),r=n.__importDefault(s("7O4Y"));t.default=e=>{const t=(0,l.useStyles)(),{answersInfo:s,question:n}=e;return i.default.createElement("div",{className:t.root},i.default.createElement("div",{className:(0,r.default)(t.question,"readonly-answer__main")},i.default.createElement(o.default,{id:n.id,bbml:n.questionText.rawText,isReadOnly:!0,refreshBbml:!0}),i.default.createElement(a.HotspotQuestionRead,{question:n})),s&&i.default.createElement("div",{className:"readonly-answer__info"},i.default.createElement("div",{className:t.answersInfoWrapper},s.map(((e,s)=>i.default.createElement("div",{key:s,className:t.answerInfo},e))))))}},FcfJ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},FrRx:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentsCommonContextWrapper=t.withAssessmentCommonContext=t.AssessmentCommonContext=t.DEFAULT_VALUE=void 0;const n=s("D57K").__importStar(s("ERkP"));t.DEFAULT_VALUE={panelHeightOffset:0},t.AssessmentCommonContext=n.createContext(t.DEFAULT_VALUE);t.withAssessmentCommonContext=e=>s=>n.createElement(t.AssessmentCommonContext.Consumer,null,(t=>n.createElement(e,{...s,commonContext:t})));t.AssessmentsCommonContextWrapper=({usePanelHeightOffset:e,children:s})=>{const i=e();return n.createElement(t.AssessmentCommonContext.Provider,{value:{panelHeightOffset:i}},s)}},G1uk:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K").__importDefault(s("ERkP")),i=s("FS8K"),a=s("MC1S"),o=s("caKH"),l=s("WBPx");t.default=(0,i.localizedComponentWrapper)((e=>{const{localize:t,message:s,onStay:i,onProceed:r,show:u,title:c}=e;return n.default.createElement(o.UltraModalDialog,{hidden:!u,onDismiss:i,dialogContentProps:{type:a.DialogType.normal,title:c,subText:s,showCloseButton:!0,isAlert:!0},analyticsId:"questionReuse.cancelDialog.dialog"},n.default.createElement(a.DialogFooter,null,n.default.createElement(l.AnalyticsDefaultButton,{onClick:i,analyticsId:"questionReuse.cancelDialog.cancel"},t.translate("questionReuse.cancelDialog.cancel")),n.default.createElement(l.AnalyticsPrimaryButton,{onClick:r,analyticsId:"questionReuse.cancelDialog.ok"},t.translate("questionReuse.cancelDialog.ok"))))}))},H6nh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearToggles=t.getToggles=t.getToggle=t.setToggle=void 0;const n=s("nsO7"),i=new Map;t.setToggle=function(e,t){if(!(0,n.isString)(e)||!(0,n.isBoolean)(t))throw new Error("Toggle name must be String type, toggle value must be Boolean type");i.set(e,t)},t.getToggle=function(e){return i.get(e)},t.getToggles=function(){const e={};return i.forEach(((t,s)=>{e[s]=t})),e},t.clearToggles=function(){i.clear()}},HVD2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K").__importDefault(s("ERkP")),i=s("FS8K");s("gftO");t.default=(0,i.localizedComponentWrapper)((e=>{const{title:t,titleAlert:s,points:i,localize:a}=e,o=null==i?a.translate("assessments.canvas.question.header.noPoints"):a.translate("assessments.canvas.question.header.points",{points:a.formatNumber(i,{maximumFractionDigits:2})});return n.default.createElement("div",{className:"readonly-question-header"},n.default.createElement("span",{className:"readonly-question-header__content"},n.default.createElement("span",{className:"readonly-question-header__title-container"},n.default.createElement("h3",{className:"readonly-question-header__title"},t),s&&n.default.createElement("span",{className:"readonly-question-header__title-alert"},s)),n.default.createElement("span",{className:"readonly-question-header__pill"},o)))}))},Hgjc:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolQuestionList=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=s("FS8K"),o=s("Begd"),l=n.__importDefault(s("8PZd"));s("l79G");class r extends i.Component{constructor(e){super(e),this.componentDidMount=()=>{this.observer=new IntersectionObserver((e=>{e[0].isIntersecting&&this.props.loadMoreQuestions()}),{rootMargin:"0px"}),this.observer.observe(this.observerRef.current)},this.componentWillUnmount=()=>{this.observer.disconnect()},this.isAnyQuestionDirty=()=>this.state.questionBeingEditedIsDirty,this.onQuestionEdit=e=>{this.setState((()=>({questionBeingEditedId:e,questionBeingEditedIsDirty:!1})))},this.onQuestionMadeDirty=e=>{e!==this.state.questionBeingEditedIsDirty&&(this.props.setIsAnyQuestionDirty(e),this.setState((()=>({questionBeingEditedIsDirty:e}))))},this.state={questionBeingEditedId:null,questionBeingEditedIsDirty:!1},this.observerRef=i.default.createRef()}render(){const{courseId:e,questions:t,hasSubmissions:s,deleteQuestion:n,isLoading:a,firstNewQuestionBankId:r,persistQuestion:u,hasAssessmentModifyPermissions:c,questionPoolId:d,assessmentId:m,localizationPrefix:p,supportsInlineDocumentRender:f,loadMoreQuestions:h}=this.props;return i.default.createElement("div",{className:"question-pool-question-list assessment-canvas-react"},t&&t.map((t=>i.default.createElement(l.default,{key:t.id,courseId:e,question:t,hasSubmissions:s,hasAssessmentModifyPermissions:c,deleteQuestion:()=>n(t,{courseId:e,assessmentId:m,questionBlockId:d}),focusTitle:r===t.id,onQuestionEdit:this.onQuestionEdit,onQuestionMadeDirty:this.onQuestionMadeDirty,questionBeingEditedId:this.state.questionBeingEditedId,isAnyQuestionDirty:this.isAnyQuestionDirty(),persistQuestion:u,localizationPrefix:p,supportsInlineDocumentRender:f}))),i.default.createElement("div",{className:"question-pool-ref",ref:this.observerRef}),(!t||a)&&i.default.createElement(o.Spinner,{size:o.SpinnerSize.large}))}}t.QuestionPoolQuestionList=r,t.default=(0,a.localizedComponentWrapper)(r)},Hrma:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolQuestionHeaderEditMode=void 0;const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("YSVG"));s("p3qM");const o=s("FS8K");t.QuestionPoolQuestionHeaderEditMode=e=>{const{localize:t,questionSourceName:s}=e;return i.default.createElement("div",{className:"question-pool-question-header question-pool-question-header--edit"},i.default.createElement(a.default,{...e,showPointsInfo:!1}),i.default.createElement("div",{className:"question-pool-question-header__question-source"},t.translate("questionPools.questionHeader.questionSource",{questionSourceName:s})))},t.default=(0,o.localizedComponentWrapper)(t.QuestionPoolQuestionHeaderEditMode)},Hrs3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({link:{"white-space":"nowrap"}})))},I0Cp:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeLimitOverriddenByDueDateBanner=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("zTL+"),a=s("IVC4"),o=s("FS8K"),l=s("X2eQ");t.TimeLimitOverriddenByDueDateBanner=(0,o.localizedComponentWrapper)((({localize:e})=>{const[t,s]=n.useState(!0),{bannerClass:o,iconWrapperClass:r,iconClass:u}=(0,l.useStyles)();if(!t)return null;const c=e.translate("banners.autoSubmissionAssessments.timeLimitOverriddenByDueDate.notice"),d=e.translate("banners.autoSubmissionAssessments.timeLimitOverriddenByDueDate.dismissButton");return n.createElement(i.AnalyticsBanner,{severity:"warning",icon:n.createElement(a.Attention,{className:u}),classes:{root:o,icon:r,action:r},onClose:()=>s(!1),closeText:d},n.createElement("span",{className:"js-banner-contents"},c))}))},IArP:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImportStatusBanner=t.useBannerInfo=t.getImportFilenameFromQueueTask=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=n.__importStar(s("nsO7")),o=s("MC1S"),l=s("FS8K"),r=s("zGdY");function u(e){var t;const s=null===(t=e.queueTask.queueTaskData)||void 0===t?void 0:t.packageName;if(!s)return"";const n=a.split(s,"/");return a.last(n)}function c(e){const{importStatusInfo:t,openImportDetailsPanel:s}=e,n=(0,l.useTranslate)();let i,a,c,d,m,p,f=!1;switch(t.queueTask.taskStatus){case r.QueueTaskStatus.Waiting:case r.QueueTaskStatus.Assigned:case r.QueueTaskStatus.Running:p="questionBanks.importStatus.message.inProgress",m=o.NotificationType.Processing,a="questionBanks.importStatus.moreInfo.supportedQuestions",i="questionBanks.importStatus.moreInfo.supportedQuestionsHref",c="_blank",f=!0;break;case r.QueueTaskStatus.Complete:{const{conversionInfo:e}=t,n=e&&e.messageType;if(n)switch(m=o.NotificationType.Failure,p=`questionBanks.importStatus.message.${n}`,n){case"unsupported":case"unconverted":a="questionBanks.importStatus.moreInfo.learnMore",i="questionBanks.importStatus.moreInfo.learnMoreHref",c="_blank";break;case"partial":a="questionBanks.importStatus.moreInfo.viewDetails",d=()=>null==s?void 0:s(t.queueTask.taskId)}else p="questionBanks.importStatus.message.success",m=o.NotificationType.Success;break}case r.QueueTaskStatus.CompleteErrors:case r.QueueTaskStatus.Incomplete:p="questionBanks.importStatus.message.failure",m=o.NotificationType.Failure,a="questionBanks.importStatus.moreInfo.learnMore",i="questionBanks.importStatus.moreInfo.learnMoreHref",c="_blank"}const h=n(p,{importFilename:u(t)}),g=a&&n(a),y=i&&n(i);return{statusMessage:h,type:m,...a&&{moreInfoLink:{...d&&{onClick:d},text:g,...i&&{href:y},...c&&{target:c},onDarkBg:f}}}}s("wC38"),t.getImportFilenameFromQueueTask=u,t.useBannerInfo=c;t.ImportStatusBanner=e=>{const{importStatusInfo:t,dismissImportStatusBanner:s}=e,n=c(e),a=!!n.moreInfoLink&&{onDarkBg:n.moreInfoLink.onDarkBg,...n.moreInfoLink.onClick&&{onClick:n.moreInfoLink.onClick},...n.moreInfoLink.href&&{href:n.moreInfoLink.href},...n.moreInfoLink.target&&{target:n.moreInfoLink.target}},l=!!n.moreInfoLink&&i.createElement(o.Link,{className:"import-status-banner__more-info",...a,analyticsId:"course.questionBank.panel.importStatusBanner.moreInfo.link"},n.moreInfoLink.text);return i.createElement(o.Notification,{key:`${n.statusMessage}:${n.type}`,type:n.type,message:n.statusMessage,activeElements:l,disableAutoDismiss:!0,onClose:()=>s(t.queueTask.taskId),analyticsId:"course.questionBank.panel.importStatusBanner.notification"})}},IRTu:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({container:{background:e.palette.common.white,borderBottom:`1px solid ${e.palette.border.main}`},row:{borderBottom:`1px solid ${e.palette.border.main}`,padding:"12px",maxHeight:"170px",overflowY:"auto"},fieldset:{border:"none",margin:"0px",padding:"0px"},legend:{marginBottom:"6px"},resetButton:{height:"48px",width:"100%",fontWeight:e.typography.fontWeightSemiBold,textAlign:"left",padding:"12px"},formGroup:{marginLeft:"4px"},formLabel:{marginRight:0,display:"block"}})))},IaSh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderQuestion=t.renderAssessmentSettings=t.renderAssessmentPanel=t.QuestionText=t.coordinatesDiffer=t.EditModeEnum=t.AutomatedQuestionFeedbackAttemptReview=t.AllyProvider=t.AccessCode=t.ReadonlyQuestion=void 0;const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("7nmT")),o=s("uDfI"),l=s("FS8K"),r=s("tN4z"),u=n.__importDefault(s("QeYt")),c=n.__importDefault(s("JLiP")),d=s("SEvD");Object.defineProperty(t,"ReadonlyQuestion",{enumerable:!0,get:function(){return d.ReadonlyQuestion}});const m=s("6Nff"),p=s("H6nh"),f=s("FrRx"),h=s("33wY");Object.defineProperty(t,"AllyProvider",{enumerable:!0,get:function(){return h.AllyProvider}});const g=n.__importDefault(s("Drkl"));t.AccessCode=g.default;var y=s("K9sL");Object.defineProperty(t,"AutomatedQuestionFeedbackAttemptReview",{enumerable:!0,get:function(){return y.AutomatedQuestionFeedbackAttemptReview}});var v=s("UJ5P");Object.defineProperty(t,"EditModeEnum",{enumerable:!0,get:function(){return v.EditModeEnum}});var b=s("czSG");Object.defineProperty(t,"coordinatesDiffer",{enumerable:!0,get:function(){return b.coordinatesDiffer}});var P=s("bJi+");Object.defineProperty(t,"QuestionText",{enumerable:!0,get:function(){return n.__importDefault(P).default}}),n.__exportStar(s("Pk94"),t),n.__exportStar(s("sed2"),t),n.__exportStar(s("yhMC"),t),n.__exportStar(s("0d+/"),t),n.__exportStar(s("uGkU"),t),n.__exportStar(s("MVYS"),t),n.__exportStar(s("FcfJ"),t);const _=/setLang=([^$&]+)/;function C(e,t,s,n,o,r){var u;let c=s;if(null==s&&"undefined"!=typeof window&&_.test(window.location.search)){c=(null!==(u=window.location.search.match(_))&&void 0!==u?u:[])[1]}a.default.render(i.default.createElement(l.Locale,{locale:c,babelfishInstance:n,babelfishFormatInstance:o,bundlesToLoad:["assessments/locales/[locale]/assessment-canvas.json"],isRtl:r},i.default.createElement("div",{className:"assessments-app"},e)),t)}t.renderAssessmentPanel=(e,{store:t,locale:s,babelfishInstance:n,babelfishFormatInstance:a,isRtl:l},{courseId:c,contentId:d,features:m,routes:h,setIsAnyQuestionDirty:g=(()=>{}),isOrganization:y,allyService:v,editorPluginsConfig:b={},applyAccessibilityHandling:P,revertAccessibilityHandling:_,usePanelHeightOffset:S})=>{Object.keys(m).forEach((e=>{(0,p.setToggle)(e,m[e])}));const A=y?"assessments.organization":"assessments";C(i.default.createElement(o.Provider,{store:t},i.default.createElement(r.AnalyticsJssThemeProvider,{theme:"light",isRtl:l},i.default.createElement(f.AssessmentsCommonContextWrapper,{usePanelHeightOffset:S},i.default.createElement(u.default,{babelfishInstance:n,contentId:d,courseId:c,features:m,routes:h,editorPluginsConfig:b,setIsAnyQuestionDirty:g,applyAccessibilityHandling:P,revertAccessibilityHandling:_,localizationPrefix:A,allyService:v})))),e,s,n,a,l)};t.renderAssessmentSettings=(e,{store:t,locale:s,babelfishInstance:n,babelfishFormatInstance:a,isRtl:l},{courseId:u,contentId:d,routes:m,isOrganization:p})=>{const f=p?"assessments.organization":"assessments";C(i.default.createElement(o.Provider,{store:t},i.default.createElement(r.AnalyticsJssThemeProvider,{theme:"light",isRtl:l},i.default.createElement(c.default,{courseId:u,contentId:d,routes:m,localizationPrefix:f}))),e,s,n,a,l)};t.renderQuestion=(e,t,s,n,u,c,d,p,f)=>{const h=p?"assessments.organization":"assessments";a.default.render(i.default.createElement(o.Provider,{store:t},i.default.createElement(l.Locale,{locale:s,babelfishInstance:n,babelfishFormatInstance:u,isRtl:c},i.default.createElement(r.AnalyticsJssThemeProvider,{theme:"light",isRtl:c},i.default.createElement(m.AssessmentQuestion,{...d,localizationPrefix:h})))),e,f||null)};const S={renderAssessmentPanel:t.renderAssessmentPanel,renderAssessmentSettings:t.renderAssessmentSettings,renderQuestion:t.renderQuestion,destroyReactControl:e=>{a.default.unmountComponentAtNode(e)}};t.default=S},IgIY:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedPeerReviewPeriodOpenBanner=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("zTL+"),a=s("ECG1"),o=s("FS8K");t.LocalizedPeerReviewPeriodOpenBanner=(0,o.localizedComponentWrapper)((({peerReviewDueDate:e,localize:t})=>{const s=t.translate("banners.peerAssessments.peerReviewPeriodOpen.notice",{peerReviewDueDate:e}),o=n.createElement(a.Information,null);return n.createElement(i.AnalyticsBanner,{severity:"info",icon:o},n.createElement("span",{className:"js-banner-contents"},s))}))},J5Zj:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("6zd3")),o=s("zGdY");s("5v5j");const l=e=>{const{isRandomizationOfQuestionsRequired:t,isRandomizationOfAnswersRequired:s}=e.settings,n=`${e.localizationPrefix}.canvas.subheader.isAnswersRandomized`,a=`${e.localizationPrefix}.canvas.subheader.isQuestionsRandomized`,l=`${e.localizationPrefix}.canvas.subheader.isBothRandomized`;return t&&s===o.RandomizeAnswers.Always?i.default.createElement(r,{messageKey:l,localize:e.localize}):t?i.default.createElement(r,{messageKey:a,localize:e.localize}):s===o.RandomizeAnswers.Always?i.default.createElement(r,{messageKey:n,localize:e.localize}):null},r=e=>{const{messageKey:t}=e;return i.default.createElement("div",null,i.default.createElement("div",{className:"assessment-subheader"},i.default.createElement(a.default,{text:e.localize.translate(t)})))};t.default=e=>{const{content:t}=e,{deploymentSettings:s}=t;return i.default.createElement(l,{settings:s,localize:e.localize,localizationPrefix:e.localizationPrefix})}},JLiP:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentSettingsPure=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=s("zGdY"),o=s("IbyE"),l=s("uDfI"),r=s("9OUN"),u=s("MC1S"),c=s("8jBL"),d=s("0x+l"),m=s("myse"),p=s("FS8K"),f=n.__importDefault(s("7x0g")),h=s("NdLt"),g=s("np6O");s("0pYo");class y extends i.Component{constructor(e){super(e),this.loadedColumnSummary=!1,this.loadedGradebookColumn=!1,this.loadedContent=!1,this.assessmentHasResponses=()=>{const{assessment:e}=this.props;return e&&e.hasResponses},this.contentHasMultipleAttempts=()=>{const{content:e}=this.props;return e&&e.deploymentSettings&&1!==e.deploymentSettings.attemptCount},this.contentHasTimeLimit=()=>{const{content:e}=this.props;return e&&e.deploymentSettings&&null!=e.deploymentSettings.timeLimit},this.contentHasGroups=()=>{const{content:e}=this.props;return e&&e.isGroupContent},this.columnHasPostedGrades=()=>{const{columnSummary:e}=this.props;return e&&(e.numGroupsPosted||e.numPosted)},this.canEditSettings=()=>{const{assessment:e}=this.props;return e&&e.permissions.modify&&e.permissions.deploy},this.canEditDueDate=()=>{const{assessment:e}=this.props;if(!e)return!1;const t=e.permissions;return t.modify&&t.deploy&&t.modifyDueDate},this.canOpenGroups=()=>this.canEditSettings()&&!this.contentHasMultipleAttempts()&&!this.contentHasTimeLimit(),this.persist=()=>{const{content:e,gradebookColumn:t,persistContent:s,persistGradebookColumn:n}=this.props,i={...e},a={...t};null!==this.state.allowConversations&&(this.state.allowConversations?i.forumAttacherAction=o.ForumAttacherAction.ADD.toString():(i.forumAttacherAction=o.ForumAttacherAction.DELETE.toString(),i.attachedForumLink=null));const l=null!==this.state.randomizeQuestions,r=null!==this.state.randomizeAnswers;return(l||r)&&(i.deploymentSettings={...e.deploymentSettings},l&&(i.deploymentSettings.isRandomizationOfQuestionsRequired=this.state.randomizeQuestions),r&&(i.deploymentSettings.isRandomizationOfAnswersRequired=this.state.randomizeAnswers)),null!==this.state.dueDate&&(a.dueDate=this.state.dueDate),null!==this.state.anonymousGrading&&(a.anonymousGrading=this.state.anonymousGrading),s(e,i).then((()=>{n(t,a).then((()=>{this.setState({allowConversations:null,randomizeQuestions:null,randomizeAnswers:null,dueDate:null,anonymousGrading:null})}))}))},this.onAllowConversationToggle=(e,t)=>{this.setState({allowConversations:t})},this.onRandomizeQuestionsToggle=(e,t)=>{this.setState({randomizeQuestions:t})},this.onRandomizeAnswersToggle=(e,t)=>{this.setState({randomizeAnswers:t?"ALWAYS":"NEVER"})},this.onAnonymousGradingToggle=(e,t)=>{this.setState({anonymousGrading:t})},this.onDueDateChange=e=>{this.setState((()=>({dueDate:e})))},this.onGroupsDelete=()=>{this.setState((()=>({showDeleteGroupsDialog:!0})))},this.onGroupsDeleteCancel=()=>{this.setState((()=>({showDeleteGroupsDialog:!1})))},this.onGroupsDeleteConfirm=()=>{const{content:e,deleteGroups:t}=this.props;t(e.id),this.setState((()=>({showDeleteGroupsDialog:!1})))},this.getGroupsSubTitle=()=>{const{content:e,localizationPrefix:t}=this.props,s=this.props.localize.translate;let n="";if(this.canEditSettings())if(this.contentHasMultipleAttempts()||this.contentHasTimeLimit())this.contentHasMultipleAttempts()&&this.contentHasTimeLimit()?n=s(`${t}.settings.groups.subtitle.restrictions.attemptsAndTimeLimit`):this.contentHasTimeLimit()?n=s(`${t}.settings.groups.subtitle.restrictions.timeLimit`):this.contentHasMultipleAttempts()&&(n=s(`${t}.settings.groups.subtitle.restrictions.attempts`));else if(this.contentHasGroups())n=s(`${t}.settings.groups.subtitle.numberOfGroups.plural`,{count:e.assignedGroups.length});else{if(!this.assessmentHasResponses()&&!this.columnHasPostedGrades())return null;{const e=this.props.gradebookColumn.gradebookCategory,i=e.isUserDefined?"custom":e.title;this.columnHasPostedGrades()?n=s(`${t}.settings.groups.subtitle.restrictions.studentAttempts.${i}`,{title:i}):this.assessmentHasResponses()&&(n=s(`${t}.settings.groups.subtitle.restrictions.postedGrades.${i}`,{title:i}))}}else n=s(`${t}.settings.groups.subtitle.restrictions.insufficientPrivileges`);return i.default.createElement("div",null,n)},this.state={allowConversations:null,anonymousGrading:null,randomizeQuestions:null,randomizeAnswers:null,dueDate:null,showDeleteGroupsDialog:!1}}componentDidUpdate(e){const{gradebookColumn:t,content:s,courseId:n,contentId:i,loadColumnSummary:a,loadContents:o,loadGradebookColumn:l}=this.props;t||this.loadedGradebookColumn||!s||(l({courseId:n,columnId:s.gradingColumn.id}),this.loadedGradebookColumn=!0),this.loadedColumnSummary||e.gradebookColumn||!t||(a({courseId:t.courseId,columnId:t.id}),this.loadedColumnSummary=!0),s||this.loadedContent||(o({courseId:n,contentId:i}),this.loadedContent=!0)}render(){const{content:e,gradebookColumn:t,localizationPrefix:s,analyticsEventAugmentor:n}=this.props,{showDeleteGroupsDialog:o}=this.state,l=this.props.localize.translate,r="assessmentSettings.settings.groups.title.link",p=n(m.AnalyticsEventTypes.CLICK_EVENT,(()=>{}),r);return i.default.createElement("div",{className:"assessment-settings"},e&&t&&i.default.createElement("div",null,i.default.createElement(u.TextField,{className:"dueDate",label:l(`${s}.settings.dueDate`),defaultValue:t.dueDate,disabled:!this.canEditDueDate(),onChanged:this.onDueDateChange,analyticsId:"assessmentSettings.editDueDate"}),i.default.createElement(u.Checkbox,{label:l(`${s}.settings.allowClassConversations`),defaultChecked:!!e.attachedForumLink,disabled:!this.canEditSettings(),onChange:this.onAllowConversationToggle,analyticsId:"assessmentSettings.allowClassConversation"}),i.default.createElement(u.Checkbox,{label:l(`${s}.settings.randomizeQuestions`),defaultChecked:e.deploymentSettings.isRandomizationOfQuestionsRequired,disabled:!this.canEditSettings(),onChange:this.onRandomizeQuestionsToggle,analyticsId:"assessmentSettings.randomizeQuestions"}),i.default.createElement(u.Checkbox,{label:l(`${s}.settings.randomizeAnswers`),defaultChecked:e.deploymentSettings.isRandomizationOfAnswersRequired===a.RandomizeAnswers.Always,disabled:!this.canEditSettings(),onChange:this.onRandomizeAnswersToggle,analyticsId:"assessmentSettings.randomizeAnswers"}),i.default.createElement("h3",{className:"assessment-settings__subheader"},l(`${s}.settings.anonymousGrading`)),i.default.createElement(u.Checkbox,{label:l(`${s}.settings.hideStudentNames`),defaultChecked:t.anonymousGrading,onChange:this.onAnonymousGradingToggle,analyticsId:"assessmentSettings.hideStudentNames"}),i.default.createElement(h.AnalyticsPrimaryButton,{className:"submitButton",onClick:this.persist,analyticsId:"assessmentSettings.submit"},l(`${s}.settings.submitButton`))),i.default.createElement("div",null,this.canOpenGroups()?i.default.createElement("a",{"data-analytics-id":r,href:this.props.routes.getGroupsHref(),onClick:p},i.default.createElement(c.Groups,null),i.default.createElement("div",null,l(`${s}.settings.groups.title`)),this.getGroupsSubTitle()):i.default.createElement("div",null,i.default.createElement(c.Groups,null),i.default.createElement("div",null,l(`${s}.settings.groups.title`)),this.getGroupsSubTitle()),this.contentHasGroups()&&this.canEditSettings()?i.default.createElement(g.AnalyticsIconButton,{className:"delete-groups",onClick:this.onGroupsDelete,disabled:this.assessmentHasResponses()||this.columnHasPostedGrades(),"aria-label":l(`${s}.settings.groups.delete.label`),analyticsId:"assessmentSettings.groups.delete"},i.default.createElement(d.Trash,null)):null),i.default.createElement(f.default,{hidden:!o,onCancel:this.onGroupsDeleteCancel,onContinue:this.onGroupsDeleteConfirm,titleKey:`${s}.settings.groups.delete.dialog.title`,textKey:`${s}.settings.groups.delete.dialog.text`,cancelKey:"assessments.global.cancel",continueKey:"assessments.global.yes",analyticsId:"assessment.settings.groups.delete.dialog"}))}}t.AssessmentSettingsPure=y;const v=(0,l.connect)(((e,t)=>({assessment:o.select.assessment.getAssessmentByContentId(e,t.contentId),columnSummary:o.select.columnSummary.getColumnSummaryByColumnId(e,t.gradebookColumn&&t.gradebookColumn.id),content:o.select.content.getContentById(e,t.contentId),gradebookColumn:o.select.gradebookColumn.getGradebookColumnByContentId(e,t.contentId)})),(e=>(0,r.bindActionCreators)({loadColumnSummary:o.actions.columnSummary.loadColumnSummary,deleteGroups:o.actions.group.deleteByContentId,loadGradebookColumn:o.actions.gradebookColumn.loadGradebookColumn,loadContents:o.actions.content.loadContents,persistGradebookColumn:o.actions.gradebookColumn.persistGradebookColumn,persistContent:o.actions.content.persistContent},e)))((0,p.localizedComponentWrapper)(y));t.default=(0,m.withAnalytics)(v)},KfeN:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({canvasDiv:{backgroundColor:e.palette.background.b6,paddingLeft:"20px",paddingRight:"20px",border:`1px solid ${e.palette.border.main}`,position:"relative","&.no-outline:focus":{outline:"none"}},spinner:{top:"50%",left:"50%",position:"absolute",marginLeft:"-19px",marginTop:"-19px"},hotspotKeyboardControlsWrapper:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",[e.breakpoints.up("sm")]:{justifyContent:"flex-end"}},tallImageInfoBanner:{border:`1px solid ${e.palette.border.main}`,borderBottom:"none"}})))},LReu:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("ekqz")),o=s("K9sL");s("wU0Y");const l=s("FS8K");t.default=(0,l.localizedComponentWrapper)((e=>{const{answersInfo:t,answersInfoLabel:s,localize:n,question:l,questionTextClassName:r}=e,u="assessments.canvas.question.trueFalse";return i.default.createElement("div",{className:"readonly-true-false-question"},i.default.createElement("div",{className:r},i.default.createElement(a.default,{id:l.id,bbml:l.questionText.rawText,isReadOnly:!0,refreshBbml:!0})),i.default.createElement("div",{className:"readonly-answer__container"},t&&i.default.createElement("span",{className:"readonly-answer__info-label readonly-answer__info"},s)),i.default.createElement("ol",{className:"readonly-true-false-question__list"},i.default.createElement("li",{className:"readonly-true-false-question__li readonly-answer__container"},i.default.createElement("div",{className:"readonly-true-false-question__answers readonly-answer__main"},i.default.createElement("span",{className:"readonly-true-false-question__text"},n.translate(`${u}.${l.answerType}.true`)),l.answer&&i.default.createElement("span",{className:"readonly-true-false-question__correct"},n.translate(`${u}.correctAnswer`))),t&&i.default.createElement("div",{className:"readonly-true-false-question__answers-info readonly-answer__info"},t[0])),i.default.createElement("li",{className:"readonly-true-false-question__li readonly-answer__container"},i.default.createElement("div",{className:"readonly-true-false-question__answers readonly-answer__main"},i.default.createElement("span",{className:"readonly-true-false-question__text"},n.translate(`${u}.${l.answerType}.false`)),!l.answer&&i.default.createElement("span",{className:"readonly-true-false-question__correct"},n.translate(`${u}.correctAnswer`))),t&&i.default.createElement("div",{className:"readonly-true-false-question__answers-info readonly-answer__info"},t[1]))),i.default.createElement(o.AutomatedQuestionFeedbackRead,{question:l}))}))},LcgC:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedAssessmentQuestionCounts=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("FS8K"),a=s("xt1P");t.LocalizedAssessmentQuestionCounts=(0,i.localizedComponentWrapper)((({descriptionId:e,answerableQuestionCount:t,unansweredQuestionCount:s,localize:{translate:i}})=>{const{textClass:o}=(0,a.useStyles)(),[l,r]=n.useState("");return n.useEffect((()=>{const e=i("assessmentProgress.questionCounts.unansweredText",{unanswered:s}),a=i("assessmentProgress.questionCounts.fullText",{total:t,unanswered:n.createElement("strong",{key:"unanswered"},e)});r(a)}),[t,s,i]),n.createElement("span",{id:e,className:o,role:"status","aria-live":"polite"},l)}))},Lf2R:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnwrappedQuestionPickerResultsList=void 0;const n=s("D57K"),i=s("MC1S"),a=s("WOfr"),o=s("RrOo"),l=n.__importStar(s("nsO7")),r=n.__importStar(s("ERkP")),u=s("FS8K"),c=n.__importDefault(s("boQS"));s("XK9s");class d extends r.PureComponent{constructor(){super(...arguments),this.mainHeading=null,this.focusFirstSourceHeading=()=>{this.mainHeading&&this.mainHeading.focus()},this.isQuestionSelected=e=>{const{isSelectAllQuestions:t,deselectedQuestions:s,selectedQuestions:n}=this.props,i=l.isUndefined(s[e]),a=!l.isUndefined(n[e]);return t&&i||a},this.renderSelectDeselectAll=()=>{const{hideSelectDeselectAll:e,localize:t,onClearAllQuestionSelection:s,onSelectAllQuestions:n}=this.props;return e?null:r.default.createElement("div",{className:"question-picker-results-list__select-deselect-all"},r.default.createElement(i.Link,{className:"js-select-all-questions",onClick:n,analyticsId:"questionPicker.questionList.selectAll.link"},t.translate("questionPicker.questionList.selectAll")),r.default.createElement("span",null," | "),r.default.createElement(i.Link,{className:"js-deselect-all-questions",onClick:s,analyticsId:"questionPicker.questionList.clearAll.link"},t.translate("questionPicker.questionList.clearAll")))},this.renderQuestions=()=>{const{courseId:e,items:t,onItemSelect:s,questionToFocus:n,sources:i,localizationPrefix:u}=this.props,d=l.mapKeys(i,(e=>e.id)),m=l.groupBy(t,"assessmentId");return Object.entries(m).map((([t,i],l)=>{const m=d[t],p=m?m.title:"",f=m&&"Pool"===m.type?a.QuestionBank:o.Test,h=`heading_${t}`;return r.default.createElement("div",{key:t,className:"js-source-question-grouping question-group-selector"},r.default.createElement("div",{className:"question-picker-results-list__heading-group"},r.default.createElement(f,{className:"question-picker-results-list__heading-icon",color:"primary"}),r.default.createElement("h2",{id:h,className:"question-picker-results-list__heading-text js-question-group-heading",ref:e=>{0===l&&(this.mainHeading=e)}},p)),i.map((i=>{const a=this.isQuestionSelected(i.id);return r.default.createElement("div",{key:i.id},r.default.createElement(c.default,{courseId:e,assessmentId:t,onSelectQuestion:s,question:i,focused:n===i.id,selected:a,sourceHeaderId:h,localizationPrefix:u}))})))}))}}componentDidUpdate(e){e.isShowingFilterPanel&&!this.props.isShowingFilterPanel&&this.focusFirstSourceHeading()}render(){const{isLoadingMore:e}=this.props;return r.default.createElement("div",{className:"question-picker-results-list"},this.renderSelectDeselectAll(),this.renderQuestions(),e&&r.default.createElement(i.Spinner,{className:"question-picker-results-list__spinner",size:i.SpinnerSize.large}))}}d.defaultProps={hideSelectDeselectAll:!1,isShowingFilterPanel:!0},t.UnwrappedQuestionPickerResultsList=d,t.default=(0,u.localizedComponentWrapper)(d)},M7C9:function(e,t,s){"use strict";s.r(t)},MKHq:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((()=>(0,n.createStyles)({assessmentCanvasControls:{display:"flex",textAlign:"center"},assessmentCanvasControlsActions:{display:"flex",flexDirection:"column",alignItems:"center"},combineButtonIcon:{transform:"rotate(45deg)",flip:!1}})))},MVYS:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HotspotCanvasAttemptReview=t.HotspotCanvasAttempt=t.HotspotAnswerOptionsRead=t.PageBreakQuestion=t.QuestionBlockQuestion=t.FimbQuestion=t.TrueFalseQuestion=t.MultipleAnswerQuestion=t.EssayQuestion=void 0;var i=s("mZt7");Object.defineProperty(t,"EssayQuestion",{enumerable:!0,get:function(){return n(i).default}});var a=s("KLhW");Object.defineProperty(t,"MultipleAnswerQuestion",{enumerable:!0,get:function(){return a.MultipleAnswerQuestion}});var o=s("0Ljr");Object.defineProperty(t,"TrueFalseQuestion",{enumerable:!0,get:function(){return n(o).default}});var l=s("hLhy");Object.defineProperty(t,"FimbQuestion",{enumerable:!0,get:function(){return n(l).default}});var r=s("YuUd");Object.defineProperty(t,"QuestionBlockQuestion",{enumerable:!0,get:function(){return r.QuestionBlockQuestion}});var u=s("I4tD");Object.defineProperty(t,"PageBreakQuestion",{enumerable:!0,get:function(){return n(u).default}});var c=s("JAGG");Object.defineProperty(t,"HotspotAnswerOptionsRead",{enumerable:!0,get:function(){return c.HotspotAnswerOptionsRead}});var d=s("NUMZ");Object.defineProperty(t,"HotspotCanvasAttempt",{enumerable:!0,get:function(){return d.HotspotCanvasAttempt}});var m=s("3pwD");Object.defineProperty(t,"HotspotCanvasAttemptReview",{enumerable:!0,get:function(){return m.HotspotCanvasAttemptReview}})},"Mo+z":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({root:{display:"flex",flexDirection:"column",[e.breakpoints.up("md")]:{flexDirection:"row"}},question:{"& .automated-question-feedback-read":{[e.breakpoints.up("md")]:{width:"100%"}}},answersInfoWrapper:{marginTop:"10px",[e.breakpoints.up("md")]:{marginTop:"0px"}},answerInfo:{marginBottom:"21px"}})))},NFW6:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>({containerClass:{display:"flex",alignItems:"center",color:"green"},firstButtonClass:{borderRight:`1px solid ${e.palette.secondary.light}`}})))},NFeI:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAccessCode=t.generateRandomNumbers=void 0;t.generateRandomNumbers=e=>window.crypto.getRandomValues(new Uint8Array(e));t.generateAccessCode=()=>(0,t.generateRandomNumbers)(6).map((e=>e%10)).join("")},NMPQ:function(e,t,s){"use strict";s.r(t)},NNN4:function(e,t,s){"use strict";s.r(t)},NUMZ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HotspotCanvasAttempt=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=s("FS8K"),o=s("eqO1"),l=s("zTL+"),r=s("tN4z"),u=s("0x+l"),c=s("Rco2"),d=s("KfeN"),m=s("/VhE"),p=s("j7BF"),f=n.__importDefault(s("wcS1")),h=n.__importDefault(s("PxJx")),g=s("3le2"),y=s("+1G9"),v=s("nsO7"),b=s("mLY0"),P=s("B/aE"),_=s("YUDX"),C=n.__importDefault(s("7O4Y")),S=["components.directives.assessment-question.hotspot.student-attempt-keyboard-info.content.tab","components.directives.assessment-question.hotspot.student-attempt-keyboard-info.content.move","components.directives.assessment-question.hotspot.student-attempt-keyboard-info.content.precision","components.directives.assessment-question.hotspot.student-attempt-keyboard-info.content.delete"];t.HotspotCanvasAttempt=e=>{const{question:t,givenAnswers:s,onAnswerChange:n}=e,A=(0,a.useTranslate)(),Q=(0,o.useTheme)(),[E,w]=(0,i.useState)(null),k=(0,d.useStyles)(Q),[I,D]=(0,i.useState)(!1),[q,T]=(0,i.useState)(!1),O=(0,i.useCallback)((()=>{D(!0)}),[]),N=(0,i.useCallback)((e=>{const t=e.map((e=>({coordinates:e.coordinates})));(0,g.shouldFocusCanvasWrapper)({canvasWrapper:E,answers:s,coordinates:e})&&(null==E||E.focus()),n(t)}),[n,s,E]),x=(0,i.useMemo)((()=>(0,m.getCanvasBackgroundOptionsFromQuestion)(t,Q)),[t,Q]),{onReady:M,hasActiveHotspotObjSelection:B,onResizeCanvas:F,canvasEditor:R}=(0,p.useHotspotCanvasAttemptEditor)(x,O,N),L=(0,i.useCallback)((({coordinates:e,position:t})=>{(null==R?void 0:R.addExistingHotspotPin)&&R.addExistingHotspotPin(e,t)}),[null==R?void 0:R.addExistingHotspotPin]);(0,y.useDrawExistingHotspots)({answers:t.answers||[],shouldDrawHotspots:Boolean(R)&&I&&t.displayShapesToStudents,addHotspot:(null==R?void 0:R.addReadonlyHotspot.bind(R))||v.noop}),(0,b.useDrawExistingPins)({addPin:L,givenAnswers:s||[],shouldDrawPins:Boolean(R)&&I});const{handleCanvasFocus:z,handleCanvasKeydown:j}=(0,P.useHotspotKeyboardHandling)({getArrowKeyChanges:_.getHotspotPinPositionChange,modifyHotspotObject:(null==R?void 0:R.modifyPin.bind(R))||v.noop,activateLastHotspotObject:(null==R?void 0:R.activateLastHotspotObject.bind(R))||v.noop,activateNextHotspotObject:(null==R?void 0:R.activateNextHotspotObject.bind(R))||v.noop,activateFirstHotspotObject:(null==R?void 0:R.activateFirstHotspotObject.bind(R))||v.noop,deleteSelectedHotspotObjects:(null==R?void 0:R.deleteSelectedHotspotPins.bind(R))||v.noop});return(0,i.useEffect)((()=>{const e=new ResizeObserver((e=>{var t,s;T((null===(s=null===(t=e[0])||void 0===t?void 0:t.contentRect)||void 0===s?void 0:s.height)>g.HOTSPOT_IMAGE_TALL_HEIGHT)}));return E&&e.observe(E),()=>e.disconnect()}),[E]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:k.hotspotKeyboardControlsWrapper},i.default.createElement(h.default,{infoLocaleKeys:S,analyticsIdPrefix:"assessments.canvas.question.hotspot.attempt"})),R&&I&&i.default.createElement(f.default,{canvasEditor:R,hasActiveHotspotSelection:B}),q&&i.default.createElement(l.AnalyticsBanner,{severity:"info",icon:i.default.createElement(u.Information,null),classes:{root:k.tallImageInfoBanner}},A("components.directives.assessment-question.hotspot.tall-image-info-banner.content")),i.default.createElement("div",{ref:e=>w(e),className:(0,C.default)(k.canvasDiv,"no-outline"),tabIndex:(null==s?void 0:s.length)>0?0:-1,onKeyDown:j,onFocus:z,"data-testid":"canvas-wrapper"},i.default.createElement(c.FabricJSCanvas,{onResizeCanvas:F,onReady:M}),!I&&i.default.createElement("div",{className:k.spinner},i.default.createElement(r.AnalyticsCircularProgress,{ariaLabel:A("global.loading"),size:"medium"}))))}},NhMM:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OneAtATimeQuestionAttemptView=void 0;const n=s("kEh4"),i=s("IbyE"),a=s("zGdY");class o extends n.BaseQuestionAttemptView{initializeQuestionAttempts(e){this.numberOfManualPageBreaks=e.filter(i.Questions.isPageBreak).length;const t=this.numberOfManualPageBreaks>0,s=e.length-this.numberOfManualPageBreaks;this.answerableQuestionCount=0;let n=[],o=0;this.questionAttempts=e.reduce(((s,i,l)=>{const r=i.questionType===a.QuestionType.PageBreak,u=l===e.length-1;if(this.answerableQuestionCount+=this.isAnswerable(i)?1:0,!r){const e=this.augmentCurrentQuestionAttempt(i,o,this.questionAttemptPages.length);o+=1,n.push(e),s.push(e)}return(!t||r||u)&&(n.length>0&&this.questionAttemptPages.push(n),n=[]),s}),[]),this.currentPageCount=1,this.totalPageCount=this.questionAttemptPages.length>0?this.questionAttemptPages.length:1,this.initializeQuestionTypes();const l=s>1;this.nextPageIndex=l?1:null,this.lastPageIndex=l?this.questionAttemptPages.length-1:null,this.questionsMatchingFilterCount=this.answerableQuestionCount,this.calculateUnansweredQuestionCount(),this.setCurrentVisibleQuestionAttemptsPage(),this.calculateNavigationState()}calculateNavigationState(){1!==this.questionAttemptPages.length&&(this.canNavigateBackward=null!=this.firstPageIndex||null!=this.previousPageIndex,this.canNavigateForward=null!=this.nextPageIndex||null!=this.lastPageIndex)}navigateFirst(){null!==this.firstPageIndex&&(this.currentPageHasUnsavedAnswers()?this.queuedNavigation=n.NavigationOptions.First:(this.currentPageIndex=this.firstPageIndex,this.navigate()))}navigatePrevious(){null!==this.previousPageIndex&&(this.currentPageHasUnsavedAnswers()?this.queuedNavigation=n.NavigationOptions.Previous:(this.currentPageIndex=this.previousPageIndex,this.navigate()))}navigateNext(){null!==this.nextPageIndex&&(this.currentPageHasUnsavedAnswers()?this.queuedNavigation=n.NavigationOptions.Next:(this.currentPageIndex=this.nextPageIndex,this.navigate()))}navigateLast(){null!==this.lastPageIndex&&(this.currentPageHasUnsavedAnswers()?this.queuedNavigation=n.NavigationOptions.Last:(this.currentPageIndex=this.lastPageIndex,this.navigate()))}isPageable(){return!0}isLastPage(){return null===this.lastPageIndex}navigate(){this.firstQuestionOnCurrentPageIndex=this.questionAttemptPages[this.currentPageIndex][0].questionIndex,this.currentPageCount=this.currentPageIndex+1,this.setCurrentVisibleQuestionAttemptsPage(),this.questionStatusesById={},this.calculateNewPageIndexesAfterNavigating(),this.onNavigationOrFilterChanged()}}t.OneAtATimeQuestionAttemptView=o},Nidp:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedAssessmentControlsContainer=t.NavigationDirection=t.filterFeatureFlag=void 0;const n=s("D57K").__importDefault(s("ERkP")),i=s("FS8K"),a=s("kKUj"),o=s("DNn3"),l=s("ks7T"),r=s("TFdY"),u=s("5HEc"),c=s("UUbQ"),d=s("7NIW"),m=s("WJlv"),p=s("kEh4"),f=s("GuFu");var h;t.filterFeatureFlag="feature.course.content.assessment.question.filter",function(e){e[e.Backward=0]="Backward",e[e.Forward=1]="Forward"}(h=t.NavigationDirection||(t.NavigationDirection={}));t.LocalizedAssessmentControlsContainer=(0,i.localizedComponentWrapper)((({showNavigation:e,showFilter:s,filter:i,isBacktrackingProhibited:g,canNavigateForward:y,canNavigateBackward:v,onFilterAvailable:b,questionsMatchingFilterCount:P,questionTypes:_,onFilterChanged:C,onNavigationChanged:S,localize:A})=>{const Q=(0,m.useStyles)(),E=A.translate("assessmentControls.first"),w=A.translate("assessmentControls.previous"),k=A.translate("assessmentControls.next"),I=A.translate("assessmentControls.last"),D=A.translate("assessmentControls.firstQuestion"),q=A.translate("assessmentControls.previousQuestion"),T=A.translate("assessmentControls.nextQuestion"),O=A.translate("assessmentControls.lastQuestion"),N=A.translate("assessmentControls.noBacktracking"),x=n.default.useCallback((e=>{S(e)}),[S]),M={navigate:h.Backward,onClick:x,disabled:!v},B={navigate:h.Forward,onClick:x,disabled:!y},F=[{id:p.NavigationOptions.First,label:E,ariaLabel:D,icon:n.default.createElement(r.PaginatorFirst,{"aria-hidden":!0}),...M},{id:p.NavigationOptions.Previous,label:w,ariaLabel:q,icon:n.default.createElement(l.ChevronLeft,{"aria-hidden":!0}),...M},{id:p.NavigationOptions.Next,label:k,ariaLabel:T,icon:n.default.createElement(u.ChevronRight,{"aria-hidden":!0}),...B},{id:p.NavigationOptions.Last,label:I,ariaLabel:O,icon:n.default.createElement(c.PaginatorLast,{"aria-hidden":!0}),...B}],R=(0,f.useFeatureFlag)(t.filterFeatureFlag);return n.default.createElement("div",{className:Q.controlsContainer},g?n.default.createElement("div",{className:Q.messageSection},n.default.createElement(d.Attention,{className:Q.attentionIcon,"aria-hidden":!0,"data-testid":"attempt-footer-prevent-backtracking-icon"}),n.default.createElement("span",{className:Q.noBacktrackingMessage,"data-testid":"attempt-footer-prevent-backtracking-message"},N)):n.default.createElement(n.default.Fragment,null,s&&R&&n.default.createElement("span",{className:Q.filterControlsContainer},n.default.createElement(o.AssessmentFilterDropdown,{questionsMatchingFilterCount:P,questionTypes:_,filter:i,onFilterAvailable:b,onFilterChanged:C,renderFullWidth:!e})),e&&n.default.createElement("span",{className:Q.navigationControlsContainer},F.map((e=>n.default.createElement(a.AssessmentNavButton,{key:e.id,id:e.id,label:e.label,ariaLabel:e.ariaLabel,icon:e.icon,navigate:e.navigate,onClick:e.onClick,disabled:e.disabled}))))))}))},OFfX:function(e,t,s){"use strict";s.r(t)},PQ0p:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedPeerReviewHasBeenDeletedBanner=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("zTL+"),a=s("IVC4"),o=s("sEjo"),l=s("FS8K"),r=s("X2eQ");t.LocalizedPeerReviewHasBeenDeletedBanner=(0,l.localizedComponentWrapper)((({assignAndNavigateToPeerReview:e,dismissBanner:t,hasEnoughSubmissionsForPeerAssessment:s,canRetrieveNewPeerReview:l,localize:u})=>{const c=u.translate("banners.peerAssessments.peerReviewHasBeenDeleted.startNewReviewButton"),d=u.translate("banners.peerAssessments.peerReviewHasBeenDeleted.dismissButton"),m=u.translate("banners.peerAssessments.peerReviewHasBeenDeleted.notice"),p=u.translate("banners.peerAssessments.peerReviewHasBeenDeleted.notEnoughSubmissionsNotice"),f=s?m:p,{bannerClass:h,iconWrapperClass:g,iconClass:y,actionClass:v,buttonClass:b}=(0,r.useStyles)(),P=[n.createElement(o.AnalyticsOutlineButton,{analyticsId:"course.assessments.assessment-overview.peerReview.peerReviewDeletedBanner.dismissButton",key:"dismiss",onClick:t,className:b},d)];return l&&P.push(n.createElement(o.AnalyticsOutlineButton,{analyticsId:"course.assessments.assessment-overview.peerReview.peerReviewDeletedBanner.startNewReviewButton",key:"startNewReviewButton",onClick:e,className:b},c)),n.createElement(i.AnalyticsBanner,{severity:"warning",actions:P,icon:n.createElement(a.Attention,{className:y}),classes:{root:h,icon:g,action:v}},n.createElement("span",{className:"js-banner-contents"},f))}))},PSgW:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("ekqz")),o=s("K9sL");s("gJBC");const l=s("FS8K");t.default=(0,l.localizedComponentWrapper)((e=>{const{answersInfo:t,answersInfoLabel:s,localize:n,question:l,questionTextClassName:r}=e,u="assessments.canvas.question.multipleAnswer";return i.default.createElement("div",{className:"readonly-multiple-answer-question"},i.default.createElement("div",{className:r},i.default.createElement(a.default,{id:l.id,bbml:l.questionText.rawText,isReadOnly:!0,refreshBbml:!0})),i.default.createElement("div",{className:"readonly-answer__container"},i.default.createElement("div",{className:"readonly-multiple-answer-question__instructions readonly-answer__main readonly-answer__instructions"},n.translate(`${u}.answerInstructions`)),t&&i.default.createElement("span",{className:"readonly-answer__info-label readonly-answer__info"},s)),i.default.createElement("ol",{className:"readonly-multiple-answer-question__list"},l.answers.map(((e,s)=>i.default.createElement("li",{key:e.id,className:"readonly-multiple-answer-question__li readonly-answer__container"},i.default.createElement("div",{className:"readonly-multiple-answer-question__answer readonly-answer__main"},i.default.createElement("span",{className:"readonly-multiple-answer-question__text"},i.default.createElement(a.default,{bbml:e.answerText.rawText,id:e.id,isReadOnly:!0})),e.correctAnswer&&i.default.createElement("span",{className:"readonly-multiple-answer-question__correct"},n.translate(`${u}.correctAnswer`))),t&&i.default.createElement("div",{className:"readonly-multiple-answer-question__answers-info readonly-answer__info"},t[s]))))),i.default.createElement(o.AutomatedQuestionFeedbackRead,{question:l}))}))},Pk94:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeLimitOverriddenByDueDateBanner=t.LocalizedPeerReviewHasBeenDeletedBanner=t.LocalizedPeerReviewPeriodOpenBanner=t.LocalizedPeerNotEnoughSubmissionsBanner=void 0;var n=s("fBYG");Object.defineProperty(t,"LocalizedPeerNotEnoughSubmissionsBanner",{enumerable:!0,get:function(){return n.LocalizedPeerNotEnoughSubmissionsBanner}}),Object.defineProperty(t,"LocalizedPeerReviewPeriodOpenBanner",{enumerable:!0,get:function(){return n.LocalizedPeerReviewPeriodOpenBanner}}),Object.defineProperty(t,"LocalizedPeerReviewHasBeenDeletedBanner",{enumerable:!0,get:function(){return n.LocalizedPeerReviewHasBeenDeletedBanner}});var i=s("n9RO");Object.defineProperty(t,"TimeLimitOverriddenByDueDateBanner",{enumerable:!0,get:function(){return i.TimeLimitOverriddenByDueDateBanner}})},QQVi:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnansweredQuestion=void 0;const n=s("zGdY");t.isUnansweredQuestion=e=>{switch(null==e?void 0:e.questionType){case n.QuestionType.PresentationOnly:return!1;case n.QuestionType.FIMB:return(e=>{const{givenAnswers:t}=e;return!t||"object"!=typeof t||!Object.values(t||{}).every((e=>null!=e&&e.trim().length>0))})(e);case n.QuestionType.Matching:return(e=>{const{givenAnswers:t,question:s}=e;return!t||!s||t.filter((e=>null!==e)).length<s.prompts.length})(e);case n.QuestionType.Hotspot:return(e=>{const{givenAnswers:t}=e;return!t||0===t.length})(e);default:return(null==e?void 0:e.attemptStatus)===n.AttemptStatus.NotAttempted}}},QeYt:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentPanel=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=s("uDfI"),o=s("9OUN"),l=s("IbyE"),r=s("E1pj"),u=n.__importDefault(s("kNCT")),c=(n.__importDefault(s("JLiP")),s("33wY"));class d extends i.Component{constructor(e){super(e),this.state={hasLoadedQuestions:!1,isQuestionLoadingInProgress:!0}}componentDidMount(){const{courseId:e,contentId:t,loadContents:s}=this.props;e&&t&&s({courseId:e,contentId:t})}componentDidUpdate(e){const{assessment:t,courseId:s,loadGradebookColumn:n,loadQuestions:i}=this.props,{hasLoadedQuestions:a}=this.state;!e.assessment&&t&&n({courseId:s,columnId:null==t?void 0:t.gradableItemId}),t&&(a||i({courseId:s,assessmentId:t.id,refreshState:!0,expand:"alignedGoals,usageCount",offset:0}).then((()=>{this.setState((()=>({isQuestionLoadingInProgress:!1,hasLoadedQuestions:!0})))})))}render(){const{allyService:e,contentId:t,features:s,UltraWindowSize:n}=this.props;return i.default.createElement("div",null,i.default.createElement(c.AllyProvider,{allyService:e,contentId:t},i.default.createElement(u.default,{...this.props,isLoadingInProgress:this.state.isQuestionLoadingInProgress}),s&&s.reactAssessmentsSettings&&!1))}}t.AssessmentPanel=d;const m=(0,a.connect)(((e,t)=>({assessment:l.select.assessment.getAssessmentByContentId(e,t.contentId),questions:l.select.question.getQuestionsByContentId(e,t.contentId),content:l.select.content.getContentById(e,t.contentId),gradebookColumn:l.select.gradebookColumn.getGradebookColumnByContentId(e,t.contentId),fileUploadSettings:l.select.fileUploadSettings.getFileUploadSettings(e)})),(e=>(0,o.bindActionCreators)({loadContents:l.actions.content.loadContents,loadGradebookColumn:l.actions.gradebookColumn.loadGradebookColumn,persistContent:l.actions.content.persistContent,persistGradebookColumn:l.actions.gradebookColumn.persistGradebookColumn,createQuestion:l.actions.question.createQuestion,deleteQuestion:l.actions.question.deleteQuestion,loadQuestions:l.actions.question.loadQuestions,persistQuestion:l.actions.question.persistQuestion,removeRubricAssociations:l.actions.gradebookColumn.removeRubricAssociations},e)))((0,r.windowResizingResponsiveComponentWrapper)(d));t.default=m},Qycl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionAnswerStatus=t.QuestionAnswerResult=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=n.__importDefault(s("7O4Y")),o=s("7NIW"),l=s("FS8K"),r=s("riYo");var u;!function(e){e.Correct="correct",e.Partial="partial",e.Incorrect="incorrect",e.FullCredit="full-credit"}(u=t.QuestionAnswerResult||(t.QuestionAnswerResult={}));t.QuestionAnswerStatus=e=>{const{answerResult:t,answerResultInfoContent:s,wasAnsweredLate:n,rootClassName:c}=e,d=(0,r.useStyles)(),m=(0,l.useTranslate)(),p=t&&s;if(!p&&!n)return null;let f;f=n||!t||u.Partial===t?d.partialCredit:u.Incorrect===t?d.incorrect:d.correctOrFullCredit;const h=n?d.lateAnswerResultDataWrapper:d.nonLateAnswerResultDataWrapper;return i.createElement("div",{className:(0,a.default)(f,c)},p&&i.createElement("div",{className:h},i.createElement("div",{className:d.answerResultText},m((e=>u.Correct===e?"components.directives.assessment-question.status.correct":u.Incorrect===e?"components.directives.assessment-question.status.incorrect":u.Partial===e?"components.directives.assessment-question.status.partial":"components.directives.assessment-question.status.full-credit")(t))),s),n&&i.createElement("div",{className:d.latenessWrapper},i.createElement(o.Attention,{className:d.latenessIcon}),i.createElement("div",{className:d.latenessText},m("components.directives.assessment-question.status.attention"))))}},SEvD:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadonlyQuestion=void 0;const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=s("zGdY"),o=n.__importDefault(s("wdV1")),l=n.__importDefault(s("odfX")),r=n.__importDefault(s("557W")),u=n.__importDefault(s("yHJs")),c=n.__importDefault(s("ENpl")),d=n.__importDefault(s("xuTT")),m=n.__importDefault(s("PSgW")),p=n.__importDefault(s("LReu")),f=n.__importDefault(s("wrt4")),h=n.__importDefault(s("HVD2"));s("y/xD");t.ReadonlyQuestion=e=>i.default.createElement("div",{className:"readonly-question-component-react"},i.default.createElement(h.default,{...e.questionHeaderProps}),(()=>{const{question:t,...s}=e,n={...s,questionTextClassName:"readonly-question-component-react__question-text"};switch(e.question.questionType){case a.QuestionType.CalculatedFormula:return i.default.createElement(o.default,{...n,question:t});case a.QuestionType.CalculatedNumeric:return i.default.createElement(l.default,{...n,question:t});case a.QuestionType.Either:return i.default.createElement(p.default,{...n,question:t});case a.QuestionType.Essay:return i.default.createElement(r.default,{...n,question:t});case a.QuestionType.FIMB:return i.default.createElement(u.default,{...n,question:t});case a.QuestionType.Hotspot:return i.default.createElement(c.default,{answersInfo:n.answersInfo,question:t});case a.QuestionType.PresentationOnly:return i.default.createElement(f.default,{...n,question:t});case a.QuestionType.Matching:return i.default.createElement(d.default,{...n,question:t});case a.QuestionType.Multiple:return i.default.createElement(m.default,{...n,question:t});default:return null}})())},"SS/S":function(e,t,s){"use strict";s.r(t)},T6ce:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentCanvasControlsMenu=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("FS8K"),a=s("bvnD"),o=s("AuQm");t.AssessmentCanvasControlsMenu=e=>{const{id:t,onCloseMenu:s,anchorEl:l,controlsMenuItems:r}=e,u=(0,a.useStyles)(),c=(0,i.useTranslate)(),d=(0,n.useMemo)((()=>r.map((({subAnalyticsId:e,translationKey:t,onClick:n,...i})=>({...i,analyticsId:e,text:c(t),onClick:e=>{null==n||n(e),s()}})))),[r,s,c]);return l?n.default.createElement(o.ContextualMenu,{id:t,analyticsId:"assessment-canvas-controls.controlMenu",open:!0,onClose:s,onClick:s,anchorEl:l,classes:{list:u.controlMenuList},transformOrigin:{vertical:12,horizontal:278},items:d}):null}},"TW/u":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentPageCounts=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("FS8K"),a=s("9Y6G");t.AssessmentPageCounts=({currentPage:e,totalPages:t})=>{const s=(0,i.useTranslate)(),{containerClass:o}=(0,a.useStyles)(),l=s("assessmentProgress.pageCounts.currentText",{current:e}),r=s("assessmentProgress.pageCounts.fullText",{total:t,current:n.createElement("strong",{key:"current"},l)});return n.createElement("div",{className:o},r)}},UK2m:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolQuestionHeaderMenu=void 0;const n=s("D57K").__importDefault(s("ERkP")),i=s("MC1S"),a=s("0x+l"),o=s("FS8K"),l=s("caKH"),r=s("WBPx"),u="assessments.canvas.question.questionBlock.removeQuestionFromPoolConfirmation";class c extends n.default.Component{constructor(e){super(e),this.actionMenuButtonRef=n.default.createRef(),this.onDeleteClick=()=>{this.setState({isConfirmationDialogOpen:!0})},this.onConfirmationDismiss=()=>{this.setState({isConfirmationDialogOpen:!1})},this.onCancelDelete=()=>{this.onConfirmationDismiss(),this.actionMenuButtonRef.current.firstChild.focus()},this.onMenuOpen=()=>{this.state.isConfirmationDialogOpen&&this.onConfirmationDismiss()},this.state={isConfirmationDialogOpen:!1}}getActionMenuProps(){const{localize:e,hasSubmissions:t,hasAssessmentModifyPermissions:s,startEditMode:i}=this.props,o={directionalHint:6,enableBodyScrollingDisabledCheck:!1,onMenuOpened:this.onMenuOpen,items:[]};return s&&o.items.push({key:"edit",name:e.translate("questionPools.questionHeader.edit"),icon:n.default.createElement(a.EditTool,null),onClick:()=>i()}),!t&&s&&o.items.push({key:"delete",name:e.translate("questionPools.questionHeader.delete"),icon:n.default.createElement(a.Trash,null),onClick:this.onDeleteClick}),o}getDeleteConfirmationProps(){const{localize:e}=this.props;return{onDismiss:this.onConfirmationDismiss,showAsCallout:!0,target:this.actionMenuButtonRef.current,calloutProps:{setInitialFocus:!0},dialogContentProps:{type:i.DialogType.actionConfirmation,showCloseButton:!1,title:e.translate(`${u}.title`),subText:e.translate(`${u}.subText`)}}}render(){const{deleteQuestion:e,localize:t,overflowMenuButtonLabelData:s}=this.props,a=this.getActionMenuProps();return n.default.createElement("div",{ref:this.actionMenuButtonRef},!!a.items.length&&n.default.createElement(i.ActionMenu,{maintainExpandedProperties:this.state.isConfirmationDialogOpen,menuProps:a,"aria-hidden":"false",ariaLabel:t.translate(s.string,{relatedContent:s.relation}),analyticsId:"questionPools.questionHeader.actionMenu"}),this.state.isConfirmationDialogOpen?n.default.createElement(l.UltraModalDialog,{...this.getDeleteConfirmationProps(),analyticsId:"questionPools.questionHeader.confirmationDialog.dialog"},n.default.createElement(i.DialogFooter,null,n.default.createElement(r.AnalyticsDefaultButton,{onClick:this.onCancelDelete,analyticsId:"questionPools.questionHeader.confirmationDialog.cancel.button"},t.translate(`${u}.cancel`)),n.default.createElement(r.AnalyticsPrimaryButton,{onClick:e,analyticsId:"questionPools.questionHeader.confirmationDialog.remove.button"},t.translate(`${u}.remove`)))):null)}}t.QuestionPoolQuestionHeaderMenu=c,t.default=(0,o.localizedComponentWrapper)(c)},VuCU:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({primaryInstructionsText:{fontWeight:e.typography.fontWeightSemiBold}})))},WJlv:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({attentionIcon:{verticalAlign:"middle"},controlsContainer:{display:"flex"},filterControlsContainer:{display:"flex",marginRight:"15px"},navigationControlsContainer:{display:"flex",width:"100%",justifyContent:"space-around",[e.breakpoints.up("md")]:{justifyContent:"center"}},messageSection:{[e.breakpoints.up("md")]:{paddingTop:"10px"}},noBacktrackingMessage:{paddingLeft:"10px"},rightSection:{justifyContent:"flex-end"}})))},WS8J:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("d2yI");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},X2eQ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({bannerClass:{display:"flex",flexWrap:"wrap",marginInlineStart:"-12px",marginInlineEnd:"-12px",[e.breakpoints.up("sm")]:{marginInlineStart:"-30px",marginInlineEnd:"-30px"}},iconWrapperClass:{alignSelf:"flex-start"},iconClass:{color:e.palette.primary.main},actionClass:{flexBasis:"100%",justifyContent:"flex-end"},buttonClass:{flexBasis:"initial"}})))},XGZl:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolQuestionList=t.default=void 0;var i=s("Hgjc");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}}),Object.defineProperty(t,"QuestionPoolQuestionList",{enumerable:!0,get:function(){return i.QuestionPoolQuestionList}})},XK9s:function(e,t,s){"use strict";s.r(t)},XL7N:function(e,t,s){"use strict";s.r(t)},XTQr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("3UAS"));t.default=e=>i.default.createElement(a.default,{...e,noResultsKeys:{title:"questionReuse.emptyState.dueToFilter.header",message:"questionReuse.emptyState.dueToFilter.message"},noSourcesKeys:{title:"questionReuse.emptyState.dueToSource.header",message:"questionReuse.emptyState.dueToSource.message"},headerKeys:{title:"questionReuse.questionPickerHeader"},footerKeys:{primaryButton:"questionReuse.footer.primaryButtonText",selectedCount:"questionReuse.footer.selectedCount"},cancelModalKeys:{title:"questionReuse.cancelDialog.title",message:"questionReuse.cancelDialog.subtext"},pageHelpKey:"questionReuse.pageHelpUrl"})},XdWh:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("XTQr");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},XeZT:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 200" style="enable-background:new 0 0 200 200" xml:space="preserve"><circle style="fill:#e3f4fc" cx="99.5" cy="99.5" r="99.5"/><path style="fill:#d2edfa" d="M51.74 40.724h95.52v117.282H51.74z"/><path style="fill:#fff" d="M51.74 38.606h95.52v115.42H51.74z"/><path style="fill:#d2edfa" d="M93.928 75.222h42.188v2.388H93.928zM93.928 80.794h42.188v2.388H93.928zM93.928 86.366h20.696v2.388H93.928z"/><path style="fill:#c26fd2" d="m57.61 97.358 2.165-8.013-8.023 2.13z"/><path style="fill:#d2edfa" d="M79.6 77.61v14.328H65.272V77.61H79.6m2.388-2.388H62.884v19.104h19.104V75.222z"/><text transform="translate(93.928 30.646)" style="fill:#a8bfcc;font-family:\'OpenSans-Semibold\';font-size:23.3456">Abc</text><path style="fill:#d2edfa" d="M62.884 49.75h73.232v14.328H62.884zM133.728 107.858v30.248H65.272v-30.248h68.456m2.388-2.388H62.884v35.024h73.232V105.47zM86.764 75.222h2.388v2.388h-2.388zM86.764 80.794h2.388v2.388h-2.388zM86.764 86.366h2.388v2.388h-2.388z"/><path style="fill:#aec6d6" d="M34.394 118.206h35.024v2.388H34.394zM34.394 124.574h34.228v2.388H34.394zM34.394 130.942h34.228v2.388H34.394zM34.394 137.31h19.9v2.388h-19.9z"/><path style="fill:#c7bcac" d="M142.447 110.126h-.001"/><defs><path id="a" d="M100.296 132.534h30.248v29.452h-30.248z"/></defs><clipPath id="b"><use xlink:href="#a" style="overflow:visible"/></clipPath><g style="clip-path:url(#b)"><path style="fill:#36d7fb" d="M129.748 162.782h-28.656a1.592 1.592 0 0 1-1.592-1.592v-27.86c0-.879.713-1.592 1.592-1.592h28.656c.879 0 1.592.713 1.592 1.592v27.86c0 .879-.713 1.592-1.592 1.592z"/><circle style="fill:#fee132" cx="120.668" cy="147.315" r="2.841"/><path style="fill:#fefa78" d="M120.669 145.611c.94.001 1.704.766 1.704 1.706s-.766 1.704-1.706 1.704a1.708 1.708 0 0 1-1.704-1.706 1.706 1.706 0 0 1 1.706-1.704m.001-1.137a2.841 2.841 0 1 0-.004 5.682 2.841 2.841 0 0 0 .004-5.682z"/><g style="opacity:.2"><path style="fill:#303030" d="m131.308 160.029.002-4.233-5.679-5.686-5.686 5.679-10.222-10.235-10.236 11.358-.001 3.096"/></g><g><path style="fill:#44e17d" d="m119.975 158.238-10.222-10.235-10.236 11.358-.001 1.817a1.596 1.596 0 0 0 1.591 1.593l27.957.018a2.278 2.278 0 0 0 2.274-2.271l.001-2.273-5.679-5.686-5.685 5.679z"/><path style="fill:#82fa7d" d="m109.812 150.315 9.036 9.048 1.125 1.126 1.126-1.125 4.56-4.554 4.088 4.093-.002 2.295-28.638-.019.001-1.207 8.704-9.657m-.059-2.313L99.517 159.36l-.001 1.818a1.596 1.596 0 0 0 1.591 1.593l28.638.019h.001c.875 0 1.591-.716 1.592-1.591l.002-2.954-5.679-5.686-5.686 5.679-10.222-10.236z"/></g></g><path style="fill:#d2edfa" d="M129.748 161.209v1.573h-28.656v-1.573H99.5v1.573c0 .879.713 1.592 1.592 1.592h28.656c.879 0 1.592-.713 1.592-1.592v-1.573h-1.592z"/><path style="fill:#fff" d="M129.748 133.33v27.86h-28.656v-27.86h28.656m0-1.592h-28.656c-.879 0-1.592.713-1.592 1.592v27.86c0 .879.713 1.592 1.592 1.592h28.656c.879 0 1.592-.713 1.592-1.592v-27.86c0-.879-.713-1.592-1.592-1.592z"/><path style="fill:none;stroke:#c26fd2;stroke-width:2.388;stroke-linecap:round;stroke-miterlimit:10" d="M96.515 147.26c-6.924 0-12.537-5.613-12.537-12.537s5.613-12.537 12.537-12.537"/><path style="fill:#c26fd2" d="m97.088 126.308 7.188-4.15-7.188-4.151z"/><g><path style="fill:#c26fd2" d="m68.671 53.292 4.151 7.188 4.151-7.188z"/></g><path style="fill:none;stroke:#c26fd2;stroke-width:2.388;stroke-linecap:round;stroke-miterlimit:10" d="M72.734 54.526V31.84c0-6.1 4.945-11.045 11.045-11.045h7.363M35.289 113.695l19.37-19.369"/><g><path transform="rotate(45.001 143.22 93.124)" style="fill:#fec34c" d="M139.218 70.125h8v46h-8z"/><path transform="rotate(45.001 148.877 98.78)" style="fill:#fcb73d" d="M144.875 75.782h8v46h-8z"/><path transform="rotate(45.001 164.433 78.981)" style="fill:#d5d5d5" d="M157.431 76.983h14v4h-14z"/><path transform="rotate(45.001 160.897 75.446)" style="fill:#e8e8e8" d="M156.896 73.447h8v4h-8z"/><path style="fill:#fc5d92" d="m170.795 82.518-11.314-11.314 2.885-2.885a7.92 7.92 0 0 1 11.201 0l.113.113a7.92 7.92 0 0 1 0 11.201l-2.885 2.885z"/><path style="fill:#fcd3a6" d="m118.469 123.531 5.657-16.971 11.314 11.314z"/><path style="fill:#fcd3a6" d="M124.126 106.56h3.771v3.771h3.772v3.772h3.771v3.771"/><path style="opacity:.1" d="m173.68 68.433-.057-.057-8.485 8.485 5.657 5.657 2.885-2.885a7.92 7.92 0 0 0 0-11.2z"/><path style="fill:#767676" d="m120.237 118.227-1.768 5.304 5.304-1.768z"/></g></svg>'},"Y/MK":function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("UK2m");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},Y3gu:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=void 0;const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=s("IbyE"),o=s("zSoH"),l=s("uDfI"),r=n.__importDefault(s("3UAS")),u=n.__importDefault(s("nsO7"));t.mapStateToProps=(e,t)=>{const s=a.select.assessment.getAssessmentsByCourseId(e,t.courseId),n=a.select.questionType.getQuestionTypesByCourseId(e,t.courseId);return{sources:u.default.filter(s,(e=>e.id!==t.destination.assessmentId)),questionTypes:(0,o.getSupportedQuestionPoolQuestionTypes)(n)}};const c=(0,l.connect)(t.mapStateToProps)((e=>i.default.createElement(r.default,{...e,noResultsKeys:{title:"questionPools.emptyState.dueToFilter.header",message:"questionPools.emptyState.dueToFilter.message"},noSourcesKeys:{title:"questionPools.emptyState.dueToSource.header",message:"questionPools.emptyState.dueToSource.message"},headerKeys:{title:"questionPools.questionPickerHeader"},footerKeys:{primaryButton:"questionPools.footer.primaryButtonText",selectedCount:"questionPools.footer.selectedCount"},pageHelpKey:"questionPools.pageHelpUrl",cancelModalKeys:{title:"questionPools.cancelDialog.title",message:"questionPools.cancelDialog.subText"},searchQuestions:t=>{const s={...t,...!t.questionTypes&&{questionTypes:o.QUESTION_POOL_SUPPORTED_QUESTION_TYPES_AS_STRINGS},...!t.assessmentIds&&{excludeAssessmentIds:[e.destination.assessmentId]}};return(0,a.searchQuestions)(s)}})));t.default=c},YbTi:function(e,t,s){"use strict";s.r(t)},Yj1A:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K").__importDefault(s("ERkP")),i=s("nBlB"),a=s("6Nff");t.default=(0,i.DragNDropItem)((({checkAndDisableAssessmentSettings:e,courseId:t,index:s,dragPointRef:i,itemRef:o,alignedGoals:l,question:r,questionTitle:u,onQuestionEdit:c,onQuestionMadeDirty:d,persistQuestion:m,deleteQuestion:p,questionBeingEditedId:f,isAnyQuestionDirty:h,hasSubmissions:g,hasAssessmentModifyPermissions:y,openGoals:v,pluginsConfig:b,dragButtonAriaLabel:P,babelfishInstance:_,currentLocale:C,disableInteraction:S,openPoolQuestionPanel:A,addQuestionsToEmptyPool:Q,localizationPrefix:E,showFeatureAnnouncement:w,supportsInlineDocumentRender:k,fileUploadSettings:I})=>{const D=s+1;return n.default.createElement("div",{className:`js-assessment-question-${D}`,ref:o},n.default.createElement(a.AssessmentCanvasQuestion,{checkAndDisableAssessmentSettings:e,courseId:t,questionBeingEditedId:f,isAnyQuestionDirty:h,alignedGoals:l,question:r,questionTitle:u,onQuestionEdit:c,onQuestionMadeDirty:d,persistQuestion:m,deleteQuestion:p,hasSubmissions:g,hasAssessmentModifyPermissions:y,openGoals:v,pluginsConfig:b,dragButtonAriaLabel:P,dragPointRef:i,babelfishInstance:_,currentLocale:C,disableInteraction:S,openPoolQuestionPanel:A,addQuestionsToEmptyPool:Q,localizationPrefix:E,showFeatureAnnouncement:w,supportsInlineDocumentRender:k,fileUploadSettings:I}))}))},aY9q:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolQuestionHeaderReadMode=void 0;const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("YSVG")),o=n.__importDefault(s("Y/MK"));s("p3qM");const l=s("FS8K");t.QuestionPoolQuestionHeaderReadMode=e=>{const{localize:t,questionSourceName:s,deleteQuestion:n,startEditMode:l,hasSubmissions:r,hasAssessmentModifyPermissions:u,overflowMenuButtonLabelData:c}=e;return i.default.createElement("div",{className:"question-pool-question-header question-pool-question-header--read"},i.default.createElement("div",{className:"question-pool-question-header__title-row"},i.default.createElement(a.default,{...e,showPointsInfo:!1}),i.default.createElement("div",{className:"question-pool-question-header__menu-icon"},i.default.createElement(o.default,{deleteQuestion:n,startEditMode:l,hasSubmissions:r,hasAssessmentModifyPermissions:u,overflowMenuButtonLabelData:c}))),i.default.createElement("div",{className:"question-pool-question-header__question-source"},t.translate("questionPools.questionHeader.questionSource",{questionSourceName:s})))},t.default=(0,l.localizedComponentWrapper)(t.QuestionPoolQuestionHeaderReadMode)},bo9W:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K").__importStar(s("ERkP")),i=s("np6O"),a=s("/n7R");t.default=e=>{const{tooltip:t,activeTooltip:s,onClick:o,analyticsId:l}=e,[r,u]=(()=>{const[e,t]=n.useState(!1);return[e,n.useCallback((()=>{t(!0),setTimeout((()=>t(!1)),3e3)}),[])]})(),c=n.useCallback((e=>{u(),null==o||o(e)}),[u,o]);return n.createElement(a.AnalyticsTooltip,{analyticsId:`${l}.tooltip`,title:r?s:t},n.createElement(i.AnalyticsIconButton,{onClick:c,analyticsId:l,"aria-label":t},e.children))}},boQS:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnwrappedSelectableQuestion=void 0;const n=s("D57K"),i=n.__importStar(s("nsO7")),a=s("MC1S"),o=s("IbyE"),l=s("FS8K"),r=n.__importDefault(s("ERkP")),u=s("np6O"),c=n.__importDefault(s("l4Sq")),d=s("6Nff"),m=n.__importDefault(s("4raK")),p=s("YSVG"),f=s("0x+l");s("skmz");const h=s("+VgB");class g extends r.default.Component{constructor(e){super(e),this.checkbox=null,this.onSelectQuestion=()=>{const{onSelectQuestion:e,question:t,selected:s}=this.props;e(t.id,s)},this.toggleExpanded=()=>this.setState((e=>({expanded:!e.expanded}))),this.getToggleButtonAriaLabel=()=>{const e=(0,c.default)("toggleView",this.props.question,null,(0,h.getTagPlaceholders)(this.props.localize.translate),"questionPicker");return this.props.localize.translate(e.string,{relatedContent:e.relation})},this.getQuestionTitle=(e,t)=>{let s=`question.typeLabels.${e.questionType}`;return e.subType&&(s+=`.${e.subType}`),t.translate(s)},this.state={expanded:!1}}componentDidUpdate(){this.checkbox&&this.props.focused&&this.checkbox.focus()}render(){const{courseId:e,question:t,localize:s,selected:n,sourceHeaderId:l,localizationPrefix:c}=this.props,{expanded:h}=this.state,g=o.Questions.isPresentationOnly(t),y=this.getQuestionTitle(t,s),v=h?"--expanded":"--collapsed",b=`selectable-question${t.id}`,P=`selectable-question-wrapper${t.id}`,_=`bb-editor${t.id} ${l} `,C=`${p.QUESTION_TITLE_ID_PREFIX}${t.id}`;return r.default.createElement("div",{id:b,className:`selectable-question selectable-question${v}`},r.default.createElement(a.Checkbox,{className:"selectable-question__checkbox",checked:n,onChange:this.onSelectQuestion,ariaLabelledBy:_,ariaDescribedBy:C,componentRef:e=>{this.checkbox=e},analyticsId:"selectableQuestion.checkbox"}),r.default.createElement("div",{id:P,className:"selectable-question__question-wrapper"},g&&r.default.createElement("div",{className:"question-header"},r.default.createElement("h3",{id:`${p.QUESTION_TITLE_ID_PREFIX}${t.id}`,className:"question-header__title"},y)),h?r.default.createElement(d.AssessmentCanvasQuestion,{courseId:e,question:t,questionTitle:y,alignedGoals:t.alignedGoals,questionBeingEditedId:null,isAnyQuestionDirty:!1,onQuestionEdit:i.noop,onQuestionMadeDirty:i.noop,persistQuestion:i.noop,pluginsConfig:{},hasSubmissions:!0,hasAssessmentModifyPermissions:!1,disableDeletingQuestion:!0,disableEditingQuestion:!0,disableAligningToGoal:!0,dragButtonAriaLabel:"",dragPointRef:i.noop,disableFocus:!0,localizationPrefix:c,supportsInlineDocumentRender:!1,readonlyPoints:!0}):r.default.createElement(m.default,{id:t.id,question:this.props.question,questionTitle:g?null:y,readonlyPoints:!0})),r.default.createElement(u.AnalyticsIconButton,{onClick:this.toggleExpanded,className:`selectable-question__question-toggle selectable-question__question-toggle${v}`,"aria-labelledby":_,"aria-expanded":h,"aria-controls":P,analyticsId:"selectableQuestion.toggle.button"},r.default.createElement(f.ChevronDown,null)))}}t.UnwrappedSelectableQuestion=g,t.default=(0,l.localizedComponentWrapper)(g)},bvnD:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((()=>({controlMenuList:{width:"280px"}})))},d2yI:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolQuestionHeader=void 0;const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("Hrma")),o=n.__importDefault(s("aY9q")),l=s("UJ5P");s("p3qM");t.QuestionPoolQuestionHeader=e=>l.EditModeEnum.ACTIVE===e.editMode?i.default.createElement(a.default,{...e}):i.default.createElement(o.default,{...e}),t.default=t.QuestionPoolQuestionHeader},eYvb:function(e,t){e.exports='<svg width="38" height="38" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="19" cy="19" r="18" fill="#C23E37" stroke="#fff" stroke-width="2"/><path d="M27 11 11 27M11 11l16 16" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>\n'},enjr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedAssessmentTimerToggle=t.ANALYTICS_ID=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("FS8K"),a=s("tN4z"),o=s("0x+l"),l=s("myse"),r=s("5iKm");t.ANALYTICS_ID="assessment.timer.visibility.toggle";t.LocalizedAssessmentTimerToggle=(0,i.localizedComponentWrapper)((({assessmentTimerTextId:e,onToggle:s,isVisible:i,localize:u})=>{const{buttonClass:c}=(0,r.useStyles)(),{translate:d}=u,m=n.useMemo((()=>d(i?"assessmentProgress.timer.hideTimer":"assessmentProgress.timer.showTimer")),[d,i]),p=n.useCallback((()=>{s(!i)}),[s,i]);return n.createElement(l.AnalyticsContext,{action:i?"hide":"show"},n.createElement(a.AnalyticsIconButton,{analyticsId:t.ANALYTICS_ID,"aria-controls":e,"aria-label":m,onClick:p,className:c,title:m,"aria-expanded":i},i?n.createElement(o.Invisible,null):n.createElement(o.Visible,null)))}))},"es/t":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>({containerClass:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:e.spacing(5)}})))},fBYG:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedPeerReviewHasBeenDeletedBanner=t.LocalizedPeerReviewPeriodOpenBanner=t.LocalizedPeerNotEnoughSubmissionsBanner=void 0;var n=s("iCfF");Object.defineProperty(t,"LocalizedPeerNotEnoughSubmissionsBanner",{enumerable:!0,get:function(){return n.LocalizedPeerNotEnoughSubmissionsBanner}});var i=s("IgIY");Object.defineProperty(t,"LocalizedPeerReviewPeriodOpenBanner",{enumerable:!0,get:function(){return i.LocalizedPeerReviewPeriodOpenBanner}});var a=s("PQ0p");Object.defineProperty(t,"LocalizedPeerReviewHasBeenDeletedBanner",{enumerable:!0,get:function(){return a.LocalizedPeerReviewHasBeenDeletedBanner}})},g3BG:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({backwardSectionRoot:{[e.breakpoints.up("md")]:{marginRight:"15px"}},forwardSectionRoot:{[e.breakpoints.up("md")]:{marginLeft:"15px"}},backwardSectionLabel:{flexDirection:"column",[e.breakpoints.up("md")]:{flexDirection:"row"}},forwardSectionLabel:{flexDirection:"column",[e.breakpoints.up("md")]:{flexDirection:"row-reverse"}},button:{[e.breakpoints.down("md")]:{"& > span":{paddingTop:"4px"}},[e.breakpoints.up("md")]:{width:"auto",maxWidth:"200px"}},buttonLabel:{fontSize:"10px",[e.breakpoints.up("md")]:{fontSize:"14px",marginLeft:"14px",marginRight:"14px"}}})))},gJBC:function(e,t,s){"use strict";s.r(t)},gftO:function(e,t,s){"use strict";s.r(t)},gwoz:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnwrappedQuestionList=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=n.__importStar(s("nsO7")),o=s("nBlB"),l=s("IbyE"),r=n.__importDefault(s("l4Sq")),u=s("iti9"),c=n.__importDefault(s("Yj1A")),d=n.__importDefault(s("CXVp"));s("M7C9");const m=s("+VgB");class p extends i.Component{constructor(){super(...arguments),this.questionPreviews={},this.getPreview=(e,t)=>{const s=e.id,n=this.questionPreviews[s];return null==n||n.question===e&&n.questionTitle===t||(this.questionPreviews[s]=null),null==this.questionPreviews[s]&&(this.questionPreviews[s]={question:e,questionTitle:t,preview:i.default.createElement(d.default,{question:e,questionTitle:t})}),this.questionPreviews[s].preview},this.hasQuestionCreatePermissions=e=>!0===a.get(e,"permissions.create"),this.getDraggingLabelObject=(e,t,s)=>{const n=this.props.keyInsertIndex-1,i=(0,m.getTagPlaceholders)(this.props.localize.translate);return this.props.isKeyboardMoving?e===n?{string:"assessments.canvas.drop.buttonStart",relation:""}:0===this.props.keyInsertIndex?{string:"assessments.canvas.drop.buttonTop",relation:""}:(0,r.default)("drop",this.props.items[n],s[n],i):(0,r.default)("drag",t,s[e],i)},this.getQuestionTitleArray=()=>{const{items:e,localize:t}=this.props;let s=0;return e.map((e=>{if(!l.Questions.isPresentationOnly(e)&&!l.Questions.isPageBreak(e)){let n="assessments.canvas.question.header.",i={};if(l.Questions.isQuestionBlock(e)&&e.numOfQuestionsToChoose>1){const t=s+1,a=s+e.numOfQuestionsToChoose;n+="titleBlock",i={blockStart:t,blockEnd:a},s=a}else l.Questions.isQuestionBlock(e)&&0===e.numOfQuestionsToChoose?n+="titleBlockEmpty":(s+=1,n+="title",i={position:s});return t.translate(n,i)}return null}))}}render(){const{items:e,localize:t,AddButton:s,hasSubmissions:n,hasAssessmentModifyPermissions:a,isLoadingInProgress:o,notification:l}=this.props,d=new u.FeatureAnnouncementsHelper(e).getQuestionFeatureAnnouncements(),p=this.getQuestionTitleArray();return i.default.createElement("div",null,o||n||!a?i.default.createElement("div",{className:"assessment-canvas-react__question-spacer"}):i.default.createElement(s,{buttonAriaLabel:t.translate("assessments.canvas.add.buttonTop"),index:0,analyticsId:"assessments.canvas.add"}),l&&"start"===l.positionAfter&&i.default.createElement(l.Component,null),e.map((({alignedGoals:e,...a},o)=>{const u=o+1,f=this.getDraggingLabelObject(o,a,p),h=(0,r.default)("add",a,p[o],(0,m.getTagPlaceholders)(t.translate));return i.default.createElement("div",{key:a.id},i.default.createElement(c.default,{alignedGoals:e,question:a,questionTitle:p[o],dragButtonAriaLabel:t.translate(f.string,{relatedContent:f.relation}),index:o,preview:this.getPreview(a,p[o]),showFeatureAnnouncement:d[a.id],...this.props}),!n&&this.hasQuestionCreatePermissions(a)?i.default.createElement(s,{index:u,buttonAriaLabel:t.translate(h.string,{relatedContent:h.relation}),analyticsId:"assessments.canvas.addQuestion"}):i.default.createElement("div",{className:"assessment-canvas-react__question-spacer"}),l&&a.id===l.positionAfter&&i.default.createElement(l.Component,null))})))}}t.UnwrappedQuestionList=p,t.default=(0,o.DragNDropContainer)(p)},i7qc:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentCanvasControlsMenuButton=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("FS8K"),a=s("liJC"),o=s("tN4z"),l=s("0x+l"),r=s("T6ce");t.AssessmentCanvasControlsMenuButton=e=>{const{controlsMenuItems:t,onOpenMenu:s}=e,[u,c]=(0,n.useState)(void 0),d=!!u,m=(0,i.useTranslate)()("components.directives.controls-menu.menu-button.aria-label"),p="assessment-canvas-controls-menu",f=(0,a.useStyles)();return n.default.createElement(n.default.Fragment,null,n.default.createElement(o.AnalyticsIconButton,{analyticsId:"assessment-canvas-controls.controlMenu.showMenu.button",className:f.controlMenu,onClick:e=>{null==s||s(e),c(e.currentTarget)},id:`${p}-button`,"aria-expanded":d,"aria-label":m,"aria-haspopup":"true","aria-controls":u?p:void 0},n.default.createElement(l.Menu,null)),!!u&&n.default.createElement(r.AssessmentCanvasControlsMenu,{id:p,onCloseMenu:()=>{c(void 0)},anchorEl:u,controlsMenuItems:t}))}},iCfF:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedPeerNotEnoughSubmissionsBanner=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("zTL+"),a=s("nmzr"),o=s("7NIW"),l=s("sEjo"),r=s("FS8K");t.LocalizedPeerNotEnoughSubmissionsBanner=(0,r.localizedComponentWrapper)((({localize:e})=>{const t=e.translate("banners.peerAssessments.notEnoughSubmissions.editSettingsButton"),s=e.translate("banners.peerAssessments.notEnoughSubmissions.notice"),r=[n.createElement(l.AnalyticsOutlineButton,{analyticsId:"course.grades.gradebook-item.peerReview.notEnoughSubmissionsBanner.editSettingsButton",key:"edit",onClick:()=>{a.router.goPeekState((0,a.assessmentSettingsRequest)({focusEleId:"enable-peer-grading"}))}},t)],u=n.createElement(o.Attention,null);return n.createElement(i.AnalyticsBanner,{severity:"error",actions:r,icon:u},n.createElement("span",{className:"js-banner-contents"},s))}))},ihlUh:function(e,t){e.exports='<svg width="38" height="38" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="19" cy="19" r="18" fill="#046BF1" stroke="#fff" stroke-width="2"/><path d="M15.675 11 11 15.675l5.454 5.455 4.676-4.675L15.675 11ZM16.455 21.13l.78 5.455 9.35-9.35-5.454-.78M22.429 22.429 27 27" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>'},iti9:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureAnnouncementsHelper=t.shouldShowFeatureAnnouncement=void 0;t.shouldShowFeatureAnnouncement=(e,t)=>{var s;return null!==(s=e&&e[t])&&void 0!==s&&s};t.FeatureAnnouncementsHelper=class{constructor(e){this.questions=e}getQuestionFeatureAnnouncements(){return{}}}},izYA:function(e,t){e.exports='<svg width="48" height="48" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="24" cy="24" r="23" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-dasharray="4 6"/><circle cx="24" cy="24" r="18" fill="#A234B5" stroke="#fff" stroke-width="2"/><path d="M20.675 16 16 20.675l5.454 5.455 4.676-4.675L20.675 16ZM21.455 26.13l.78 5.455 9.35-9.35-5.454-.78M27.429 27.429 32 32" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>'},j7BF:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useHotspotCanvasAttemptEditor=t.CanvasAttemptEditor=void 0;const n=s("D57K"),i=s("ERkP"),a=n.__importDefault(s("6wTA")),o=s("nsO7"),l=s("fN3Q"),r=s("2WjX"),u=s("QrEl"),c=s("/VhE"),d=s("6ERf");class m extends d.CommonCanvasEditor{constructor(e,t,s){super(e,s),this.onUpdateHotspotPins=t,this.hotspotPinMap={},this.hotspotMap={}}setOnUpdateHotspotPins(e){this.onUpdateHotspotPins=e}addNewHotspotPin(){this.addHotspotPin({})}addExistingHotspotPin(e,t){this.addHotspotPin({coordinateInfo:e,position:t})}addReadonlyHotspotPin(e){this.addHotspotPin({coordinateInfo:e,isReadonly:!0})}addCorrectnessHotspotPin(e,t){this.addHotspotPin({coordinateInfo:e,isReadonly:!0,isCorrectAnswer:t})}addHotspotPin({isReadonly:e,coordinateInfo:t,isCorrectAnswer:s,position:n}){const i=!t,a=i?(0,l.v4)():t.hotspotPinId,u={pinId:a,isPinMovable:!e,creationCallback:s=>{this.positionHotspotPin(s,null==t?void 0:t.coordinates),this.addObjectToCanvas(s),e||(i&&this.canvas.setActiveObject(s),s.on("modified",(()=>{this.hotspotObjectUpdated()}))),s.on("moving",(()=>{const{top:e,left:t}=s;s.set({top:(0,c.calculateVisibleFabricObjTopOrLeft)(e,this.canvas.height,this.canvasScale),left:(0,c.calculateVisibleFabricObjTopOrLeft)(t,this.canvas.width,this.canvasScale)}),s.setCoords()})),this.hotspotPinMap[a]={object:s,position:Number.isFinite(n)?n:this.getNextHotspotObjectNumber()},this.resizeAllObjects(this.canvasScale),i&&this.hotspotObjectUpdated()}};(0,o.isBoolean)(s)?(0,r.createHotspotCorrectnessPin)({...u,isCorrectAnswer:s}):(0,r.createRegularHotspotPin)(u)}addReadonlyHotspot(e){this._addReadonlyHotspotObject(e,(({hotspot:e,id:t})=>{this.hotspotMap[t]=e}))}positionHotspotPin(e,t){let s;if(t)s=(0,c.getPinCoordinates)(t);else{const{width:e,height:t}=this.canvas.backgroundImage;s=(0,c.getCenterCanvasPosition)(e,t)}e.set(s),e.setCoords()}hotspotObjectUpdated(){const e=[];Object.values(this.hotspotPinMap).forEach((t=>{const{object:s}=t;e.push({hotspotPinId:s.id,coordinates:(0,c.getLearnCoordinates)(s)})})),this.onUpdateHotspotPins(e)}modifyPin(e){const t=this.canvas.getActiveObjects();if(1!==t.length)return;const s=this.hotspotPinMap[t[0].id].object;if(!s)return;const{top:n,left:i}=s,{top:a,left:o}=e,l={};a&&Number.isFinite(a)&&(l.top=(0,c.calculateVisibleFabricObjTopOrLeft)(n+a,this.canvas.height,this.canvasScale)),o&&Number.isFinite(o)&&(l.left=(0,c.calculateVisibleFabricObjTopOrLeft)(i+o,this.canvas.width,this.canvasScale)),s.set({...l}),s.setCoords(),s.saveState(),this.hotspotObjectUpdated(),this.canvas.requestRenderAll()}getHotspotPinMapValueByPosition(e){return super.getPositionedHotspotMapValueByPosition(e)}deleteSelectedHotspotPins(){super._deleteSelectedHotspotObjects()}deleteSingleObjectFromCanvasAndMap(e){super._deleteSingleObjectFromCanvasAndMap(e)}getNumHotspotPinsOnCanvas(){return this.getHotspotObjectCount()}getNumHotspotsOnCanvas(){return Object.keys(this.hotspotMap).length}resizeAllObjects(e){this.setCanvasScale(e),Object.values(this.hotspotPinMap).forEach((t=>{t.object.resize(e)})),Object.values(this.hotspotMap).forEach((t=>{t.resize(e)})),this.canvas.requestRenderAll()}getPositionedHotspotObjectMap(){return this.hotspotPinMap}}n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function]),n.__metadata("design:returntype",void 0)],m.prototype,"setOnUpdateHotspotPins",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],m.prototype,"addNewHotspotPin",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Number]),n.__metadata("design:returntype",void 0)],m.prototype,"addExistingHotspotPin",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],m.prototype,"addReadonlyHotspotPin",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Boolean]),n.__metadata("design:returntype",void 0)],m.prototype,"addCorrectnessHotspotPin",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],m.prototype,"addHotspotPin",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],m.prototype,"addReadonlyHotspot",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,String]),n.__metadata("design:returntype",void 0)],m.prototype,"positionHotspotPin",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],m.prototype,"hotspotObjectUpdated",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],m.prototype,"modifyPin",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Number]),n.__metadata("design:returntype",void 0)],m.prototype,"getHotspotPinMapValueByPosition",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],m.prototype,"deleteSelectedHotspotPins",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",Number)],m.prototype,"getNumHotspotPinsOnCanvas",null),n.__decorate([a.default,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Number]),n.__metadata("design:returntype",void 0)],m.prototype,"resizeAllObjects",null),t.CanvasAttemptEditor=m;t.useHotspotCanvasAttemptEditor=(e,t,s)=>{const{canvas:n,onReady:a,hasActiveHotspotObjSelection:o,onResizeCanvas:l,canvasScale:r}=(0,u.useHotspotCanvas)(e,t),[c,d]=(0,i.useState)();(0,i.useEffect)((()=>{c&&c.setOnUpdateHotspotPins(s)}),[c,s]),(0,i.useEffect)((()=>{n&&!c&&Number.isFinite(r)&&d(new m(n,s,r))}),[n,s,r]),(0,i.useEffect)((()=>{n&&c&&Number.isFinite(r)&&c.resizeAllObjects(r)}),[n,c,r]);return{onReady:e=>{a(e)},canvasEditor:c,onResizeCanvas:l,hasActiveHotspotObjSelection:o}}},jFIz:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolPanel=void 0;const n=s("D57K"),i=n.__importStar(s("nsO7")),a=s("Zwiy"),o=s("8jBL"),l=s("myse"),r=n.__importDefault(s("ERkP")),u=s("FS8K"),c=s("uDfI"),d=s("9OUN"),m=s("IbyE"),p=s("Y+9S");s("YbTi");const f=n.__importDefault(s("XGZl")),h=n.__importDefault(s("tM/P")),g=n.__importDefault(s("3jit")),y=s("FrRx"),v=s("Y+9S");class b extends r.default.Component{constructor(e){if(super(e),this.dismissPanel=()=>this.state.isAnyQuestionDirty?(this.setCloseDialogVisibility(!0),!1):((0,p.notifyMobileApp)(p.MessageType.QuestionPoolPanelClosed),this.props.closePanel(),!0),this.setCloseDialogVisibility=e=>{this.setState({isShowingCloseDialog:e})},this.hasMoreQuestions=()=>this.state.paging&&!i.isEmpty(this.state.paging.nextPage),this.onLoadMoreButtonClick=()=>{this.loadMoreQuestions(!0)},this.getLoadMoreQuestionsButtonText=()=>{const{localize:e}=this.props,{offset:t,count:s}=this.state.paging,n=b.QUESTION_POOL_QUESTION_LOAD_LIMIT,i=t+n;if(this.hasMoreQuestions()){const t=s-i>n?n:s-i;return e.translate("questionPools.moreQuestions.enabled",{count:t})}return e.translate("questionPools.moreQuestions.disabled")},this.loadMoreQuestions=e=>{const{courseId:t,assessmentId:s,questionPoolId:n,loadQuestionsFromQuestionBlock:i}=this.props;if(this.state.isLoadingQuestions||!this.hasMoreQuestions())return;this.setState((()=>({isLoadingQuestions:!0})));i({courseId:t,assessmentId:s,questionBlockId:n,offset:this.state.paging.offset+b.QUESTION_POOL_QUESTION_LOAD_LIMIT,limit:b.QUESTION_POOL_QUESTION_LOAD_LIMIT}).then((t=>{this.setState((s=>{const n=e?t.questions[0].id:s.firstNewQuestionBankId;return{paging:t.paging,isLoadingQuestions:!1,firstNewQuestionBankId:n,totalQuestionCount:t.paging.count}}))}))},this.addQuestionsToPool=()=>{const{closePanel:e,openQuestionPicker:t}=this.props;e(!0),t()},this.deleteQuestionFromPool=(...e)=>{this.props.deleteQuestionFromQuestionBlock(...e).then((()=>{this.setState((e=>({totalQuestionCount:e.totalQuestionCount-1})))}))},this.setIsAnyQuestionDirty=e=>{this.setState({isAnyQuestionDirty:e})},this.state={isAnyQuestionDirty:!1,isShowingCloseDialog:!1,totalQuestionCount:0,isLoadingQuestions:void 0,paging:void 0,firstNewQuestionBankId:void 0},(0,p.isInMobileApp)()){const t={type:p.MessageType.QuestionPoolPanelOpened,status:p.MessageStatus.Success,pageTitle:e.localize.translate("questionPools.panelHeader")};(0,p.sendMessageToMobile)(t),(0,v.dismissPanel)(this.dismissPanel)}}componentWillUnmount(){(0,v.dismissPanel)(void 0)}UNSAFE_componentWillMount(){const{courseId:e,assessmentId:t,questionPoolId:s}=this.props;if(e){this.setState({isLoadingQuestions:!0});const n={courseId:e,assessmentId:t,questionBlockId:s,limit:b.QUESTION_POOL_QUESTION_LOAD_LIMIT};this.props.loadQuestionsFromQuestionBlock(n).then((e=>{this.setState({paging:e.paging,isLoadingQuestions:!1,totalQuestionCount:e.paging.count})}))}}render(){const{closePanel:e,courseId:t,localize:s,hasSubmissions:n,hasAssessmentModifyPermissions:i,questions:u,assessmentTitle:c,persistQuestion:d,assessmentId:m,questionPoolId:p,localizationPrefix:y,analyticsEventAugmentor:v,commonContext:b,supportsInlineDocumentRender:P,loadMoreQuestions:_}=this.props,{firstNewQuestionBankId:C,isLoadingQuestions:S,isShowingCloseDialog:A,paging:Q,totalQuestionCount:E}=this.state,w="questionPool.panel.add.button",k=v(l.AnalyticsEventTypes.CLICK_EVENT,this.addQuestionsToPool,w),I="questionPools.moreQuestions.enabled"+(this.hasMoreQuestions()?"enabled":"disabled"),D=v(l.AnalyticsEventTypes.CLICK_EVENT,this.onLoadMoreButtonClick,I),q={url:s.translate("questionPools.pageHelpUrl")};return r.default.createElement(a.BbPanel,{isOpen:!0,type:a.BbPanelType.full,onDismiss:this.dismissPanel,excludeContentPadding:!0,closeButtonAriaLabel:s.translate("questionPools.cancel"),className:"question-pool-panel",pageHelpProps:q,stackIndex:3,analyticsId:"questionPools.panel",heightOffset:b.panelHeightOffset,layerProps:{className:"question-pool-layer-wrapper"}},r.default.createElement(a.BbPanelHeader,{smallHeaderTitle:c,title:s.translate("questionPools.panelHeader"),analyticsId:"questionPools.panelHeader",navMenuAriaLabel:s.translate("global.navigationMenu")}),r.default.createElement("div",{className:"question-pool-panel__content-scroll-wrapper"},r.default.createElement("div",{className:"question-pool-panel__content"},u&&r.default.createElement("div",{className:"question-pool-panel__top-bar"},r.default.createElement("span",{className:"question-pool-panel__question-count"},s.translate("questionPools.questionCount",{count:E})),i&&!n&&r.default.createElement("button",{className:"question-pool-panel__add-button-container button clear",onClick:k,"data-analytics-id":w},r.default.createElement("span",{className:"question-pool-panel__add-button-label"},s.translate("questionPools.addQuestionButtonLabel")),r.default.createElement(o.AddCircle,{id:"question-pool-panel_add-button-icon"}))),r.default.createElement(f.default,{courseId:t,questions:u,hasSubmissions:n,hasAssessmentModifyPermissions:i,deleteQuestion:this.deleteQuestionFromPool,isLoading:S,firstNewQuestionBankId:C,setIsAnyQuestionDirty:this.setIsAnyQuestionDirty,persistQuestion:d,questionPoolId:p,assessmentId:m,localizationPrefix:y,supportsInlineDocumentRender:P,loadMoreQuestions:this.loadMoreQuestions}),Q&&r.default.createElement("button",{className:"question-pool-panel__load-more-button",onClick:D,"data-analytics-id":I,disabled:!this.hasMoreQuestions()},this.getLoadMoreQuestionsButtonText()),u&&0===u.length&&!S&&r.default.createElement(g.default,null))),A&&r.default.createElement(h.default,{setCloseDialogVisibility:this.setCloseDialogVisibility,closePanel:e}))}}t.QuestionPoolPanel=b,b.QUESTION_POOL_QUESTION_LOAD_LIMIT=50;const P=(0,c.connect)(((e,t)=>({questions:m.select.question.getQuestionsByQuestionBlockId(e,t.questionPoolId)})),(e=>(0,d.bindActionCreators)({loadQuestionsFromQuestionBlock:m.actions.question.loadQuestionsFromQuestionBlock,deleteQuestionFromQuestionBlock:m.actions.question.deleteQuestionFromQuestionBlock},e)))(b);t.default=(0,u.localizedComponentWrapper)((0,y.withAssessmentCommonContext)((0,l.withAnalytics)(P)))},kEh4:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseQuestionAttemptView=t.NavigationOptions=t.QuestionStatusFilter=t.FREEFORM_IDENTIFIER=void 0;const n=s("zGdY"),i=s("QQVi"),a=s("AuQm"),o=[n.QuestionType.Essay],l=Object.values(n.QuestionType);var r,u;t.FREEFORM_IDENTIFIER="freeform",function(e){e[e.Answered=0]="Answered",e[e.Unanswered=1]="Unanswered",e[e.All=2]="All"}(r=t.QuestionStatusFilter||(t.QuestionStatusFilter={})),function(e){e.First="first",e.Previous="previous",e.Next="next",e.Last="last"}(u=t.NavigationOptions||(t.NavigationOptions={}));t.BaseQuestionAttemptView=class{constructor(e,t,s,n,i){this.questionAttempts=[],this.questionAttemptPages=[],this.questionAttemptLookup={},this.currentPageIndex=0,this.firstQuestionOnCurrentPageIndex=0,this.firstPageIndex=null,this.previousPageIndex=null,this.nextPageIndex=null,this.lastPageIndex=null,this.numberOfManualPageBreaks=0,this.questionStatusesById={},this.queuedFiltering=!1,this.queuedNavigation=null,this.questionTypes=[],this.currentVisibleQuestionAttemptsPage=[],this.canNavigateBackward=!1,this.canNavigateForward=!1,this.answerableQuestionCount=0,this.unansweredQuestionCount=0,this.questionsMatchingFilterCount=0,this.totalPageCount=0,this.currentPageCount=0,this.filter={status:r.All},this.onNavigationOrFilterChanged=()=>{},this.onAutoSaveStatusChanged=(e,t,s)=>{if(!e)return;const n=this.questionStatusesById[e];n?(t>n.saveNumber&&(n.saveNumber=t),t===n.saveNumber&&(n.current=s)):this.questionStatusesById[e]={saveNumber:t,current:s},this.hasSuccessfullyFinishedAllPendingSaves(this.questionStatusesById[e])&&this.processQueuedNavigationAndFiltering()},this.onAnswerPersisted=e=>{const t=this.questionAttemptLookup[e.id];t&&("unansweredAnswerableQuestions"in e&&(t.unansweredAnswerableQuestions=e.unansweredAnswerableQuestions),"attemptStatus"in e&&(t.attemptStatus=e.attemptStatus),"givenAnswer"in e&&(t.givenAnswer=e.givenAnswer),"givenAnswers"in e&&(t.givenAnswers=e.givenAnswers)),this.calculateUnansweredQuestionCount()},this.attemptId=e,this.courseId=t,this.dispatch=s,this.showSkipQuestionDialog=n,this.onAfterAsyncViewAction=i}initializeQuestionTypes(){const e=new Set(this.questionAttempts.map((({questionType:e})=>e)));this.questionTypes=l.filter((t=>o.includes(t)&&e.has(t)))}isAnswerable(e){return e.questionType!==n.QuestionType.PresentationOnly&&e.questionType!==n.QuestionType.PageBreak}augmentCurrentQuestionAttempt(e,t,s){const n=e;return n.onAnswerPersisted=this.onAnswerPersisted,n.questionIndex=t,n.pageIndex=s,n.isVisibleGivenFilter=!0,this.questionAttemptLookup[n.id]=n,n}calculateUnansweredQuestionCount(){this.unansweredQuestionCount=this.questionAttempts.filter(i.isUnansweredQuestion).length}setCurrentVisibleQuestionAttemptsPage(e=!1){var t;this.currentVisibleQuestionAttemptsPage=[];const s=null!==(t=this.questionAttemptPages[this.currentPageIndex])&&void 0!==t?t:[];this.currentVisibleQuestionAttemptsPage=s.filter((e=>e.isVisibleGivenFilter)),e&&null!==this.firstPageIndex?this.navigateFirst():0===this.currentVisibleQuestionAttemptsPage.length&&(null!==this.firstPageIndex?this.navigateFirst():null!==this.nextPageIndex&&this.navigateNext())}currentPageHasUnsavedAnswers(){return Object.keys(this.questionStatusesById).some((e=>{const t=this.questionStatusesById[e];return t&&!this.hasSuccessfullyFinishedAllPendingSaves(t)}))}hasManualPageBreaks(){return this.numberOfManualPageBreaks>0}onFilterChanged(e,t=!1){this.filter=e,this.currentPageHasUnsavedAnswers()?this.queuedFiltering=!0:(this.firstPageIndex=null,this.previousPageIndex=null,this.nextPageIndex=null,this.lastPageIndex=null,this.questionsMatchingFilterCount=0,this.calculateNavigationState(),this.processQuestionAttemptsBackwards(e),this.processQuestionAttemptsForwards(e),this.setCurrentVisibleQuestionAttemptsPage(t),this.questionStatusesById={},this.calculateNavigationState(),this.onNavigationOrFilterChanged())}processQuestionAttemptsBackwards(e){if(this.currentPageIndex>0)for(let t=this.firstQuestionOnCurrentPageIndex-1;t>=0;t--){const s=this.isQuestionAttemptVisible(t,e);s&&null===this.previousPageIndex&&(this.previousPageIndex=this.questionAttempts[t].pageIndex),s&&(this.firstPageIndex=this.questionAttempts[t].pageIndex)}}processQuestionAttemptsForwards(e){for(let t=this.firstQuestionOnCurrentPageIndex;t<this.questionAttempts.length;t++){const s=this.isQuestionAttemptVisible(t,e),n=this.questionAttempts[t].pageIndex;s&&n>this.currentPageIndex&&null===this.nextPageIndex&&(this.nextPageIndex=this.questionAttempts[t].pageIndex),s&&n>this.currentPageIndex&&(this.lastPageIndex=this.questionAttempts[t].pageIndex)}}isQuestionAttemptVisible(e,t){if(t){const s=this.evaluateQuestionAgainstFilter(this.questionAttempts[e],t);return this.questionsMatchingFilterCount+=s&&this.isAnswerable(this.questionAttempts[e])?1:0,s}return this.questionAttempts[e].isVisibleGivenFilter}evaluateQuestionAgainstFilter(e,t){let s=!0;return"status"in t&&(s=t.status===r.Answered&&e.attemptStatus!==n.AttemptStatus.NotAttempted&&this.isAnswerable(e)||t.status===r.Unanswered&&e.attemptStatus===n.AttemptStatus.NotAttempted&&this.isAnswerable(e)||t.status===r.All),s&&t.types&&(s=t.types.some((t=>t===e.questionType))),e.isVisibleGivenFilter=s,s}calculateNewPageIndexesAfterNavigating(){this.firstPageIndex=null,this.previousPageIndex=null,this.nextPageIndex=null,this.lastPageIndex=null,this.calculateNavigationState(),this.processQuestionAttemptsBackwards(),this.processQuestionAttemptsForwards(),this.calculateNavigationState()}processQueuedNavigationAndFiltering(){this.currentPageHasUnsavedAnswers()||(null!=this.queuedNavigation&&this.onAfterAsyncViewAction((()=>{const e=this.queuedNavigation;switch(this.queuedNavigation=null,e){case u.First:this.navigateFirst();break;case u.Previous:this.navigatePrevious();break;case u.Next:this.navigateNext();break;case u.Last:this.navigateLast()}})),this.queuedFiltering&&this.onAfterAsyncViewAction((()=>{this.queuedFiltering=!1,this.onFilterChanged(this.filter)})))}isPageable(){return!1}hasFilterApplied(){return"status"in this.filter&&this.filter.status!==r.All||"types"in this.filter}hasUnansweredFilterApplied(){return"status"in this.filter&&this.filter.status===r.Unanswered&&!("types"in this.filter)}isFilterable(){return this.answerableQuestionCount>0}isWaitingForQueuedNavigationOrFiltering(){return this.queuedFiltering||!!this.queuedNavigation}isWaitingForAnswersToPersist(){for(const[,e]of Object.entries(this.questionStatusesById))if(!this.hasSuccessfullyFinishedAllPendingSaves(e)&&!this.hasUnsuccessfullyFinishedAllPendingSaves(e))return!0;return!1}isFreeformSaveFailed(){const e=this.questionStatusesById[t.FREEFORM_IDENTIFIER];return!!e&&!this.hasSuccessfullyFinishedAllPendingSaves(e)}hasSuccessfullyFinishedAllPendingSaves(e){return e.current===a.AutoSaveMessage.Saved}hasUnsuccessfullyFinishedAllPendingSaves(e){return e.current===a.AutoSaveMessage.SaveFailure}setNavigationOrFilteringChangedCallback(e){this.onNavigationOrFilterChanged=e}}},kKUj:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentNavButton=void 0;const n=s("D57K"),i=n.__importStar(s("ERkP")),a=n.__importDefault(s("7O4Y")),o=s("tN4z"),l=s("mrT9"),r=s("g3BG"),u=s("Nidp");t.AssessmentNavButton=({id:e,label:t,ariaLabel:s,icon:n,navigate:c,onClick:d,disabled:m})=>{const p=(0,r.useStyles)(),f=c===u.NavigationDirection.Forward?p.forwardSectionRoot:p.backwardSectionRoot,h=c===u.NavigationDirection.Forward?p.forwardSectionLabel:p.backwardSectionLabel;return i.createElement(o.AnalyticsIconButton,{name:e,"aria-label":s,analyticsId:`assessments.navigation-button.${e}-nav-button`,onClick:()=>d(e),disabled:m,classes:{root:(0,a.default)(p.button,f,`js-assessment-navigation-${e}-button`),label:h}},n,i.createElement(l.Typography,{component:"span",className:p.buttonLabel},t))}},kNCT:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnwrappedAssessmentCanvas=t.parseCopyQuestionTaskObjFromPref=void 0;const n=s("D57K"),i=n.__importStar(s("nsO7")),a=n.__importStar(s("ERkP")),o=s("9OUN"),l=s("uDfI"),r=s("FS8K"),u=s("MC1S"),c=s("AuQm"),d=s("IbyE"),m=s("zGdY"),p=s("0x+l"),f=n.__importDefault(s("EuXa")),h=n.__importDefault(s("vQ80")),g=n.__importDefault(s("gwoz")),y=n.__importDefault(s("XeZT")),v=n.__importDefault(s("J5Zj")),b=n.__importDefault(s("lun3")),P=s("sptZ"),_=n.__importDefault(s("XdWh")),C=n.__importDefault(s("83QM")),S=n.__importDefault(s("8tZv")),A=s("4yoV"),Q=s("9i9V");s("XL7N");const E=s("tN4z"),w=s("+fsM"),k=s("y7VM"),I=s("6rLV"),D=s("3le2"),q=e=>`assessmentCopyQuestionsTaskId${i.replace(e,/_/g,".")}`;class T extends a.Component{constructor(e){super(e),this.contextualMenuId="assessment-canvas-add-content-menu",this.AddButton=e=>a.default.createElement(f.default,{index:e.index,show:!this.state.questionBeingEditedId,onToggleAddMenu:this.onToggleAddMenu,onDismissAddMenu:this.onDismissAddMenu,isMenuOpen:this.state.openAddMenuIndex===e.index,isBlankCanvas:!this.state.questions.length,buttonAriaLabel:e.buttonAriaLabel,removedFromTabOrder:this.state.isCopyingQuestions,analyticsId:"assessmentCanvas.addQuestionButton",buttonAriaControls:this.contextualMenuId}),this.initCopyQuestionsStatusDisplay=e=>{const{loadCoursePreference:t}=this.props;t({key:q(e.id),courseId:e.courseId}).then((()=>{const e=this.props.copyQuestionTaskPref;if(e){const t="start",s=e.taskId,n=e.questionCount;this.getAndDisplayUpdatedCopyQuestionsTaskStatus(s,t,n),this.setPeriodicCheckOnCopyQuestionsTaskStatus(s,t,n)}}))},this.isAnyQuestionDirty=()=>this.state.questionBeingEditedIsDirty,this.areQuestionsRandomized=()=>{const{content:e}=this.props;return e&&e.deploymentSettings&&e.deploymentSettings.isRandomizationOfQuestionsRequired},this.isDisplayOneQuestionAtATimeEnabled=()=>{var e;const{content:t}=this.props;return(null===(e=null==t?void 0:t.deploymentSettings)||void 0===e?void 0:e.deliveryType)===m.AssessmentDeliveryType.Item},this.isCollectExternalSubmissions=()=>{const{content:e}=this.props;return e&&e.deploymentSettings&&e.deploymentSettings.isCollectExternalSubmissions},this.sortByPosition=e=>i.sortBy(e,"position"),this.getPageNumbersAndCount=e=>{const t=this.getPageCount(e);let s=1;return e.map((e=>e.questionType===m.QuestionType.PageBreak?(s+=1,{...e,pageNumber:s,pageCount:t}):e))},this.hasSettingsEnabledBlockingAddOfNonPOQuestions=()=>this.hasAnonymousGrading()||this.hasRubricAssociations()||this.isCollectExternalSubmissions()||this.hasDelegatedGrading()||this.hasPeerGrading(),this.checkAndDisableAssessmentSettings=e=>{this.hasSettingsEnabledBlockingAddOfNonPOQuestions()?this.displayWarningDialog((()=>this.checkAndDisableAssessmentSettings(e))):e&&e()},this.displayWarningDialog=e=>{this.hasRubricAssociations()?this.showRubricAssociationsDialog(e):this.hasAnonymousGrading()?this.showAnonymousGradingDialog(e):this.isCollectExternalSubmissions()?this.showExternalSubmissionsDialog(e):this.hasDelegatedGrading()?this.showDelegatedGradingDialog(e):this.hasPeerGrading()&&this.showPeerGradingDialog(e)},this.addQuestion=e=>{this.checkAndDisableAssessmentSettings((()=>this.createQuestion(e)))},this.addQuestionPool=()=>{this.checkAndDisableAssessmentSettings(this.openQuestionPoolQuestionPicker)},this.reuseQuestions=()=>{this.checkAndDisableAssessmentSettings(this.openReuseQuestionPicker)},this.createQuestion=e=>{const{assessment:t,createQuestion:s}=this.props,n=this.calculateQuestionPositionAfter();s(t.id,n,e)},this.hideWarningDialog=()=>{this.setState({isShowingWarningDialog:!1})},this.showAnonymousGradingDialog=e=>{this.showWarningDialog("anonymousGrading",this.removeAnonymousGrading,e)},this.showPeerGradingDialog=e=>{this.showWarningDialog("peerGrading",this.removePeerGrading,e)},this.showRubricAssociationsDialog=e=>{this.showWarningDialog("rubricAssociations",this.removeRubricAssociations,e)},this.showDelegatedGradingDialog=e=>{this.showWarningDialog("delegatedGrading",this.removeDelegatedGrading,e)},this.showAutopostNotification=()=>{var e;(null===(e=this.props.gradebookColumn)||void 0===e?void 0:e.autoPostGrades)&&this.setState({isShowingAutopostNotification:!0})},this.removeAnonymousGrading=()=>{const{gradebookColumn:e,persistGradebookColumn:t}=this.props;t(e,{...e,anonymousGrading:!1}).then((()=>{this.hideWarningDialog(),this.state.disableAssessmentSettingCallback()})).catch(this.hideWarningDialog)},this.removeRubricAssociations=()=>{const{gradebookColumn:e,removeRubricAssociations:t}=this.props;t(e.id).then((()=>{this.hideWarningDialog(),this.state.disableAssessmentSettingCallback()})).catch(this.hideWarningDialog)},this.removeDelegatedGrading=()=>{const{gradebookColumn:e,persistGradebookColumn:t}=this.props;t(e,{...e,delegatedGrading:!1}).then((()=>{this.hideWarningDialog(),this.state.disableAssessmentSettingCallback()})).catch(this.hideWarningDialog)},this.removePeerGrading=()=>{const{content:e,persistContent:t}=this.props;t(e,{...e,contentDetail:{[d.ContentHandler.TestLink.handle]:{test:{deployedAssessmentType:m.DeployedAssessmentType.Test,gradingColumn:{peerGrading:!1,delegatedGrading:!1},peerSettings:{peerReviewDueDate:null,peerReviewsPerStudent:null,allowLatePeerReviews:null,evaluationColumnName:null}}}}}).then((()=>{this.hideWarningDialog(),this.state.disableAssessmentSettingCallback()})).catch(this.hideWarningDialog)},this.showRandomizeDialog=(e=i.noop)=>{this.showWarningDialog("randomize",this.disableRandomization,e)},this.disableRandomization=()=>{const{content:e,persistContent:t}=this.props,s=e,n={...e,deploymentSettings:{...e.deploymentSettings,isRandomizationOfQuestionsRequired:!1}};this.hideWarningDialog(),t(s,n),this.state.disableAssessmentSettingCallback()},this.showExternalSubmissionsDialog=(e=i.noop)=>{this.showWarningDialog("externalSubmissions",this.disableExternalSubmissions,e)},this.disableExternalSubmissions=()=>{const{content:e,persistContent:t}=this.props;t(e,{...e,deploymentSettings:{...e.deploymentSettings,isCollectExternalSubmissions:!1}}).then((()=>{this.hideWarningDialog(),this.state.disableAssessmentSettingCallback()}))},this.addPresentationOnlyQuestion=(e,t=!0)=>{if(t&&this.areQuestionsRandomized()){const t=()=>this.addPresentationOnlyQuestion(e,!1);this.showRandomizeDialog(t)}else switch(e){case m.QuestionSubType.CloudFile:this.addFiles({openCloudStorageIntegrationModal:this.props.editorPluginsConfig.insertCloudStorageIntegrationFile.openCloudStorageIntegrationModal});break;case m.QuestionSubType.File:this.addFiles({multiple:!0});break;default:this.addText()}},this.addText=()=>{const{assessment:e,createQuestion:t}=this.props,s=this.calculateQuestionPositionAfter();t(e.id,s,m.QuestionType.PresentationOnly,{subType:m.QuestionSubType.Text})},this.addFiles=e=>{const{assessment:t,createQuestion:s,localize:n,fileUploadSettings:i}=this.props,a=e=>{let t="";return e.forEach((e=>{t+=(0,A.createFileLink)(e)})),t},o=this.props.features.supportsInlineDocumentRender;(0,Q.uploadFiles)({supportsInlineDocumentRender:o,localeProps:n.getLocalePropsForClone(),...e,fileUploadSettings:i}).then((e=>{const n=this.calculateQuestionPositionAfter();s(t.id,n,m.QuestionType.PresentationOnly,{subType:m.QuestionSubType.File,questionText:{rawText:a(e)}})}))},this.calculateQuestionPositionAfter=()=>{const e=this.state.addMenuTarget?this.state.addMenuTarget.props.index:0;return 0===e?"start":this.state.questions[e-1].id},this.openPoolQuestionPanel=e=>{this.props.applyAccessibilityHandling&&this.props.applyAccessibilityHandling(),this.setState({activeQuestionPoolId:e,isShowingQuestionPoolPanel:!0})},this.closeQuestionPoolPanel=(e=!1)=>{this.setState({isShowingQuestionPoolPanel:!1,...!e&&{activeQuestionPoolId:null}})},this.openReuseQuestionPicker=()=>{this.props.applyAccessibilityHandling&&this.props.applyAccessibilityHandling(),this.setState({isShowingReuseQuestionPicker:!0}),this.dismissCopyQuestionsStatusBanner()},this.openQuestionPoolQuestionPicker=()=>{this.props.applyAccessibilityHandling&&this.props.applyAccessibilityHandling(),this.setState({isShowingQuestionPoolQuestionPicker:!0}),this.dismissCopyQuestionsStatusBanner()},this.addQuestionsToEmptyPoolFromAssessmentCanvas=e=>{this.setState({activeQuestionPoolId:e},(()=>this.openQuestionPoolQuestionPicker()))},this.closeQuestionPoolQuestionPicker=(e=null,t)=>{const{revertAccessibilityHandling:s}=this.props,{activeQuestionPoolId:n}=this.state;e?(e.includesManuallyGradedQuestions&&this.showAutopostNotification(),this.setState((()=>({isShowingQuestionPoolQuestionPicker:!1})),(()=>{s&&s(),n?this.addQuestionsToPool(e):this.createQuestionPool(e,t)}))):this.setState((()=>({isShowingQuestionPoolQuestionPicker:!1})),(()=>s&&s()))},this.closeReuseQuestionPanel=(e=null,t)=>{const{revertAccessibilityHandling:s}=this.props;e?(e.includesManuallyGradedQuestions&&this.showAutopostNotification(),this.setState((()=>({isShowingReuseQuestionPicker:!1})),(()=>{s&&s(),this.copyQuestions(e,t)}))):this.setState((()=>({isShowingReuseQuestionPicker:!1})),(()=>s&&s()))},this.addQuestionsToPool=e=>{const{assessmentId:t,questionIds:s,selectAll:n,searchCriteria:i,excludeIds:a}=e,{addQuestionsToPool:o,courseId:l}=this.props;o(l,t,this.state.activeQuestionPoolId,{questionIds:s,selectAll:n,searchCriteria:i,excludeIds:a})},this.createQuestionPool=(e,t)=>{const{assessmentId:s,positionAfter:n,questionIds:i,selectAll:a,searchCriteria:o,excludeIds:l}=e,{createQuestion:r}=this.props;r(s,n,m.QuestionType.QuestionBlock,{questionIds:i,selectAll:a,searchCriteria:o,excludeIds:l,questionCount:t})},this.copyQuestions=(e,t)=>{T.shouldCallCopyQuestionsQueued(t)?(this.displayCopyQuestionsInProgress(e.positionAfter,t),this.copyQuestionsQueued(e,t)):(this.displayCopyQuestionsInProgress(e.positionAfter,t),this.copyQuestionsDirect(e))},this.copyQuestionsQueued=(e,t)=>{(0,d.copyQuestionsQueued)(e).then((s=>{this.updateCopyQuestionsTaskPref(s.taskId,t),this.displayAndUpdateCopyQuestionsStatusInfo(s,e.positionAfter,t)}),(e=>{this.props.setError(e.error)}))},this.persistFeedbackSettings=()=>{const{content:e,persistContent:t}=this.props,s={[m.AssessmentFeedbackMode.AfterSubmission]:{options:[m.AssessmentFeedbackOption.InstructorFeedback,m.AssessmentFeedbackOption.UserAnswers,m.AssessmentFeedbackOption.AllAnswers]},[m.AssessmentFeedbackMode.AfterAttemptGraded]:{options:[m.AssessmentFeedbackOption.Score]}};t(e,{...e,deploymentSettings:{...e.deploymentSettings,feedbackSettings:s}}).then((()=>{this.hideWarningDialog(),this.state.disableAssessmentSettingCallback()}))},this.showFeedbackSettingsChangeDialog=e=>{this.showWarningDialog("enableStudentSubmissionView",this.persistFeedbackSettings,e)},this.persistAllowStudentSubmission=e=>{const{content:t,persistContent:s}=this.props;s(t,{...t,deploymentSettings:{allowStudentSubmission:e,id:t.deploymentSettings.id}})},this.handleAllowStudentSubmissionChange=()=>{const{assessment:e,content:t}=this.props,s=null==e?void 0:e.hasAnswerableQuestions,n=this.hasSubmissions();s&&!n&&this.persistAllowStudentSubmission(!t.deploymentSettings.allowStudentSubmission)},this.isSubmissionViewHidden=()=>{var e,t;const{content:s}=this.props;return!!(null===(t=null===(e=null==s?void 0:s.deploymentSettings)||void 0===e?void 0:e.feedbackSettings)||void 0===t?void 0:t.ns)},this.checkAllowStudentSubmission=()=>{const{content:e,assessment:t}=this.props,s=null==t?void 0:t.hasAnswerableQuestions;return!1===s&&!1===e.deploymentSettings.allowStudentSubmission?(this.persistAllowStudentSubmission(!0),!0):!s},this.copyQuestionsDirect=e=>{(0,d.copyQuestions)(e).then((t=>{this.displayCopyQuestionsComplete(e.positionAfter,t.status),this.loadQuestions()}),(e=>{this.props.setError(e.error)}))},this.loadQuestions=()=>{const{assessment:e,loadQuestions:t}=this.props;this.setState((()=>({isLoadingInProgress:!0}))),t({courseId:e.courseId,assessmentId:e.id,refreshState:!0,offset:0}).then((()=>{this.setState((()=>({isLoadingInProgress:!1})))}))},this.updateCopyQuestionsTaskPref=(e,t)=>{const{assessment:s,saveCoursePreference:n}=this.props,i={taskId:e,questionCount:t};n(q(s.id),JSON.stringify(i),s.courseId)},this.deleteCopyQuestionsTaskPref=()=>{const{assessment:e,copyQuestionTaskPref:t,deleteCoursePreference:s}=this.props;if(t){s({key:q(e.id),courseId:e.courseId})}},this.displayAndUpdateCopyQuestionsStatusInfo=(e,t,s)=>{this.displayCopyQuestionsStatusInfo(e,t,s),this.setPeriodicCheckOnCopyQuestionsTaskStatus(e.taskId,t,s)},this.displayCopyQuestionsStatusInfo=(e,t,s)=>{if(T.hasCopyQuestionsTaskFinishedProcessing(e.taskStatus)){const{results:s}=e;this.displayCopyQuestionsComplete(t,s&&s.status,!1,this.dismissCopyQuestionsStatusBanner.bind(this))}else this.displayCopyQuestionsInProgress(t,s)},this.displayCopyQuestionsComplete=(e,t,s,n)=>{if(!this.state.notification||this.state.notification.type===u.NotificationType.Processing){const i=(0,P.copyQuestionsResultNotification)({positionAfter:e,copyStatus:t,autoDismiss:s,dismissNotification:n});this.setState((()=>({isCopyingQuestions:!1,notification:i})))}},this.displayCopyQuestionsInProgress=(e,t)=>{if(!this.state.notification||this.state.notification.type!==u.NotificationType.Processing){const s=(0,P.processingStageNotification)(e,t);this.setState((()=>({isCopyingQuestions:!0,notification:s})))}},this.setPeriodicCheckOnCopyQuestionsTaskStatus=(e,t,s)=>{this.copyQuestionsStatusInterval=setInterval((()=>{this.getAndDisplayUpdatedCopyQuestionsTaskStatus(e,t,s)}),this.getCopyQuestionsStatusCheckIntervalDelay())},this.getCopyQuestionsStatusCheckIntervalDelay=()=>{const{features:e}=this.props;return e&&!e.isProduction?T.COPY_QUESTIONS_STATUS_CHECK_INTERVAL:T.PROD_COPY_QUESTIONS_STATUS_CHECK_INTERVAL},this.getAndDisplayUpdatedCopyQuestionsTaskStatus=(e,t,s)=>{(0,d.getScheduledTask)(e).then((e=>{T.hasCopyQuestionsTaskFinishedProcessing(e.taskStatus)&&(this.cancelCheckCopyQuestionsStatusInterval(),this.loadQuestions()),this.displayCopyQuestionsStatusInfo(e,t,s)}))},this.cancelCheckCopyQuestionsStatusInterval=()=>{clearInterval(this.copyQuestionsStatusInterval)},this.deletePageBreaks=()=>{if(this.hasPageBreaks()){const e=this.state.questions.filter((e=>e.questionType===m.QuestionType.PageBreak));this.props.deleteQuestions(e)}},this.getPageBreakCount=(e=this.state.questions)=>e.filter((e=>e.questionType===m.QuestionType.PageBreak)).length,this.getPageCount=e=>this.getPageBreakCount(e)+1,this.hasPageBreaks=()=>this.state.questions.some((e=>e.questionType===m.QuestionType.PageBreak)),this.getAddMenuOptions=()=>{var e;const{localize:t,features:s,localizationPrefix:n}=this.props,i={[m.QuestionType.CalculatedFormula]:{localization:`${n}.canvas.add.calculatedFormula`},[m.QuestionType.CalculatedNumeric]:{localization:`${n}.canvas.add.calculatedNumeric`},[m.QuestionType.Essay]:{localization:`${n}.canvas.add.essay`},[m.QuestionType.FIMB]:{localization:`${n}.canvas.add.fimb`},[m.QuestionType.Hotspot]:{localization:`${n}.canvas.add.hotspot`,inlineComponent:a.default.createElement(c.NewFeatureBadge,null)},[m.QuestionType.Matching]:{localization:`${n}.canvas.add.matching`},[m.QuestionType.Multiple]:{localization:`${n}.canvas.add.multipleAnswer`},[m.QuestionType.Either]:{localization:`${n}.canvas.add.trueFalse`}},o=(0,I.generateContextualMenuItems)(a.default.createElement(p.Add,null),i,t.translate,{Hotspot:"true"===(null===(e=this.props.hotspotQuestionTypeFeatureFlag)||void 0===e?void 0:e.flagValue)},this.addQuestion,"assessment.canvas.add.menu.item");return[{analyticsId:"assessment.canvas.add.menu.item.questionPool",key:"newQuestionPool",icon:a.default.createElement(p.Add,null),text:t.translate("assessments.canvas.add.questionPool"),onClick:()=>this.addQuestionPool()},...o,{analyticsId:"assessment.canvas.add.menu.item.reuseQuestions",key:"newReuseQuestion",icon:a.default.createElement(p.Add,null),text:t.translate(`${n}.canvas.add.reuseQuestions`),onClick:()=>this.reuseQuestions()},{analyticsId:"assessment.canvas.add.menu.item.text",key:"newText",icon:a.default.createElement(p.Text,null),text:t.translate(`${n}.canvas.add.text`),onClick:()=>this.addPresentationOnlyQuestion(m.QuestionSubType.Text)},{analyticsId:"assessment.canvas.add.menu.item.localFile",key:"newFile",icon:a.default.createElement(p.UploadFile,null),text:t.translate(`${n}.canvas.add.localFile`),onClick:()=>this.addPresentationOnlyQuestion(m.QuestionSubType.File)},...s&&s.cloudStorageIntegration?[{analyticsId:"assessment.canvas.add.menu.item.localFile.cloudFile",key:"newCloudFile",icon:a.default.createElement(p.UploadCloud,null),text:t.translate(`${n}.canvas.add.cloudFile`),onClick:()=>this.addPresentationOnlyQuestion(m.QuestionSubType.CloudFile)}]:[],{disabled:this.areQuestionsRandomized()||this.isDisplayOneQuestionAtATimeEnabled(),analyticsId:"assessment.canvas.add.menu.item.pageBreak",key:"newPageBreak",icon:a.default.createElement(p.Paginate,null),text:t.translate(`${n}.canvas.add.pageBreak`),onClick:()=>this.addQuestion(m.QuestionType.PageBreak),className:"new-page-break"}].map((e=>({...e,onClick:t=>{e.onClick(t),this.onDismissAddMenu()}})))},this.hasSubmissions=()=>!0===i.get(this.props,"assessment.hasResponses"),this.hasAssessmentModifyPermissions=()=>!0===i.get(this.props,"assessment.permissions.modify"),this.hasRubricAssociations=()=>{const e=this.props.gradebookColumn;return!!e&&!!e.rubricAssociations&&!!e.rubricAssociations.length},this.hasAnonymousGrading=()=>{const e=this.props.gradebookColumn;return!!e&&!!e.anonymousGrading},this.hasPeerGrading=()=>{const e=this.props.gradebookColumn;return!!e&&!!e.peerGrading&&!!e.delegatedGrading},this.hasDelegatedGrading=()=>{const e=this.props.gradebookColumn;return!!e&&!!e.delegatedGrading&&!e.peerGrading},this.onToggleAddMenu=(e,t)=>{this.setState({addMenuTarget:e,openAddMenuIndex:t})},this.onDismissAddMenu=()=>{const{addMenuTarget:e,isShowingReuseQuestionPicker:t,openAddMenuIndex:s}=this.state;-1!==s&&(this.setState({openAddMenuIndex:-1}),e&&!t&&e.focus())},this.onReorder=(e,t)=>{const s=i.findIndex(e,(e=>e.id===t.id)),n={...t,positionAfter:0===s?"start":e[s-1].id};this.persistQuestion(t,n,this.props.assessment.id)},this.onQuestionEdit=e=>{this.setState((()=>({questionBeingEditedId:e})))},this.onQuestionMadeDirty=e=>{e!==this.state.questionBeingEditedIsDirty&&(this.props.setIsAnyQuestionDirty(e),this.setState((()=>({questionBeingEditedIsDirty:e}))))},this.deleteQuestion=e=>{const{deleteQuestion:t}=this.props;if(this.shouldEnableViewStudentSubmissionSettings(e)){const s=()=>t(e);this.showFeedbackSettingsChangeDialog(s)}else t(e)},this.shouldEnableViewStudentSubmissionSettings=e=>{const t=this.state.questions.filter((e=>e.questionType!==m.QuestionType.PresentationOnly&&e.questionType!==m.QuestionType.PageBreak));return(null==e?void 0:e.questionType)!==m.QuestionType.PresentationOnly&&(null==e?void 0:e.questionType)!==m.QuestionType.PageBreak&&1===t.length&&this.isSubmissionViewHidden()},this.persistQuestion=(e,t,s)=>{const{persistQuestion:n}=this.props;return!1===t.isAutoGraded&&this.showAutopostNotification(),t.questionType===m.QuestionType.PageBreak&&this.state.addMenuTarget&&(this.state.addMenuTarget.onMouseLeave(),this.state.addMenuTarget.onKeyboardBlur()),Promise.resolve(n(e,t,{assessmentId:s,expand:"alignedGoals,usageCount"}))},this.state={activeQuestionPoolId:null,addMenuTarget:null,disableAssessmentSettingCallback:null,hasCopyQuestionsStatusInitialized:!1,isCopyingQuestions:!1,isLoadingInProgress:!0,isShowingAutopostNotification:!1,isShowingQuestionPoolPanel:!1,isShowingWarningDialog:!1,openAddMenuIndex:-1,questions:[],questionBeingEditedId:null,questionBeingEditedIsDirty:!1,isShowingQuestionPoolQuestionPicker:!1,isShowingReuseQuestionPicker:!1,notification:null,warningDialogSubText:null,warningDialogTitle:null,warningDialogOnOK:null}}componentDidMount(){this.props.loadFeatureFlagValue({flagKey:D.HOTSPOT_QUESTION_TYPE_FEATURE_FLAG})}UNSAFE_componentWillReceiveProps(e){const{assessment:t,isLoadingInProgress:s,questions:n}=e,{hasCopyQuestionsStatusInitialized:i,isLoadingInProgress:a}=this.state;this.setState((()=>({questions:this.getPageNumbersAndCount(this.sortByPosition(n))}))),a&&this.setState((()=>({isLoadingInProgress:s||!t||t.questionCount>0&&0===n.length})));!i&&!!t&&this.setState((()=>({hasCopyQuestionsStatusInitialized:!0})),(()=>this.initCopyQuestionsStatusDisplay(t)))}componentWillUnmount(){this.cancelCheckCopyQuestionsStatusInterval()}shouldInsertWarningDialog(){return this.areQuestionsRandomized()||this.hasAnonymousGrading()||this.hasRubricAssociations()||this.isCollectExternalSubmissions()||this.hasDelegatedGrading()||this.hasPeerGrading()||this.shouldEnableViewStudentSubmissionSettings()}showWarningDialog(e,t,s){const{localizationPrefix:n}=this.props;this.setState((()=>({isShowingWarningDialog:!0,warningDialogSubText:`${n}.canvas.warningDialogs.${e}.subText`,warningDialogTitle:`${n}.canvas.warningDialogs.${e}.title`,warningDialogOnOK:t,disableAssessmentSettingCallback:s})))}dismissCopyQuestionsStatusBanner(){this.setState((()=>({notification:null}))),this.deleteCopyQuestionsTaskPref(),this.cancelCheckCopyQuestionsStatusInterval()}renderReuseQuestionPicker(){const{assessment:e,courseId:t,features:s,localizationPrefix:n}=this.props;if(!(!!e&&this.state.isShowingReuseQuestionPicker))return null;const i={assessmentId:e.id,assessmentTitle:e.title,questionPositionAfter:this.calculateQuestionPositionAfter(),showRandomizeDialog:this.areQuestionsRandomized()&&this.showRandomizeDialog};return a.default.createElement(_.default,{courseId:t,destination:i,closePanel:this.closeReuseQuestionPanel,features:s,localizationPrefix:n})}renderQuestionPoolQuestionPicker(){const{assessment:e,courseId:t,features:s,localizationPrefix:n}=this.props;if(!(!!e&&this.state.isShowingQuestionPoolQuestionPicker))return null;const i={assessmentId:e.id,assessmentTitle:e.title,questionPositionAfter:this.calculateQuestionPositionAfter()};return a.default.createElement(C.default,{courseId:t,destination:i,closePanel:this.closeQuestionPoolQuestionPicker,features:s,localizationPrefix:n})}renderPoolQuestionPanel(){const{activeQuestionPoolId:e,isShowingQuestionPoolPanel:t}=this.state;return!!this.props.assessment&&!!e&&t?a.default.createElement(b.default,{questionPoolId:e,assessmentId:this.props.assessment.id,assessmentTitle:this.props.assessment.title,closePanel:this.closeQuestionPoolPanel,courseId:this.props.courseId,hasSubmissions:this.hasSubmissions(),hasAssessmentModifyPermissions:this.hasAssessmentModifyPermissions(),openQuestionPicker:this.openQuestionPoolQuestionPicker,persistQuestion:this.persistQuestion,localizationPrefix:this.props.localizationPrefix,supportsInlineDocumentRender:this.props.features.supportsInlineDocumentRender}):null}renderAutopostNotification(){const{isShowingAutopostNotification:e}=this.state;return e?a.default.createElement(k.AutopostNotification,null):null}renderPseudoPageBreakHeader(){const{localize:e}=this.props,t=this.getPageCount();return a.default.createElement("div",{className:"page-break"},a.default.createElement("div",{className:"contents"},a.default.createElement(E.AnalyticsTypography,{component:"span"},e.translate("assessments.canvas.question.pageBreak.pageNumber",{pageNumber:1,pageCount:t}))))}render(){var e;const{assessment:t,content:s,courseId:n,localize:i,gradebookColumn:o,localizationPrefix:l,fileUploadSettings:r}=this.props,d=this.hasSubmissions(),m=this.hasAssessmentModifyPermissions(),p=this.getAddMenuOptions(),f=!this.state.isLoadingInProgress&&0===this.state.questions.length,b=null==s?void 0:s.deploymentSettings.allowStudentSubmission,P=null==t?void 0:t.hasAnswerableQuestions,_=P?"AdditionalContentTitle":"SubmissionTitle",C=this.hasAssessmentModifyPermissions(),A=this.hasPageBreaks();let Q,k;return o&&o.gradebookCategory&&(k=o.gradebookCategory.title,Q=o.gradebookCategory.isUserDefined?"custom":k),a.default.createElement("div",{className:"assessment-canvas-react"},this.renderAutopostNotification(),f&&!this.isCollectExternalSubmissions()&&a.default.createElement("div",{className:"assessment-canvas-react assessment-canvas-react--blank"},a.default.createElement(h.default,{image:y.default,passedClass:"assessment-canvas-react--blank__image"}),a.default.createElement("h3",{className:"assessment-canvas-react--blank__title"},i.translate(`${l}.canvas.emptyState.header.${Q}`,{categoryTitle:k})),a.default.createElement("div",null,i.translate(`${l}.canvas.emptyState.saving`)),a.default.createElement("div",null,i.translate(`${l}.canvas.emptyState.closeToSave.${Q}`,{categoryTitle:k}))),this.state.isLoadingInProgress&&a.default.createElement(u.Spinner,{size:u.SpinnerSize.large}),(null===(e=this.state.addMenuTarget)||void 0===e?void 0:e.inlineAddButton)&&a.default.createElement(c.ContextualMenu,{analyticsId:"assessment.canvas.add.menu",anchorEl:this.state.addMenuTarget.inlineAddButton,id:this.contextualMenuId,items:p,MenuListProps:{"aria-label":i.translate(`${l}.canvas.add.menu`),className:"js-assessment-canvas-add-menu"},onClose:this.onDismissAddMenu,open:-1!==this.state.openAddMenuIndex}),!this.state.isLoadingInProgress&&a.default.createElement("div",{className:"assessment-canvas-react__question-list"},0===this.state.questions.length||null==s?null:a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"assessment-canvas-react__heading"},a.default.createElement("h2",null,i.translate(`${l}.canvas.content.${Q}`,{categoryTitle:k})),!d&&a.default.createElement(w.AssessmentCanvasControls,{deletePageBreaks:this.deletePageBreaks,canEditAssessment:C,hasPageBreaks:A})),a.default.createElement(v.default,{content:s,localize:i,localizationPrefix:this.props.localizationPrefix})),A&&this.renderPseudoPageBreakHeader(),a.default.createElement(g.default,{courseId:n,items:this.state.questions,boundingElementId:"gradebook-item-panel-content",onReorderItem:this.onReorder,scrollContainerId:"basic-container",checkAndDisableAssessmentSettings:this.checkAndDisableAssessmentSettings,persistQuestion:this.persistQuestion,deleteQuestion:this.deleteQuestion,AddButton:this.AddButton,onQuestionEdit:this.onQuestionEdit,onQuestionMadeDirty:this.onQuestionMadeDirty,questionBeingEditedId:this.state.questionBeingEditedId,isAnyQuestionDirty:this.isAnyQuestionDirty(),hasSubmissions:d,localize:i,isLoadingInProgress:this.state.isLoadingInProgress,hasAssessmentModifyPermissions:m,openGoals:this.props.routes.openGoals,pluginsConfig:this.props.editorPluginsConfig,notification:this.state.notification,babelfishInstance:this.props.babelfishInstance,currentLocale:this.props.currentLocale,disableInteraction:this.state.isCopyingQuestions,openPoolQuestionPanel:this.openPoolQuestionPanel,addQuestionsToEmptyPool:this.addQuestionsToEmptyPoolFromAssessmentCanvas,localizationPrefix:this.props.localizationPrefix,supportsInlineDocumentRender:this.props.features.supportsInlineDocumentRender,fileUploadSettings:r})),this.state.isCopyingQuestions&&a.default.createElement("div",{className:"assessment-canvas-react__questions-overlay"}),!this.state.isLoadingInProgress&&!this.isCollectExternalSubmissions()&&a.default.createElement("div",{className:"assessment-canvas-react__student-submission"},a.default.createElement("div",{className:"assessment-canvas-react__student-submission-switch"},a.default.createElement("div",{className:"assessment-canvas-react__student-submission-switch__container"},a.default.createElement(E.AnalyticsTooltip,{classes:{tooltip:"add-additional-content-tooltip"},title:i.translate(`${l}.canvas.studentSubmission.SwitchTooltip`),analyticsId:"course.content.assessment.AllowStudentSubmission.switchTooltip",placement:"top-start",disableFocusListener:P,disableHoverListener:P},a.default.createElement(E.AnalyticsFormControlLabel,{classes:{root:"switch-root"},htmlFor:"student-submission-display-selector",onClick:()=>this.handleAllowStudentSubmissionChange(),checked:b,disabled:this.checkAllowStudentSubmission()||d,"aria-label":i.translate(`${l}.canvas.studentSubmission.switchLabel`),control:a.default.createElement(E.AnalyticsSwitch,{id:"student-submission-display-switch",className:"assessment-canvas-react_student-submission-switch",analyticsId:"assessment.canvas.studentSubmission.switch"}),"data-analytics-id":"course.content.assessment.AllowStudentSubmission.switch",analyticsId:"SHOW_STUDENT_SUBMISSION_SWITCH_ANALYTICS_ID",label:void 0})),a.default.createElement("span",{className:"assessment-canvas-react__student-submission-switch__label"},i.translate(`${l}.canvas.studentSubmission.switchLabel`))),P&&!b&&!d&&a.default.createElement("div",{className:"assessment-canvas-react__student-submission-switch__note"},i.translate(`${l}.canvas.studentSubmission.switchNote`))),b&&a.default.createElement("div",{className:"assessment-canvas-react__student-submission-section"},!f&&a.default.createElement("div",{className:"assessment-canvas-react__student-submission__additional-content"},i.translate(`${l}.canvas.studentSubmission.${_}`)),a.default.createElement("div",{className:"assessment-canvas-react__student-submission__student-submission-info"},i.translate(`${l}.canvas.studentSubmission.AdditionalContentSubtext`)))),this.shouldInsertWarningDialog()&&a.default.createElement(S.default,{show:this.state.isShowingWarningDialog,onCancel:this.hideWarningDialog,onDismiss:this.hideWarningDialog,onOk:this.state.warningDialogOnOK,subText:i.translate(this.state.warningDialogSubText),title:i.translate(this.state.warningDialogTitle),key:this.state.warningDialogTitle,analyticsId:"assessmentCanvas.insertWarning"}),this.renderReuseQuestionPicker(),this.renderQuestionPoolQuestionPicker(),this.renderPoolQuestionPanel())}}T.SYNC_QUESTION_COPY_LIMIT=50,T.PROD_COPY_QUESTIONS_STATUS_CHECK_INTERVAL=3e4,T.COPY_QUESTIONS_STATUS_CHECK_INTERVAL=8e3,T.hasCopyQuestionsTaskFinishedProcessing=e=>"COMPLETE"===e||"COMPLETE_ERRORS"===e||"INCOMPLETE"===e,T.shouldCallCopyQuestionsQueued=e=>e>T.SYNC_QUESTION_COPY_LIMIT;t.parseCopyQuestionTaskObjFromPref=e=>{const t=e&&e.value&&JSON.parse(e.value);return i.isEmpty(t)?null:t};const O=(0,l.connect)(((e,s)=>{const n=i.get(s,"assessment.courseId"),a=i.get(s,"assessment.id"),o=q(a),l=d.select.coursePreference.getCoursePreferenceByKeyAndCourseId(e,o,n);return{copyQuestionTaskPref:(0,t.parseCopyQuestionTaskObjFromPref)(l),hotspotQuestionTypeFeatureFlag:d.select.featureFlags.getFeatureFlagValue(e,D.HOTSPOT_QUESTION_TYPE_FEATURE_FLAG)}}),(e=>(0,o.bindActionCreators)({addQuestionsToPool:d.actions.question.updateQuestionsInQuestionBlock,deleteCoursePreference:d.actions.coursePreference.deleteCoursePreference,deleteQuestions:d.actions.question.deleteQuestions,loadCoursePreference:d.actions.coursePreference.loadCoursePreference,loadFeatureFlagValue:d.actions.featureFlags.loadFeatureFlagValueByKey,saveCoursePreference:(e,t,s)=>{const n={key:e,value:t,visibleToStudents:!1};return d.actions.coursePreference.persistCoursePreference(n,s)},setError:d.actions.app.setError},e)))(T);t.UnwrappedAssessmentCanvas=T,t.default=(0,r.localizedComponentWrapper)(O)},kRJ8:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkipQuestionConfirmationDialog=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("FS8K"),a=s("tN4z"),o=s("caKH");t.SkipQuestionConfirmationDialog=e=>{const{showConfirmationModal:t,onCancel:s,onConfirmation:l,questionNumber:r}=e,u=(0,i.useTranslate)(),c=`${e.analyticsId}.skip-question.dialog`,d="skip-question.dialog-title",m=u("assessments.attempt.modal.skipQuestion.questionTitle",{number:r});return n.createElement(o.BbUiModalDialog,{className:"js-skip-question-confirmation-dialog",analyticsId:c,open:t,onClose:s,maxWidth:"md","aria-labelledby":d},n.createElement(a.AnalyticsDialogTitle,{analyticsId:`${c}.title`,id:d,onClick:s},u("assessments.attempt.modal.skipQuestion.title")),n.createElement(a.AnalyticsDialogContent,{analyticsId:`${c}.content`},n.createElement(a.AnalyticsDialogContentText,{analyticsId:`${c}.body`},u("assessments.attempt.modal.skipQuestion.body",{questionTitle:n.createElement("strong",null,m)}))),n.createElement(a.AnalyticsDialogActions,{analyticsId:`${c}.actions`},n.createElement(a.AnalyticsDefaultButton,{analyticsId:`${c}.cancel.button`,onClick:s},u("assessments.attempt.modal.skipQuestion.cancel")),n.createElement(a.AnalyticsPrimaryButton,{analyticsId:`${c}.confirmation.button`,onClick:l},u("assessments.attempt.modal.skipQuestion.confirm"))))}},kSU3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentAttemptViewManager=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("uDfI"),a=s("NhMM"),o=s("1WkJ"),l=s("IbyE"),r=s("kRJ8"),u=s("/uX9");t.AssessmentAttemptViewManager=e=>{const{isOneQuestionAtATime:t,isPreventBacktracking:s,attemptId:c,courseId:d,onAfterInitializeQuestionAttemptView:m,onAfterAsyncViewAction:p,onBeforeQuestionAttemptsInitialized:f,onAfterQuestionAttemptsInitialized:h}=e,g=(0,i.useDispatch)(),[y,v]=n.useState(null),b=(0,i.useSelector)((e=>l.select.questionAttempt.getQuestionAttemptsByAttemptId(e,c))),[P,_]=n.useState({visible:!1,questionNumber:1}),C=n.useCallback((e=>{_({visible:!0,questionNumber:e})}),[P]),S=n.useCallback((()=>{_({...P,visible:!1})}),[_]),A=n.useCallback((()=>{y&&(y.navigateNext(!0),S())}),[y,S]);return n.useEffect((()=>{if(!(c&&m&&p&&d))return;if(y)return;let e;if(s)return e=new u.PreventBacktrackingAttemptView(c,d,g,C,p),m(e),void v(e);const n=null!=b?b:[],i=n.some(l.Questions.isPageBreak),r=n.every(l.Questions.isPageBreak);e=t||i&&!r?new a.OneAtATimeQuestionAttemptView(c,d,g,C,p):new o.AllAtOnceQuestionAttemptView(c,d,g,C,p),m(e),v(e)}),[b,t,s,c,d,m,p,C,g]),n.useEffect((()=>{if(!y||(null!=b?b:[]).length<1)return;if(y instanceof u.PreventBacktrackingAttemptView){const e=b[b.length-1],t=f([e]);return y.replaceQuestionAttempts(t),void h(y)}const e=f([...b]);y.initializeQuestionAttempts(e),h(y)}),[b,y,f,h]),y?n.createElement(r.SkipQuestionConfirmationDialog,{analyticsId:"assessments.attempt",showConfirmationModal:P.visible,questionNumber:P.questionNumber,onCancel:S,onConfirmation:A}):null}},kSg6:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((()=>(0,n.createStyles)({root:{marginRight:"12px"}})))},l79G:function(e,t,s){"use strict";s.r(t)},lDRh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPickerPanel=void 0;const n=s("D57K"),i=s("Begd"),a=s("Zwiy"),o=s("myse"),l=s("pNgc"),r=n.__importDefault(s("ERkP")),u=n.__importStar(s("nsO7")),c=s("IbyE"),d=s("zGdY"),m=s("Y+9S"),p=s("RPob"),f=s("9OUN"),h=s("uDfI"),g=s("FS8K"),y=n.__importDefault(s("G1uk")),v=n.__importDefault(s("2/w5")),b=n.__importDefault(s("Lf2R")),P=n.__importDefault(s("ptuH")),_=n.__importDefault(s("Fr0Y")),C=s("Y+9S");s("NMPQ");const S=s("FrRx");class A extends r.default.Component{constructor(e){if(super(e),this.buildCriteriaConfig=()=>{const e={blocks:[],onSetKeywords:this.onSetKeywords,selectedKeywords:this.state.selectedFilterCriteria.keywords,isKeywordExpanded:!0};e.blocks.push(this.buildSourcesBlock()),e.blocks.push(this.buildQuestionTypesBlock());const t=this.buildTagsBlock();return t&&e.blocks.push(t),e},this.buildSourcesBlock=()=>{const e={name:this.props.localize.translate("questionPicker.filterPanel.sources.header"),id:"sources",expanded:!0,groups:[]},t=this.getSourcesWithQuestions(),s=(()=>{const e=u.orderBy(t,"type","asc"),s=u.groupBy(e,"type");return u.transform(s,((e,t,s)=>{e[s.toLowerCase()]=u.orderBy(t,"id")}))})();return u.keys(s).forEach((t=>{const n={id:t,name:this.props.localize.translate(`questionPicker.filterPanel.sources.type.${t}`),items:[],onSelect:this.onSelectSource};s[t].forEach((e=>{if(e.type.toLowerCase()===t){const t={id:e.id,name:e.title,selected:u.includes(this.state.selectedFilterCriteria.sourceIds,e.id)};n.items.push(t)}})),e.groups.push(n),e.groups.sort((e=>"test"===e.id?-1:1))})),e},this.buildTagsBlock=()=>{const{tags:e}=this.props;if(!u.isEmpty(e)){const t={name:this.props.localize.translate("questionPicker.filterPanel.tags.header"),id:"tags",expanded:!1,groups:[]},s=e=>{let s=u.find(t.groups,{id:e});return s||(s={id:e,name:this.props.localize.translate(`questionPicker.filterPanel.tags.type.${e}`),items:[],onSelect:this.onSelectTag},t.groups.push(s)),s};return e.forEach((e=>{const t={id:e.id,name:e.title,selected:u.includes(this.state.selectedFilterCriteria.tagIds,e.id)};s(e.type).items.push(t)})),t.groups.forEach((e=>{e.items=u.sortBy(e.items,["name"])})),t.groups=u.sortBy(t.groups,["name"]),t}return null},this.buildQuestionTypesBlock=()=>{const e={id:"types",name:"",items:[],onSelect:this.onSelectQuestionType},{questionTypes:t}=this.props;return t.forEach((t=>{const{key:s}=t,n="presentation"===s?"other":s,i={id:s,name:this.props.localize.translate(`question.typeLabels.${n}`),selected:u.includes(this.state.selectedFilterCriteria.questionTypes,s)};e.items.push(i)})),e.items=u.sortBy(e.items,["name"]),{name:this.props.localize.translate("questionPicker.filterPanel.questionTypes.header"),id:"types",expanded:!1,groups:[e]}},this.hasPresentationQuestionsSelected=()=>u.keys(this.state.selectedQuestions).some((e=>{const t=this.state.questions.find((t=>t.id===e));return t&&t.questionType===d.QuestionType.PresentationOnly})),this.hasNonPresentationQuestionsSelected=()=>u.keys(this.state.selectedQuestions).some((e=>{const t=this.state.questions.find((t=>t.id===e));return t&&t.questionType!==d.QuestionType.PresentationOnly})),this.reuseQuestions=()=>{const{assessmentId:e,questionPositionAfter:t,showRandomizeDialog:s}=this.props.destination,{selectedQuestions:n,deselectedQuestions:i,isSelectAllQuestions:a}=this.state;let o={courseId:this.props.courseId,assessmentId:e,positionAfter:t,selectAll:a};if(a){const e=u.keys(i),t=e.length;o={...o,searchCriteria:this.generateSearchCriteriaParam(),...t&&{excludeIds:e}}}else o={...o,questionIds:u.keys(n)};(0,m.notifyMobileApp)(m.MessageType.QuestionPickerPanelClosed);let l=!1;const r=(0,c.mapById)(this.state.questions);Object.keys(r).forEach((e=>{var t;(n[e]||a&&void 0===i[e])&&!1===(null===(t=r[e])||void 0===t?void 0:t.isAutoGraded)&&(l=!0)})),o={...o,includesManuallyGradedQuestions:l};const d=()=>this.props.closePanel(o,this.getSelectedQuestionCount());s&&this.hasPresentationQuestionsSelected()?s(d):d()},this.cancel=()=>this.areQuestionsSelected()?(this.showCancelConfirmationDialog(),!1):((0,m.notifyMobileApp)(m.MessageType.QuestionPickerPanelClosed),this.props.closePanel(),!0),this.proceedClosePanel=()=>{(0,m.notifyMobileApp)(m.MessageType.QuestionPickerPanelClosed),this.props.closePanel()},this.areQuestionsSelected=()=>u.size(this.state.selectedQuestions)>0,this.showCancelConfirmationDialog=()=>{this.setState((()=>({isShowingCancelConfirmationDialog:!0})))},this.hideCancelConfirmationDialog=()=>{this.setState((()=>({isShowingCancelConfirmationDialog:!1})))},this.onSelectSource=(e,t)=>{this.onSelectFilterOption("sourceIds",e,t)},this.onSelectTag=(e,t)=>{this.onSelectFilterOption("tagIds",e,t)},this.onSelectQuestionType=(e,t)=>{this.onSelectFilterOption("questionTypes",e,t)},this.onSelectFilterOption=(e,t,s)=>{this.state.isSelectAllQuestions&&this.onClearAllQuestionSelection(),this.setState((n=>{const{selectedFilterCriteria:i}=n;return s?{selectedFilterCriteria:{...i,[e]:[...i[e],t]}}:{selectedFilterCriteria:{...i,[e]:[...i[e].filter((e=>e!==t))]}}}),this.initSearchRequest)},this.onSelectQuestion=(e,t)=>{this.setState((s=>{const n=s.deselectedQuestions,i=s.selectedQuestions;return s.isSelectAllQuestions?(t?n[e]=!0:delete n[e],{deselectedQuestions:n}):(t?delete i[e]:i[e]=!0,{selectedQuestions:i})}))},this.onSelectAllQuestions=()=>{this.setState((()=>({isSelectAllQuestions:!0}))),this.clearSelectedDeselectedQuestions()},this.onClearAllQuestionSelection=()=>{this.setState((()=>({isSelectAllQuestions:!1}))),this.clearSelectedDeselectedQuestions()},this.clearSelectedDeselectedQuestions=()=>{this.setState((()=>({selectedQuestions:Object.create(null),deselectedQuestions:Object.create(null)})))},this.onSetKeywords=e=>{this.setState((t=>({selectedFilterCriteria:{...t.selectedFilterCriteria,keywords:e}})),this.initSearchRequest)},this.onClearCriteria=()=>{const e=u.mapValues(this.state.selectedFilterCriteria,(()=>[]));this.setState((()=>({selectedFilterCriteria:e})),this.initSearchRequest)},this.loadFilterOptions=()=>{this.loadAssessments(),this.loadQuestionTags(),this.loadQuestionTypes()},this.loadAssessments=()=>{const e=[d.AssessmentType.Pool,d.AssessmentType.Test];this.continuouslyLoadFilterOptions(this.props.loadAssessments,{types:e},"assessments","isLoadingAssessments")},this.loadQuestionTags=()=>{this.continuouslyLoadFilterOptions(this.props.loadQuestionTags,void 0,"tags","isLoadingTags")},this.loadQuestionTypes=()=>{const{courseId:e,loadQuestionTypes:t}=this.props;t({courseId:e}).then((()=>{this.setState((e=>({isLoadingFilterOptions:{...e.isLoadingFilterOptions,isLoadingQuestionTypes:!1}})))}))},this.continuouslyLoadFilterOptions=(e,t,s,n,i)=>{const{courseId:a}=this.props;return e({...t,courseId:a,offset:i,limit:A.FILTER_OPTION_LOAD_LIMIT}).then((i=>{if(!i)return;const{paging:a}=i;this.setState((e=>{const t=e.filterLoadNum[s];return{filterLoadNum:{...e.filterLoadNum,[s]:t+1}}}),(()=>{const i=this.state.filterLoadNum[s];if(a.nextPage&&i<A.FILTER_OPTIONS_LOAD_MAX){const i=a.offset+a.limit;this.continuouslyLoadFilterOptions(e,t,s,n,i)}else this.setState((e=>({isLoadingFilterOptions:{...e.isLoadingFilterOptions,[n]:!1}})))}))}))},this.generateLoadQuestionsParams=({setOffset:e=!1}={})=>{const{paging:t}=this.state,{courseId:s}=this.props,n={...this.generateSearchCriteriaParam(),courseId:s};return e&&(n.offset=t.offset+t.limit),n},this.generateSearchCriteriaParam=()=>{const{selectedFilterCriteria:{keywords:e,sourceIds:t,tagIds:s,questionTypes:n}}=this.state;return{...t.length&&{assessmentIds:t},...s.length&&{categoryIds:s},...n.length&&{questionTypes:n},...e.length&&{q:e}}},this.initSearchRequest=()=>{this.setState((()=>({isLoadingQuestions:!0})),this.loadQuestionsDebounced)},this.loadQuestionsDebounced=u.debounce((()=>{const e=this.generateLoadQuestionsParams();this.setState((()=>({searchParams:e})),(()=>{this.props.searchQuestions(e).then((t=>{e===this.state.searchParams&&this.setState((()=>({questions:Object.values(t.questions),paging:t.paging,isLoadingQuestions:!1})))}))}))}),A.WAIT_TIME_IN_MS,{leading:!0,trailing:!0}),this.loadMoreQuestions=(e=!1)=>{if(this.state.isLoadingMoreQuestions||!this.hasMoreQuestions())return;this.setState((()=>({isLoadingMoreQuestions:!0,questionToFocus:null})));const t=this.generateLoadQuestionsParams({setOffset:!0});this.props.searchQuestions(t).then((t=>{this.setState((s=>({questions:[...Object.values(s.questions),...Object.values(t.questions)],questionToFocus:e?t.questions[0].id:null,paging:t.paging,isLoadingMoreQuestions:!1})))}))},this.hasMoreQuestions=()=>this.state.paging&&!u.isEmpty(this.state.paging.nextPage),this.onViewMoreClick=()=>{this.loadMoreQuestions(!0)},this.onScroll=e=>{this.state.isLoadingQuestions||this.state.isLoadingMoreQuestions||!this.hasMoreQuestions()||(0,p.isEndOfScroll)(e.target)&&this.loadMoreQuestions()},this.onKeyUp=e=>{const t=e.target;if(9===e.keyCode&&t&&"button"===t.type&&t.classList.contains("selectable-question__question-toggle")){const e=t.parentElement.id,s=e.substr(e.indexOf("_"),e.length);this.state.questions.length-1===u.findIndex(this.state.questions,(e=>e.id===s))&&this.loadMoreQuestions()}},this.renderViewMoreButton=()=>{const{paging:e,questions:t}=this.state,{localize:s,analyticsEventAugmentor:n}=this.props,i="questionPicker.moreQuestions.ariaLabel",a=n(o.AnalyticsEventTypes.CLICK_EVENT,(()=>{}),i);if(!this.hasMoreQuestions())return r.default.createElement("button",{className:"offscreen-button",disabled:!0,"aria-disabled":!0,"aria-label":s.translate("questionPicker.moreQuestions.disabled")});const l=e.count-t.length,u=l>e.limit?e.limit:l;return r.default.createElement("button",{className:"offscreen-button",onClick:a,"data-analytics-id":i,"aria-label":s.translate("questionPicker.moreQuestions.ariaLabel",{count:u}),disabled:this.state.isLoadingMoreQuestions,"aria-disabled":this.state.isLoadingMoreQuestions})},this.getSourcesWithQuestions=()=>u.filter(this.props.sources,(e=>e.questionCount>0)),this.areAllFilterOptionsLoaded=()=>{const{isLoadingFilterOptions:e}=this.state;return u.every(u.values(e),(e=>!e))},this.getSelectedQuestionCount=()=>{const{deselectedQuestions:e,isSelectAllQuestions:t,paging:s,selectedQuestions:n}=this.state;return t?s.count-u.size(e):u.size(n)},this.state={questions:[],paging:null,filterLoadNum:{assessments:0,tags:0},isLoadingQuestions:!0,isLoadingMoreQuestions:!1,isLoadingFilterOptions:{isLoadingAssessments:!0,isLoadingTags:!0,isLoadingQuestionTypes:!0},isShowingCancelConfirmationDialog:!1,selectedFilterCriteria:{keywords:[],sourceIds:[],tagIds:[],questionTypes:[]},isSelectAllQuestions:!1,deselectedQuestions:Object.create(null),selectedQuestions:Object.create(null),questionToFocus:null,searchParams:null},(0,m.isInMobileApp)()){const t={type:m.MessageType.QuestionPickerPanelOpened,status:m.MessageStatus.Success,pageTitle:e.localize.translate(e.headerKeys.title)};(0,m.sendMessageToMobile)(t),(0,C.dismissPanel)(this.cancel)}}componentWillUnmount(){(0,C.dismissPanel)(void 0)}UNSAFE_componentWillMount(){const{courseId:e}=this.props;e&&(this.loadFilterOptions(),this.initSearchRequest())}render(){const{isLoadingQuestions:e,isLoadingMoreQuestions:t,isSelectAllQuestions:s,questions:n,questionToFocus:o,paging:u,deselectedQuestions:c,selectedQuestions:d}=this.state,{courseId:m,localize:p,closePanel:f,noResultsKeys:h,noSourcesKeys:g,headerKeys:C,footerKeys:S,pageHelpKey:A,localizationPrefix:Q,cancelModalKeys:E,commonContext:w}=this.props,k=this.getSourcesWithQuestions(),I=k.length>0,D=this.buildCriteriaConfig(),q=p.translate("questionPicker.footer.cancel"),T=this.areAllFilterOptionsLoaded(),O=T&&!(e||t),N=this.getSelectedQuestionCount(),x={image:_.default,title:p.translate(h.title),message:p.translate(h.message)},M=p.translate(C.title),B=p.translate(S.primaryButton),F=p.translate(S.selectedCount,{count:N}),R=g.title,L=g.message,z={url:p.translate(A)};return r.default.createElement(a.BbPanel,{isOpen:!0,type:a.BbPanelType.full,onDismiss:this.cancel,excludeContentPadding:!0,closeButtonAriaLabel:q,className:"question-picker-panel",pageHelpProps:z,fixedLargeHeader:!0,stackIndex:3,heightOffset:w.panelHeightOffset,analyticsId:"assessments.questionPanelPicker.panel"},r.default.createElement(a.BbPanelHeader,{title:M,smallHeaderTitle:this.props.destination.assessmentTitle,navMenuAriaLabel:p.translate("global.navigationMenu")}),r.default.createElement("div",{className:"question-picker-panel__content",ready:O.toString()},r.default.createElement("div",{className:"question-picker-panel__body",onKeyUp:this.onKeyUp,onScroll:this.onScroll},I&&r.default.createElement(v.default,{id:"questionPickerPanel",isLoading:e,criteriaConfig:D,onClearCriteria:this.onClearCriteria,resultsCount:u&&u.count?u.count:0,zeroResultsEmptyStateProps:x,analyticsId:"questionPickerPanel.filterList"},r.default.createElement(b.default,{courseId:m,sources:k,deselectedQuestions:c,selectedQuestions:d,items:n,isLoadingMore:t,onItemSelect:this.onSelectQuestion,isSelectAllQuestions:s,onSelectAllQuestions:this.onSelectAllQuestions,onClearAllQuestionSelection:this.onClearAllQuestionSelection,questionToFocus:o,localizationPrefix:Q})),!I&&!T&&r.default.createElement(i.Spinner,{className:"question-picker-panel__spinner",size:i.SpinnerSize.large}),!I&&T&&r.default.createElement(P.default,{headerKey:R,messageKey:L}),!e&&this.renderViewMoreButton()),r.default.createElement(y.default,{message:p.translate(E.message),onStay:this.hideCancelConfirmationDialog,onProceed:()=>this.proceedClosePanel(),show:this.state.isShowingCancelConfirmationDialog,title:p.translate(E.title)})),r.default.createElement(a.BbPanelFooter,{analyticsId:"questionPickerPanel.footer",primaryButtonProps:{className:"js-primary-button",onClick:this.reuseQuestions,disabled:0===N,text:B},secondaryButtonProps:{className:"js-cancel-button",onClick:this.cancel,text:q}},r.default.createElement("div",{className:"question-picker-panel__footer-content"},r.default.createElement(l.ContentCollection,{className:"question-picker-panel__footer-icon",color:"primary"}),r.default.createElement("span",{className:"question-picker-panel__footer-text"},F))))}}t.QuestionPickerPanel=A,A.FILTER_OPTION_LOAD_LIMIT=100,A.FILTER_OPTIONS_LOAD_MAX=10,A.defaultProps={searchQuestions:c.searchQuestions},A.WAIT_TIME_IN_MS=1e3;const Q=(0,h.connect)(((e,t)=>({questionTypes:c.select.questionType.getQuestionTypesByCourseId(e,t.courseId),sources:c.select.assessment.getAssessmentsByCourseId(e,t.courseId),tags:c.select.questionTag.getQuestionTagsByCourseId(e,t.courseId)})),(e=>(0,f.bindActionCreators)({loadAssessments:c.actions.assessment.loadAssessments,loadQuestionTags:c.actions.questionTag.loadQuestionTags,loadQuestionTypes:c.actions.questionType.loadQuestionTypes},e)),((e,t,s)=>({...s,...e,...t,questionTypes:s.questionTypes?s.questionTypes:e.questionTypes,sources:s.sources?s.sources:e.sources})))(A);t.default=(0,g.localizedComponentWrapper)((0,S.withAssessmentCommonContext)((0,o.withAnalytics)(Q)))},liJC:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>({controlMenu:{padding:"0 10px",color:e.palette.text.secondary,"&:hover":{color:e.palette.action.active}}})))},lun3:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolPanel=t.default=void 0;var i=s("jFIz");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}}),Object.defineProperty(t,"QuestionPoolPanel",{enumerable:!0,get:function(){return i.QuestionPoolPanel}})},mLY0:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDrawExistingPins=void 0;const n=s("ERkP"),i=s("fN3Q");t.useDrawExistingPins=e=>{const{addPin:t,givenAnswers:s,shouldDrawPins:a}=e,[o,l]=(0,n.useState)(!1);(0,n.useEffect)((()=>{a&&!o&&s&&(l(!0),s.filter((e=>Boolean(e.coordinates))).forEach(((e,s)=>t({position:s+1,isCorrectAnswer:e.correctAnswer,coordinates:{hotspotPinId:(0,i.v4)(),coordinates:e.coordinates}}))))}),[a,s,t,o])}},n3YT:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionPoolPanelCloseDialog=void 0;const n=s("D57K").__importDefault(s("ERkP")),i=s("3/0u"),a=s("WBPx"),o=s("FS8K"),l=s("caKH");t.QuestionPoolPanelCloseDialog=e=>{const{closePanel:t,localize:s,setCloseDialogVisibility:o}=e;return n.default.createElement(l.UltraModalDialog,{onDismiss:()=>o(!1),hidden:!1,dialogContentProps:{title:s.translate("questionPools.panelCloseDialog.title"),subText:s.translate("questionPools.panelCloseDialog.instructions")},modalProps:{className:"question-pool-panel-close-dialog"},analyticsId:"questionPools.panelCloseDialog.dialog"},n.default.createElement(i.DialogFooter,null,n.default.createElement(a.AnalyticsDefaultButton,{onClick:()=>o(!1),analyticsId:"questionPools.panelCloseDialog.cancel.button"},s.translate("questionPools.panelCloseDialog.cancel")),n.default.createElement(a.AnalyticsPrimaryButton,{onClick:()=>t(),analyticsId:"questionPools.panelCloseDialog.close.button"},s.translate("questionPools.panelCloseDialog.close"))))},t.default=(0,o.localizedComponentWrapper)(t.QuestionPoolPanelCloseDialog)},n9RO:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeLimitOverriddenByDueDateBanner=void 0;var n=s("I0Cp");Object.defineProperty(t,"TimeLimitOverriddenByDueDateBanner",{enumerable:!0,get:function(){return n.TimeLimitOverriddenByDueDateBanner}})},odfX:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("+F4g"));s("q5uh");const o=n.__importDefault(s("ekqz"));t.default=e=>{const{answersInfo:t,question:s}=e;return i.default.createElement("div",{className:"readonly-calculated-numeric-question"},i.default.createElement("div",{className:"readonly-answer__main"},i.default.createElement(o.default,{id:s.id,bbml:s.questionText.rawText,isReadOnly:!0,refreshBbml:!0}),i.default.createElement(a.default,{...e})),t&&i.default.createElement("div",{className:"readonly-answer__info readonly-calculated-numeric-question__info"},i.default.createElement("div",{className:"readonly-calculated-numeric-question__info-section"},t[0]),i.default.createElement("div",{className:"readonly-calculated-numeric-question__info-section"},t[1]),i.default.createElement("div",{className:"readonly-calculated-numeric-question__info-section"},t[2])))}},p3qM:function(e,t,s){"use strict";s.r(t)},p5Yg:function(e,t,s){"use strict";s.r(t)},pKwh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentAppliedFilters=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("FS8K"),a=s("93oC"),o=s("tN4z"),l=s("zGdY"),r=s("kEh4"),u=s("AnUm"),c=s("56RL"),d="assessments.filter-criteria.remove";t.AssessmentAppliedFilters=({filter:e,onFilterAvailable:t,onFilterChanged:s,questionTypes:m})=>{var p,f;const h=n.useRef(null),[g,y]=n.useState(!1),v=(0,i.useTranslate)(),{isRtl:b}=(0,i.useLocalize)(),P=v("filterDropdown.ariaLabel"),_=e.status===r.QuestionStatusFilter.Unanswered,C=null!==(f=null===(p=e.types)||void 0===p?void 0:p.some((e=>e===l.QuestionType.Essay)))&&void 0!==f&&f,S=n.useCallback((t=>{var n;const i={status:t===r.QuestionStatusFilter.Unanswered?r.QuestionStatusFilter.All:e.status},a=null!==(n=e.types)&&void 0!==n?n:[],o=t===l.QuestionType.Essay?a.filter((e=>e!==t)):a;o.length>0&&(i.types=o),s(i)}),[e,s]),{chipContainerClass:A,paperClass:Q,rowClass:E}=(0,u.useStyles)(),w=()=>{!1!==(null==t?void 0:t())&&y(!g)};return _||C?n.createElement("div",{className:E},n.createElement("div",null,n.createElement(o.AnalyticsIconButton,{name:"assessment-header-question-filter-button",analyticsId:"assessments.filter-criteria.button","aria-label":P,ref:h,onClick:w,id:"assessment-header-question-filter-button","aria-controls":"assessment-header-question-filter-region","aria-expanded":g},n.createElement(a.FilterOptions,null)),n.createElement(o.AnalyticsPopover,{analyticsId:"assessments.filter-criteria.popover",anchorEl:h.current,open:g,onClose:w,anchorOrigin:{vertical:"bottom",horizontal:b()?"right":"left"},transformOrigin:{vertical:"top",horizontal:b()?"right":"left"},PaperProps:{className:Q},role:"region",id:"assessment-header-question-filter-region","aria-labelledby":"assessment-header-question-filter-button",tabIndex:-1},n.createElement(c.AssessmentFilterPopover,{analyticsId:"assessments.filter-criteria.popover",questionTypes:m,filter:e,onFilterChanged:s}))),n.createElement("ul",{className:A},_&&n.createElement("li",null,n.createElement(o.AnalyticsChip,{analyticsId:`${d}.unanswered`,label:v("filterDropdown.unansweredQuestions"),onDelete:()=>S(r.QuestionStatusFilter.Unanswered),deleteLabel:v("filterDropdown.filterChips.removeUnansweredCriteria")})),C&&n.createElement("li",null,n.createElement(o.AnalyticsChip,{analyticsId:`${d}.essay`,label:v("filterDropdown.questionTypes.essay"),onDelete:()=>S(l.QuestionType.Essay),deleteLabel:v("filterDropdown.filterChips.removeEssayCriteria")})))):null}},pgNt:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RandomizeQuestionsOption=t.RandomizeQuestionsOptionBase=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("AuQm"),a=s("IbyE"),o=s("uDfI"),l=s("FS8K"),r=s("0txJ"),u=s("tN4z"),c=s("yz5x");t.RandomizeQuestionsOptionBase=({assessmentId:e,checked:t,disabled:s,onCheckedChanged:i,analyticsId:c,openModal:d})=>{const m=`${c}.input.checkbox`,p=(0,l.useTranslate)(),f=(0,o.useDispatch)(),h=(0,o.useSelector)((t=>a.select.question.getPageBreakQuestionsByAssessmentId(t,e))),{rootClass:g}=(0,r.useStyles)(),y=(0,n.useCallback)((async e=>{if(!e.target.checked)return void i(!1);if(0===h.length)return void i(!0);const{confirmed:t}=await d();if(!t)return void i(!1);const s=await f(a.actions.question.deleteQuestions(h));s.results&&Object.keys(s.results).every((e=>s.results[e].isOk))?i(!0):i(!1)}),[i,h,d,f]);return n.default.createElement(u.AnalyticsFormControlLabel,{analyticsId:m,label:p("assessmentSettings.randomizeQuestions"),htmlFor:"randomize-questions",classes:{root:g},control:n.default.createElement(u.AnalyticsCheckbox,{analyticsId:m,checked:t,disabled:s,onChange:y,id:"randomize-questions"})})},t.RandomizeQuestionsOption=(0,i.withModal)((e=>({titleKey:e.titleKey,subTextKey:e.subtextKey,analyticsId:e.analyticsId})))(t.RandomizeQuestionsOptionBase,c.RemovePageBreaksConfirmationDialog)},ptuH:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=s("FS8K"),o=n.__importDefault(s("vQ80"));s("NNN4");const l=n.__importDefault(s("Fr0Y"));t.default=(0,a.localizedComponentWrapper)((({localize:e,headerKey:t,messageKey:s})=>i.default.createElement("div",{className:"question-reuse-sources-empty-state"},i.default.createElement(o.default,{image:l.default,passedClass:"question-reuse-sources-empty-state__image"}),i.default.createElement("h3",{className:"question-reuse-sources-empty-state__title"},e.translate(t)),i.default.createElement("div",{className:"question-reuse-sources-empty-state__message"},e.translate(s)))))},q1gl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importStar(s("ERkP")),a=s("w8C8"),o=s("XBaz"),l=n.__importDefault(s("bo9W")),r=s("NFW6"),u=s("FS8K");t.default=(0,u.localizedComponentWrapper)((({localize:e,onCodeRefresh:t,onCodeCopy:s})=>{const{containerClass:n,firstButtonClass:u}=(0,r.useStyles)();return i.createElement("div",{className:n},i.createElement(l.default,{className:u,analyticsId:"assessments.settings.accessCode.copy",onClick:s,tooltip:e.translate("assessments.settings.accessCode.copy"),activeTooltip:e.translate("assessments.settings.accessCode.copied")},i.createElement(a.Duplicate,null)),i.createElement(l.default,{analyticsId:"assessments.settings.accessCode.refresh",onClick:t,tooltip:e.translate("assessments.settings.accessCode.refresh"),activeTooltip:e.translate("assessments.settings.accessCode.refreshed")},i.createElement(o.Refresh,null)))}))},q5uh:function(e,t,s){"use strict";s.r(t)},riYo:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx"),i=s("THXI"),a=s("QgAF"),o={padding:"8px 10px"},l={lineHeight:1.2};t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({correctOrFullCredit:{...o,backgroundColor:e.palette.success.light},incorrect:{...o,backgroundColor:e.palette.error.light},partialCredit:{...o,backgroundColor:(0,a.lighten)(i.bbGradePalette.yellow,.8)},lateAnswerResultDataWrapper:{...l,marginBottom:"6px"},nonLateAnswerResultDataWrapper:{...l,marginBottom:"0px"},latenessWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},latenessText:{fontStyle:"italic"},latenessIcon:{marginRight:"6px"},answerResultText:{fontWeight:e.typography.fontWeightBold,marginBottom:"4px"}})))},rmaN:function(e,t,s){"use strict";s.r(t)},sed2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentAttemptViewManager=t.OneAtATimeQuestionAttemptView=t.AllAtOnceQuestionAttemptView=t.QuestionStatusFilter=t.NavigationOptions=t.FREEFORM_IDENTIFIER=t.BaseQuestionAttemptView=t.LocalizedAssessmentTimerToggle=t.NavigationDirection=t.LocalizedAssessmentControlsContainer=t.filterFeatureFlag=t.AssessmentAppliedFilters=t.AssessmentPageCounts=t.LocalizedAssessmentQuestionCounts=t.LocalizedAssessmentProgressBar=void 0;var n=s("BY2p");Object.defineProperty(t,"LocalizedAssessmentProgressBar",{enumerable:!0,get:function(){return n.LocalizedAssessmentProgressBar}});var i=s("LcgC");Object.defineProperty(t,"LocalizedAssessmentQuestionCounts",{enumerable:!0,get:function(){return i.LocalizedAssessmentQuestionCounts}});var a=s("TW/u");Object.defineProperty(t,"AssessmentPageCounts",{enumerable:!0,get:function(){return a.AssessmentPageCounts}});var o=s("pKwh");Object.defineProperty(t,"AssessmentAppliedFilters",{enumerable:!0,get:function(){return o.AssessmentAppliedFilters}});var l=s("Nidp");Object.defineProperty(t,"filterFeatureFlag",{enumerable:!0,get:function(){return l.filterFeatureFlag}}),Object.defineProperty(t,"LocalizedAssessmentControlsContainer",{enumerable:!0,get:function(){return l.LocalizedAssessmentControlsContainer}}),Object.defineProperty(t,"NavigationDirection",{enumerable:!0,get:function(){return l.NavigationDirection}});var r=s("enjr");Object.defineProperty(t,"LocalizedAssessmentTimerToggle",{enumerable:!0,get:function(){return r.LocalizedAssessmentTimerToggle}});var u=s("kEh4");Object.defineProperty(t,"BaseQuestionAttemptView",{enumerable:!0,get:function(){return u.BaseQuestionAttemptView}}),Object.defineProperty(t,"FREEFORM_IDENTIFIER",{enumerable:!0,get:function(){return u.FREEFORM_IDENTIFIER}}),Object.defineProperty(t,"NavigationOptions",{enumerable:!0,get:function(){return u.NavigationOptions}}),Object.defineProperty(t,"QuestionStatusFilter",{enumerable:!0,get:function(){return u.QuestionStatusFilter}});var c=s("1WkJ");Object.defineProperty(t,"AllAtOnceQuestionAttemptView",{enumerable:!0,get:function(){return c.AllAtOnceQuestionAttemptView}});var d=s("NhMM");Object.defineProperty(t,"OneAtATimeQuestionAttemptView",{enumerable:!0,get:function(){return d.OneAtATimeQuestionAttemptView}});var m=s("kSU3");Object.defineProperty(t,"AssessmentAttemptViewManager",{enumerable:!0,get:function(){return m.AssessmentAttemptViewManager}})},skmz:function(e,t,s){"use strict";s.r(t)},"tM/P":function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s("n3YT");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},uGkU:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OneQuestionAtATimeOption=t.RandomizeQuestionsOption=void 0;var n=s("pgNt");Object.defineProperty(t,"RandomizeQuestionsOption",{enumerable:!0,get:function(){return n.RandomizeQuestionsOption}});var i=s("+1kD");Object.defineProperty(t,"OneQuestionAtATimeOption",{enumerable:!0,get:function(){return i.OneQuestionAtATimeOption}})},wC38:function(e,t,s){"use strict";s.r(t)},wU0Y:function(e,t,s){"use strict";s.r(t)},wcS1:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K").__importStar(s("ERkP")),i=s("FS8K"),a=s("ApVX"),o=s("eqO1"),l=s("gnis"),r=s("yJL7"),u=s("VuCU"),c=s("o1iR"),d=s("EBQB"),m=s("CD3w"),p=s("i9xO"),f=s("EqdK"),h=s("Zbp7"),g=s("2561"),y=s("Agfx");t.default=(0,n.memo)((e=>{const{canvasEditor:t,hasActiveHotspotSelection:s}=e,v=(0,i.useTranslate)(),b=(0,u.useStyles)(),P=(0,y.useMediaQuery)((0,o.useTheme)().breakpoints.up("sm"));return n.default.createElement(n.default.Fragment,null,n.default.createElement(r.HotspotCanvasToolbar,null,n.default.createElement(m.HotspotCanvasToolbarPrimarySection,null,n.default.createElement(d.HotspotCanvasToolbarPrimaryInstructions,null,n.default.createElement("span",{className:b.primaryInstructionsText},v("assessments.canvas.question.hotspot.toolbar.addPin"))),n.default.createElement(c.HotspotCanvasToolbarPrimaryControl,{icon:n.default.createElement(l.Pin,{color:"primary"}),onClick:t.addNewHotspotPin,ariaLabel:v("assessments.canvas.question.hotspot.toolbar.addPin"),analyticsId:"assessments.canvas.question.hotspot.add.pin.button"})),n.default.createElement(h.HotspotCanvasToolbarSecondarySection,null,P&&n.default.createElement(g.HotspotCanvasToolbarSecondaryInstructions,null,v("assessments.canvas.question.hotspot.toolbar.pinInstructions")),n.default.createElement(f.HotspotCanvasToolbarSecondaryControls,null,n.default.createElement(p.HotspotCanvasToolbarSecondaryControl,{onClick:t.deleteSelectedHotspotPins,disabled:!s,icon:a.Erase,text:v("assessments.canvas.question.hotspot.toolbar.erasePin"),analyticsId:"assessments.canvas.question.hotspot.erase.pin.button"})))))}))},wdV1:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=n.__importDefault(s("1mOI"));s("97eZ");t.default=({question:e,answersInfo:t})=>i.default.createElement("div",{className:"readonly-calculated-formula-question"},i.default.createElement("div",{className:"readonly-answer__main"},i.default.createElement(a.default,{question:e,supportsInlineDocumentRender:!1})),t&&i.default.createElement("div",{className:"readonly-answer__info readonly-calculated-formula-question__info"},i.default.createElement("div",{className:"readonly-calculated-formula-question__info-section"},t[0]),i.default.createElement("div",{className:"readonly-calculated-formula-question__info-section"},t[1]),i.default.createElement("div",{className:"readonly-calculated-formula-question__info-section"},t[2])))},wrt4:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K").__importDefault(s("ERkP"));t.default=e=>n.default.createElement("p",null,"readonly essay presentation-only content: ",e.question.id)},x5Qg:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("D57K").__importStar(s("ERkP")),i=s("Ctdr"),a=s("FS8K");t.default=(0,a.localizedComponentWrapper)((({code:e,isNew:t=!1,localize:s})=>{const{accessCodeClass:a,highlightClass:o,noHighlightClass:l}=(0,i.useStyles)(),r=t?o:l;return n.createElement("span",{className:`${a} ${r} js-access-code-display`},s.formatNumber(Number.parseInt(e,10),{useGrouping:!1,minimumIntegerDigits:6}))}))},xt1P:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((()=>(0,n.createStyles)({textClass:{textTransform:"uppercase"}})))},xuTT:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadonlyMatchingQuestionBase=void 0;const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=s("E1pj"),o=n.__importDefault(s("ekqz")),l=n.__importStar(s("cw3y")),r=s("YSVG"),u=s("ZQN4"),c=s("K9sL");s("OFfX");const d=s("FS8K");t.ReadonlyMatchingQuestionBase=e=>{const{answersInfo:t,answersInfoLabel:s,hideDistractors:n,localize:a,question:d,UltraWindowSize:m,questionTextClassName:p}=e,f=(0,u.getSelectedScoringOption)(d),h=a.translate(`assessments.canvas.question.matching.scoringOptions.${f.key}`),g=a.translate("assessments.canvas.question.matching.scoringOptions.readPlaceholder",{scoringOption:h}),y=d.answers.filter((e=>e.isDistractor));return i.default.createElement("div",{className:"readonly-matching__container"},i.default.createElement("div",{className:p},i.default.createElement(o.default,{id:d.id,bbml:d.questionText.rawText,isReadOnly:!0,refreshBbml:!0})),i.default.createElement("div",{className:"readonly-matching__pairs"},i.default.createElement("div",{className:"readonly-answer__container"},i.default.createElement("div",{className:"readonly-multiple-answer-question__instructions readonly-answer__main readonly-answer__instructions"},!m.isSmallBreakpoint()&&i.default.createElement("div",{className:"readonly-matching__column-titles-container"},i.default.createElement("div",{className:"readonly-matching__column-title"},a.translate("assessments.canvas.question.matching.headers.prompts")),i.default.createElement("div",{className:"readonly-matching__column-title"},a.translate("assessments.canvas.question.matching.headers.answers")))),t&&i.default.createElement("span",{className:"readonly-answer__info-label readonly-answer__info"},s)),i.default.createElement("ol",{className:"readonly-matching__list"},d.prompts.map(((e,s)=>((e,s)=>{const n=s+1,u=`answer-header-${d.id}-${n}`,c=`prompt-header-${d.id}-${s}`,p=`${r.QUESTION_TITLE_ID_PREFIX}${d.id} ${c}`,f=m.isSmallBreakpoint()?a.translate("assessments.canvas.question.matching.indexMobile",{pairNumber:n}):a.translate("assessments.canvas.question.matching.index",{pairNumber:n});return i.default.createElement("li",{key:e.id,className:"readonly-matching__list-item readonly-answer__container"},i.default.createElement("div",{className:"readonly-matching-prompt-answer-pair__container readonly-answer__main"},i.default.createElement("div",{className:"readonly-matching-prompt-answer-pair__element readonly-matching-prompt-answer-pair__element-index"},f),i.default.createElement("div",{className:"readonly-matching-prompt-answer-pair__element readonly-matching-prompt-answer-pair__element-prompt"},i.default.createElement("div",{className:"readonly-matching-prompt-answer-pair__text"},i.default.createElement("div",{id:c,className:"sr-only"},a.translate("assessments.canvas.question.matching.headers.prompt",{pairNumber:n})),i.default.createElement(o.default,{ariaLabelledBy:p,bbml:e.promptText.rawText,id:`prompt-${e.id}`,isReadOnly:!0,ariaRequired:!0}))),m.isSmallBreakpoint()&&i.default.createElement("div",{className:"\n                        readonly-matching-prompt-answer-pair__element\n                        readonly-matching-prompt-answer-pair__element-answer-label\n                    "},a.translate("assessments.canvas.question.matching.answerLabel")),i.default.createElement("div",{className:"readonly-matching-answer"},i.default.createElement("div",{className:"readonly-matching-answer__text"},i.default.createElement("div",{id:u,className:"sr-only"},a.translate("assessments.canvas.question.matching.headers.answer",{pairNumber:n})),i.default.createElement(o.default,{ariaLabelledBy:p,bbml:d.answers[e.matchingAnswerIndex].answerText.rawText,id:l.getAnswerEditorId(e.id),isReadOnly:!0,ariaRequired:!0})))),t&&i.default.createElement("div",{className:"readonly-matching-question__answers-info readonly-answer__info"},t[s]))})(e,s)))),!n&&y.length>0&&i.default.createElement("div",{className:"readonly-matching__distractors"},i.default.createElement("div",{className:"readonly-matching__distractors-list"},i.default.createElement("div",{className:"readonly-matching__distractors-list-label"},i.default.createElement("span",null,a.translate("assessments.canvas.question.matching.additionalAnswers"))),i.default.createElement("ol",{className:"readonly-matching__list matching__distractors-list-items"},y.map(((e,t)=>((e,t)=>{const s=t+1,n=`distractor-header-${d.id}-${t}`,l=`${r.QUESTION_TITLE_ID_PREFIX}${d.id} ${n}`;return i.default.createElement("li",{className:"readonly-matching__distractors-list-items-item",key:e.ui.id},i.default.createElement("div",{className:"readonly-matching-distractor"},i.default.createElement("div",{className:"readonly-matching-distractor__answer"},i.default.createElement("div",{className:"readonly-matching-distractor__text"},i.default.createElement("div",{id:n,className:"sr-only"},a.translate("assessments.canvas.question.matching.headers.distractor",{distractorNumber:s})),i.default.createElement(o.default,{ariaLabelledBy:l,bbml:e.answerText.rawText,id:`distractor-${e.ui.id}`,isReadOnly:!0,ariaRequired:!0})))))})(e,t)))))),i.default.createElement("div",{className:"readonly-matching-question-scoring-options__text"},g)),i.default.createElement(c.AutomatedQuestionFeedbackRead,{question:d}))},t.default=(0,a.windowResizingResponsiveComponentWrapper)((0,d.localizedComponentWrapper)(t.ReadonlyMatchingQuestionBase))},"y/xD":function(e,t,s){"use strict";s.r(t)},y7VM:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutopostNotification=void 0;const n=s("D57K").__importStar(s("ERkP")),i=s("YPaW"),a=s("tN4z"),o=s("FS8K"),l=s("Hrs3"),r=s("nmzr"),u=s("IVC4"),c=()=>{r.router.goPeekState((0,r.assessmentSettingsRequest)({focusEleId:"auto-post-grades"}))};t.AutopostNotification=()=>{const[e,t]=(0,n.useState)(!1),s=(0,n.useRef)(null),r={onClick:c},d=(0,l.useStyles)(),m=(0,o.useTranslate)(),p=t=>{if(9===t.keyCode&&e){const e=document.getElementsByClassName("create-new-bar");e[e.length-1].focus(),t.preventDefault(),document.removeEventListener("keydown",p)}},f=e=>{9===e.keyCode&&s.current&&(s.current.focus(),e.preventDefault(),document.removeEventListener("keydown",f))};(0,n.useEffect)((()=>(document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)})),[e]),(0,n.useEffect)((()=>(document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)})),[]);const h=n.default.createElement(a.AnalyticsLink,{className:d.link,href:"#",...r,analyticsId:"assessment.canvas.notification.autopostGrades.link",ref:s},m("assessments.canvas.content.notifications.autopostNotification.linkText")),g=n.default.createElement(u.Attention,null),y=m("assessments.canvas.content.notifications.autopostNotification.message"),v=m("assessments.canvas.content.notifications.autopostNotification.dismiss");return e?null:n.default.createElement(i.Banner,{severity:"info",icon:g,onClose:()=>{t(!0)},closeText:v},y,n.default.createElement("span",{className:"autopost-notification-banner"}," ",h," "))}},yHJs:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseReadonlyFimbQuestion=void 0;const n=s("D57K"),i=n.__importDefault(s("ERkP")),a=s("ERsv"),o=n.__importDefault(s("ekqz")),l=s("5O/A"),r=s("K9sL");s("ykWg");const u=s("FS8K");t.BaseReadonlyFimbQuestion=e=>{const{question:t,answersInfo:s,answersInfoLabel:n,localize:u,questionTextClassName:c}=e,d={},m=e=>{const t=d[e];if(t)return t;const s=e.split("-")[1],n=u.translate("assessments.canvas.question.fimb.blank",{count:s});return d[e]=n,n};return i.default.createElement("div",{className:"readonly-fimb-question"},i.default.createElement("div",{className:c},i.default.createElement(o.default,{id:t.id,plugins:[(0,a.customClass)()],bbml:(e=>{let t=e.questionText.rawText;return e.answers.forEach((e=>{const{ident:s}=e,n=d[s];if(n)t=t.replace(s,n);else{const e=m(s);t=t.replace(s,e),d[s]=e}})),t})(t),isReadOnly:!0,refreshBbml:!0})),i.default.createElement("div",{className:"readonly-fimb-question"},i.default.createElement("div",{className:"readonly-answer__container"},i.default.createElement("span",{className:"readonly-fimb-question__instructions readonly-answer__instructions readonly-answer__main"}),s&&i.default.createElement("span",{className:"readonly-answer__info-label readonly-answer__info"},n)),t.answers.map(((e,t)=>{const n=e.answerValues[0],a=l.EvaluationTypeEnum[n.evaluationType].locKey,o=u.translate(`${a}.${n.caseSensitive?"readOnlyCaseSensitive":"readOnly"}`);return i.default.createElement("div",{key:e.ident,className:"readonly-fimb-question-answer"},i.default.createElement("div",{className:"readonly-answer__container"},i.default.createElement("div",{className:"readonly-answer__main readonly-fimb-question-answer-input"},i.default.createElement("div",{className:"readonly-fimb-question-answer-input__label"},m(e.ident)),i.default.createElement("div",{className:"readonly-fimb-question-answer-input__input-wrapper"},i.default.createElement("div",{className:"readonly-fimb-question-answer-input__answer"},e.answerValues.map((e=>e.value)).join(";")))),s&&i.default.createElement("div",{className:"readonly-answer__info"},s[t])),i.default.createElement("div",{className:"readonly-fimb-question-answer__description"},o))})),i.default.createElement(r.AutomatedQuestionFeedbackRead,{question:t})))},t.default=(0,u.localizedComponentWrapper)(t.BaseReadonlyFimbQuestion)},yhMC:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImportStatusBanner=void 0;var n=s("IArP");Object.defineProperty(t,"ImportStatusBanner",{enumerable:!0,get:function(){return n.ImportStatusBanner}})},ykWg:function(e,t,s){"use strict";s.r(t)},yz5x:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemovePageBreaksConfirmationDialog=void 0;const n=s("D57K").__importDefault(s("ERkP")),i=s("FS8K"),a=s("caKH"),o=s("tN4z");t.RemovePageBreaksConfirmationDialog=e=>{const{titleKey:t,subTextKey:s,exitCallback:l}=e,r=(0,i.useTranslate)(),u="remove-page-breaks.dialog",c=`${e.analyticsId}.${u}`,d=`${u}-title`;return n.default.createElement(a.BbUiModalDialog,{className:"js-assessment-canvas-controls-combineConfirmation",analyticsId:`${c}`,open:!0,onClose:()=>l(),"aria-labelledby":"assessment-canvas-controls-combineConfirmation-title"},n.default.createElement(o.AnalyticsDialogTitle,{analyticsId:`${c}.title`,id:d,onClose:()=>l()},r(t)),n.default.createElement(o.AnalyticsDialogContent,{analyticsId:`${c}.content`},n.default.createElement(o.AnalyticsDialogContentText,{analyticsId:`${c}.body`},r(s))),n.default.createElement(o.AnalyticsDialogActions,{analyticsId:`${c}.actions`},n.default.createElement(o.AnalyticsDefaultButton,{analyticsId:`${c}.cancel`,onClick:()=>l()},r("assessments.canvas.controls.combineConfirmation.cancel")),n.default.createElement(o.AnalyticsPrimaryButton,{analyticsId:`${c}.combine`,onClick:()=>l(!0)},r("assessments.canvas.controls.combineConfirmation.combine"))))}},z3so:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=void 0;const n=s("Agfx");t.useStyles=(0,n.makeStyles)((e=>(0,n.createStyles)({filterButton:{background:e.palette.common.white,border:`1px solid ${e.palette.grey[700]}`,boxSizing:"border-box",borderRadius:"2px",padding:"8px 12px",justifyContent:"space-between",[e.breakpoints.up("md")]:{width:"200px"}},filterButtonText:{width:"max-content"},filterButtonIcon:{transform:"rotate(90deg)",[e.breakpoints.up("md")]:{display:"flex",justifyContent:"flex-end",transform:"rotate(0)"}},paperClass:{width:"100%",[e.breakpoints.up("sm")]:{width:"300px"}}})))}}]);